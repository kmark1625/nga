H.util.eval("function to(a,b){return ba[a]=b}Qh.prototype.Ke=to(0,function(){return this.b});function uo(){return!0};function vo(){}vo.prototype.o=function(){};vo.prototype.X=function(){};vo.prototype.l=function(){};q(\"H.clustering.ICluster.prototype.forEachEntry\",vo.prototype.l);vo.prototype.i=function(){};q(\"H.clustering.ICluster.prototype.forEachDataPoint\",vo.prototype.i);function wo(a,b,c){this.S=this.v=c;this.c=[];this.g=0;this.a=ve(a,b,!0)}q(\"H.clustering.grid.Cluster\",wo);wo.prototype.$c=function(a){this.b||(this.b=Sb(a));this.g+=a.wt||1;this.c.push(a)};wo.prototype.Ke=function(){return this.c};wo.prototype.getPosition=function(){return this.b};wo.prototype.getPosition=wo.prototype.getPosition;wo.prototype.$a=function(){return this.g};wo.prototype.getWeight=wo.prototype.$a;wo.prototype.j=uo;wo.prototype.isCluster=wo.prototype.j;wo.prototype.f=function(){return this.v};\nwo.prototype.getMinZoom=wo.prototype.f;wo.prototype.o=function(){return this.S};wo.prototype.getMaxZoom=wo.prototype.o;wo.prototype.X=function(){return this.a};wo.prototype.getBounds=wo.prototype.X;wo.prototype.l=function(a){this.i(a)};wo.prototype.forEachEntry=wo.prototype.l;wo.prototype.i=function(a){var b=this;if(!la(a))throw new C(this.i,0,a);this.c.forEach(function(c){a(new xo(c,b.v+1))})};wo.prototype.forEachDataPoint=wo.prototype.i;function yo(a){Yc.call(this);this.a=[];var b;a?hb(b={},zo,a):b=zo;this.g=b;Yc.call(this)}v(yo,Yc);var Ao={cancel:bc},Bo={clusters:[],noisePoints:[]},zo={projection:ag,min:0,max:22,eps:32,minWeight:2};n=yo.prototype;n.fc=function(a){this.a=a;this.b=!0};n.Va=function(a){this.a.push(a);this.b=!0};n.rg=function(a){this.a=this.a.concat(a);this.b=!0};n.Te=function(a){this.a=this.a.filter(function(b){return b!==a});this.b=!0};n.D=function(){yo.A.D.call(this);this.a=null};n.Zg=bc;function xo(a,b){this.a=a;this.b=b}q(\"H.clustering.grid.NoisePoint\",xo);xo.prototype.getPosition=function(){return Sb(this.a)};xo.prototype.getPosition=xo.prototype.getPosition;xo.prototype.$a=function(){return this.a.wt};xo.prototype.getWeight=xo.prototype.$a;xo.prototype.j=$d;xo.prototype.isCluster=xo.prototype.j;xo.prototype.f=function(){return this.b};xo.prototype.getMinZoom=xo.prototype.f;xo.prototype.getData=function(){return this.a.data};xo.prototype.getData=xo.prototype.getData;function Co(a){yo.call(this,a)}v(Co,yo);\nCo.prototype.Af=function(a){var b=this.g,c=b.min,d=b.max,e=[],f=[],g;if(this.b){for(g=this.a;c<=d;c++){for(var h=c,k=g,l=e,m=f,p=void 0,r=p=void 0,t=void 0,u=b.eps,y=b.projection,K=b.minWeight,X=t=void 0,ra=void 0,aa=t=void 0,bb=k.length,ka=void 0,Ca=Math.pow(2,h+8),Da=void 0,Jb=void 0,Da=void 0,Df=[];p=k[--bb];)if(!p.If){aa=y.jb(p).scale(Ca).floor();r=Ca;X=aa.x;ra=aa.y;for(ka=Df.length;ka--;)Da=Df[ka],t=Da.getPosition(),Da.Hf||(Da.Hf=y.jb(t).scale(Ca).floor()),t=Da.Hf,t=t.distance(aa),t<r&&(r=t,\nJb=Da);Jb&&Jb.X().Wb(p)||(Jb=new wo(y.Lc({x:(X-u)/Ca,y:(ra-u)/Ca}),y.Lc({x:(X+u)/Ca,y:(ra+u)/Ca}),h),Df.push(Jb));Jb.$c(p);Jb=null}for(bb=Df.length;bb--;)if(Da=Df[bb],p=Da.$a(),p<K)for(Da=Da.Ke(),ka=Da.length;p=Da[--ka];)m.push(new xo(p,h)),p.If=!0;else l.push(Da)}c=0;for(d=g.length;c<d;c++)delete g[c].If;this.b=!1;a({clusters:e,noisePoints:f})}return Ao};function Do(){var a=document.createElement(\"canvas\"),b=a.getContext(\"2d\"),c=a.width=a.height=14;b.beginPath();b.strokeStyle=\"#FFFFFF\";b.fillStyle=\"#1080DD\";b.arc(c/2,c/2,6,0,2*Math.PI,!1);b.fill();b.lineWidth=1;b.stroke();this.g=new kh(a,{size:{w:c,h:c},anchor:{x:7,y:7}});this.a={};this.b={}}q(\"H.clustering.theme.Circular\",Do);\nfunction Eo(a,b,c){var d=b+\":\"+c,e,f=document.createElement(\"canvas\"),g=f.getContext(\"2d\");f.width=f.height=b;(e=a.a[d])?g.putImageData(e,0,0):(e=b/2,g.beginPath(),g.strokeStyle=\"rgba(\"+c+\",0.2)\",g.fillStyle=\"rgba(\"+c+\",1)\",g.arc(e,e,e/5*3,0,2*Math.PI,!1),g.fill(),g.lineWidth=e/5*4,g.stroke(),a.a[d]=g.getImageData(0,0,b,b));return f}\nDo.prototype.c=function(a){var b,c,d=a.$a(),e,f;b=this.b[d];b||(10>d?(b=Eo(this,28,\"118,209,0\"),c={x:11,y:18}):25>d?(b=Eo(this,38,\"255,105,0\"),c={x:13,y:23}):50>d?(b=Eo(this,38,\"240,60,0\"),c={x:13,y:23}):100>d?(b=Eo(this,38,\"181,0,21\"),c={x:13,y:23}):1E3>d?(b=Eo(this,48,\"181,0,21\"),c={x:15,y:28}):(b=Eo(this,66,\"181,0,21\"),c={x:20,y:38}),e=b.width,f=b.getContext(\"2d\"),f.fillStyle=\"#FFFFFF\",f.font=\"11px Arial\",f.fillText(d,c.x,c.y),b=new kh(b,{anchor:{x:e/2,y:e/2}}),this.b[d]=b);d=new ph(a.getPosition(),\n{icon:b,min:a.f(),max:a.o()});d.setData(a);return d};Do.prototype.getClusterPresentation=Do.prototype.c;Do.prototype.f=function(a){var b=new ph(a.getPosition(),{icon:this.g,min:a.f()});b.setData(a);return b};Do.prototype.getNoisePresentation=Do.prototype.f;function Fo(a,b,c,d,e){var f,g,h;h={};g=f=void 0;h.gh=!!self.ArrayBuffer;h.Gh=function(a,b,c,d,e){var f=0,g=a.byteLength?new Float32Array(a):a,k=g.length/3,l;a=[];for(var aa,bb=[],ka=[],Ca=h.gh?new Uint32Array(2*k):[],k=0,Da=b*(1<<23-d),Jb=0;f<g.length;){d=g[f++];l=g[f++];b=g[f++];e(b,l,Ca,Jb);for(b=a.length;b--;)if(l=a[b],l.Wb(Ca,Jb)){aa=l;break}aa||(aa=new h.Wc(Ca,Jb,Da),a.push(aa));aa.pi(Jb/2,d);aa=null;Jb+=2}for(b=a.length;b--;)l=a[b],e=l.$a()>=c,aa=l.mg,f=aa.length,e?(bb.push(f),bb=bb.concat(aa)):\n(k+=f,ka=ka.concat(aa));c=[k].concat(ka).concat(bb);return h.gh?(new Uint32Array(c)).buffer:c};h.Wc=function(a,b,c){var d=a[b];a=a[b+1];this.mg=[];this.b=0;this.c=b;this.a=[a-c,d-c,a+c,d+c]};h.Wc.prototype.pi=function(a,b){this.b+=b||1;this.mg.push(a)};h.Wc.prototype.Wb=function(a,b){var c=a[b],d=a[b+1],e=this.a;return e[1]<=c&&c<=e[3]&&e[0]<=d&&d<=e[2]};h.Wc.prototype.$a=function(){return this.b};h.Wc.prototype.Ja=function(){return this.c};var k=Math.PI/2,l=k/2;f=function(a,b,c,d){c[d]=2147483648*\n(b/360+.5);c[d+1]=Math.min(2147483648,Math.max(0,2147483648*(.5-Math.log(Math.tan(l+k*a/180))/Math.PI/2)))};g=function(a,b,c,d){c[d]=b;c[d+1]=a};a=h.Gh(a,b,c,d,e?g:f);this.postMessage(a,[a])};function Go(a){yo.call(this,a);a=this.g;if(a.projection!==ag)throw new C(Go,0,\"Other projection than mercator not supported yet\");this.l=a.projection;this.f=a.eps;this.s=a.minWeight;this.o=new bg(this.l);(new Cg).Ug(\"cluster\",Fo);this.i=z(this.i,this);this.j=z(this.j,this)}v(Go,yo);Go.prototype.Zg=function(a,b){this.v=a;this.m=ya(b)};\nGo.prototype.Af=function(a,b){var c,d,e,f;c=this.c;var g=this.v,h=this.m||0;d=!c||!(c.zoom===h&&c.c.o(g));var k=Ao;if(g&&(this.b||d)){c&&3>c.state&&c.cancel();this.b=!1;c=this.f;var l;c>=128<<h?f=Ho:(d=this.o,d.Ha(h),e=d.geoToPixel(g.lb()),f=d.geoToPixel(g.kb()),e.y-=c,f.y+=c,e=d.a(e),l=d.a(f),f=new I(e.lat,e.lng,l.lat,l.lng),c=d.ya(c,0).lng+180,f=f.a(e.lat,e.lng-c,l.lat,e.lng).a(e.lat,l.lng,l.lat,l.lng+c));c=f;e=this.a;f=[];for(d=e.length;d--;)c.Wb(e[d])&&f.push(e[d]);0<f.length?(this.c=new Io(g,\nh,f,this.f,this.s,this.l!==ag,a,b),this.c.then(this.i,this.j),k=this.c):a(Bo)}return k};Go.prototype.i=function(a){wb(a)||(a=new w.Uint32Array(a));this.c.g(Jo(this,a))};Go.prototype.j=function(a){ja(a)&&this.c.f(a)};var Ho=new I(90,-180,-90,180);\nfunction Jo(a,b){for(var c=0,d=b[c++],e=Array(d),f=0,g=[],h=b.length,k=a.c.a,l=a.c.zoom;d--;)e[f++]=new xo(k[b[c++]],l);for(;c<h;){var d=b[c++],f=k[b[c]],m=a.o,p=void 0,r=a.f,t=void 0,p=void 0;m.Ha(a.c.zoom);p=m.geoToPixel(f);t=m.ya(p.x-r,p.y-r);p=m.ya(p.x+r,p.y+r);f=new I(t.lat,t.lng,p.lat,p.lng);for(f=new wo(f.lb(),f.kb(),l);d--;)f.$c(k[b[c++]]);g.push(f)}return{clusters:g,noisePoints:e}}Go.prototype.D=function(){Go.A.D.call(this)};\nfunction Io(a,b,c,d,e,f,g,h){this.c=a;this.zoom=b;this.a=c;this.g=g;this.f=h;a=c.length;g=3*a;h=new (w.Float32Array||Array)(g);for(var k;a--;)k=c[a],h[--g]=k.lat,h[--g]=k.lng,h[--g]=k.wt;Vc.call(this,\"cluster\",{message:[h,d,e,b,f]},void 0)}v(Io,Eg);function Ko(a,b,c){this.c=a;this.a=b;this.g=c}q(\"H.clustering.fastgrid.NoisePoint\",Ko);Ko.prototype.getPosition=function(){this.b||(this.b=this.c.ya(this.a[1],this.a[0],1));return this.b};Ko.prototype.getPosition=Ko.prototype.getPosition;Ko.prototype.$a=function(){return this.a.a};Ko.prototype.getWeight=Ko.prototype.$a;Ko.prototype.j=$d;Ko.prototype.isCluster=Ko.prototype.j;Ko.prototype.f=function(){return this.g-this.c.c};Ko.prototype.getMinZoom=Ko.prototype.f;Ko.prototype.getData=function(){return this.a.data};\nKo.prototype.getData=Ko.prototype.getData;function Lo(a,b,c,d){this.g=a;this.c=b;this.s=c;this.B=d;this.S=sa(this.S,this);this.v=sa(this.v,this)}q(\"H.clustering.fastgrid.Cluster\",Lo);Lo.prototype.getPosition=function(){this.b||(this.b=this.g.ya(this.c.ad,this.c.bd,this.c.Ya));return this.b};Lo.prototype.getPosition=Lo.prototype.getPosition;Lo.prototype.$a=function(){return this.c.Ya};Lo.prototype.getWeight=Lo.prototype.$a;Lo.prototype.j=uo;Lo.prototype.isCluster=Lo.prototype.j;\nLo.prototype.f=function(){return this.s?this.s-this.g.c:-1/0};Lo.prototype.getMinZoom=Lo.prototype.f;Lo.prototype.o=function(){return this.B-this.g.c};Lo.prototype.getMaxZoom=Lo.prototype.o;Lo.prototype.X=function(){this.a||(this.a=ve(this.g.ya(this.c.a,this.c.f,1),this.g.ya(this.c.b,this.c.c,1),!0));return this.a};Lo.prototype.getBounds=Lo.prototype.X;Lo.prototype.l=function(a){this.m=a;Mo(this.c,this.S)};Lo.prototype.forEachEntry=Lo.prototype.l;\nLo.prototype.S=function(a,b){var c=!1,d,e,f;a.Ya>=this.g.l&&a!==this.c&&a.Ya!==this.c.Ya&&(this.m(new Lo(this.g,a,0,b)),c=!0);if(!c&&(d=a.entries))for(e=d.length,f=0;f<e;f++)this.m(new Ko(this.g,d[f],b));return c};Lo.prototype.i=function(a){this.u=a;Mo(this.c,this.v)};Lo.prototype.forEachDataPoint=Lo.prototype.i;Lo.prototype.v=function(a,b){var c,d,e;if(c=a.entries)for(d=c.length,e=0;e<d;e++)this.u(new Ko(this.g,c[e],b));return!1};function No(a,b,c,d,e,f){this.i=b;a&&(this.g=a,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9]));this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}n=No.prototype;n.rc=0;function Oo(a,b){return a[b]||(++a.rc,a[b]=new No(a,b))}n.removeChild=function(a){var b=a.i;this[b]===a&&(delete this[b],delete a.g,--this.rc)};function Mo(a,b){for(var c=0,d=a;d=d.g;)++c;Po(a,b,Wa,c)}\nfunction Po(a,b,c,d){var e,f;if(!b(a,d)&&c--)for(++d,e=0;4>e;e++)(f=a[e])&&Po(f,b,c,d)}n.ad=0;n.bd=0;n.Ya=0;function Qo(a){this.c=a||10;this.a=null;Ro(this)}function Ro(a){a.b=a.a=new No(null,NaN,0,0,4294967296,4294967296)}function So(a,b){var c,d;for(c=0;4>c;c++)if(d=b[c])So(a,d),delete b[c];delete b.g;delete b.entries}function To(a,b){var c=a.b,d,e;if(b){if(d=b,d!==c)for(c=d;d=d.g;)if(d.entries||1<d.rc)c=d}else for(;!c.entries&&2>(e=c.rc);)if(e)c=d;else break;a.b=c}\nfunction Uo(a,b,c,d,e,f,g){var h;h=b.entries;var k;f?b.rc?h=Uo(a,Oo(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g):h?(h=h[0],k=Oo(b,h[1]>=b[8]|(h[0]>=b[9])<<1),k.entries=b.entries,k.ad=b.ad,k.bd=b.bd,k.Ya=b.Ya,k.a=b.a,k.f=b.f,k.b=b.b,k.c=b.c,delete b.entries,h.node=k,To(a,k),h=Uo(a,Oo(b,c>=b[8]|(d>=b[9])<<1),c,d,e,f-1,g)):(f=h=new Vo(c,d,e,g),(b.entries||(b.entries=[])).push(f),To(a,b)):(h||To(a,b),a=h=new Vo(c,d,e,g),(b.entries||(b.entries=[])).push(a));b.ad+=c*e;b.bd+=d*e;b.Ya+=e;b.a===A?(b.a=b.b=c,b.f=b.c=\nd):(c<b.a?b.a=c:c>b.b&&(b.b=c),d<b.f?b.f=d:d>b.c&&(b.c=d));return h}function Vo(a,b,c,d){this[0]=b;this[1]=a;this.a=c;this.data=d};function Wo(a){yo.call(this,a);a=this.g;this.j=a.projection;this.o=a.min;this.f=a.max;this.l=a.minWeight;this.c=7-ya(Ea(xa(1,a.eps))/Oa);this.i=new Qo(xa(this.o,this.f+this.c))}v(Wo,yo);n=Wo.prototype;\nn.fc=function(a){var b=0,c=a.length,d,e=new L(0,0),f=this.j,g=this.i;Wo.A.fc.call(this,a);So(g,g.a);for(Ro(g);b<c;b++){f.jb(d=a[b],e).scale(4294967296).floor();var h=e.x,k=e.y,l=g.a;if(!(h>=l[7]&&k>=l[4]&&h<=l[5]&&k<=l[6]))throw Error(\"Coordinates out of bounds\");Uo(g,g.a,h,k,d.wt,g.c,d.data)}this.b=!0};n.Va=function(a){Wo.A.Va.call(this,a);this.fc(this.a)};n.rg=function(a){for(var b=a.length,c=Wo.A.Va;b--;)c.call(this,a[b]);this.fc(this.a)};n.Te=function(a){Wo.A.Te.call(this,a);this.fc(this.a)};\nn.ya=function(a,b,c,d){return this.j.ya(a/c/4294967296,b/c/4294967296,d)};n.Af=function(a){var b;this.b&&(b={clusters:[],noisePoints:[]},Xo(this,this.i.a,0,this.f+this.c,-1/0,b,null),this.b=!1,a(b));return Ao};function Xo(a,b,c,d,e,f,g){var h=b.Ya,k;g&&(g.node.Ya!==h?(f.clusters.push(new Lo(a,g.node,g.depth,c-1)),g=null):e++);g||(h>=a.l?(g={node:b,depth:c},e=c):Yo(a,b,e+1,f));if(b.rc&&d--)for(c++,h=0;4>h;h++)if(k=b[h])Xo(a,k,c,d,e,f,g),g=null;g&&f.clusters.push(new Lo(a,g.node,g.depth,a.f+a.c))}\nfunction Yo(a,b,c,d){b=b.entries;var e,f;if(b)for(e=b.length,d=d.noisePoints,f=0;f<e;f++)d.push(new Ko(a,b[f],c));else for(f=0;4>f;f++)(e=a[f])&&Yo(a,e,c,d)}n.D=function(){Wo.A.D.call(this);this.i=null};function Zo(a,b,c,d){this.lat=a;this.lng=b;this.wt=c===+c?c:1;this.data=d}q(\"H.clustering.DataPoint\",Zo);Zo.prototype.lat=NaN;Zo.prototype.lng=NaN;function V(a,b){var c=b||{},d={},e=c.min||0,f=xa(e,c.max||22),g={min:e,max:f};this.min=e;this.max=f;E.call(this);this.b=new G(g);this.b.da(this);this.c=this.b.g;hb(d,zo,g,c.clusteringOptions||{});d.minWeight=xa(zo.minWeight,d.minWeight);switch(d.strategy){case $o.DYNAMICGRID:if(d.projection!==ag)throw new C(V,1,\"Unsupported projection\");this.a=new Go(d);break;case $o.GRID:this.a=new Co(d);break;default:this.a=new Wo(d)}this.a.fc(a);this.f=c.theme||new Do;this.i=z(this.i,this);this.l=z(this.l,this);\nap(this)}v(V,E);q(\"H.clustering.Provider\",V);V.prototype.D=function(){V.A.D.call(this);this.c.Fa();this.b=null;this.a.J();this.f=this.g=this.a=null;w.clearTimeout(this.j)};var $o={FASTGRID:0,GRID:1,DYNAMICGRID:2};V.Strategy=$o;V.prototype.i=function(){this.dispatchEvent(this.C.mh);this.a.Af(this.l,bc)};function ap(a,b,c){a.j&&w.clearTimeout(a.j);b&&a.a.Zg(b,c);a.j=w.setTimeout(a.i,150)}V.prototype.l=function(a){this.dispatchEvent(this.C.lh);this.g=a;bp(this)};\nV.prototype.U=function(a){this.a.fc(a);ap(this)};V.prototype.setDataPoints=V.prototype.U;V.prototype.Va=function(a){this.a.Va(a);ap(this)};V.prototype.addDataPoint=V.prototype.Va;V.prototype.v=function(a){this.a.rg(a);ap(this)};V.prototype.addDataPoints=V.prototype.v;V.prototype.M=function(a){this.a.Te(a);ap(this)};V.prototype.removeDataPoint=V.prototype.M;V.prototype.o=function(){return this.f};V.prototype.getTheme=V.prototype.o;V.prototype.ga=function(a){this.f=a;this.g&&(this.c.Fa(),bp(this))};\nV.prototype.setTheme=V.prototype.ga;function bp(a){var b=a.g.clusters,c=a.g.noisePoints,d,e=b.length,f=c.length;for(a.c.Fa();e--;)d=b[e],a.c.T(a.f.getClusterPresentation(d));for(;f--;)b=c[f],a.c.T(a.f.getNoisePresentation(b));a.dispatchEvent(a.C.ba)}V.prototype.C={ba:\"update\",mh:\"start\",lh:\"end\"};V.prototype.u=function(){return!0};V.prototype.providesDomMarkers=V.prototype.u;V.prototype.I=function(a,b,c,d){ap(this,a,b);return this.b.i(a,b,c,d)};V.prototype.requestDomMarkers=V.prototype.I;\nV.prototype.B=function(){return!0};V.prototype.providesMarkers=V.prototype.B;V.prototype.L=function(a,b,c,d){ap(this,a,b);return this.b.j(a,b,c,d)};V.prototype.requestMarkers=V.prototype.L;V.prototype.F=function(){return!0};V.prototype.providesSpatials=V.prototype.F;V.prototype.O=function(a,b,c,d){ap(this,a,b);return this.b.l(a,b,c,d)};V.prototype.requestSpatials=V.prototype.O;V.prototype.N=function(a,b,c){return this.b.b(a,b,c)};V.prototype.requestSpatialsByTile=V.prototype.N;V.prototype.m=function(){return this.b.s()};\nV.prototype.getInvalidations=V.prototype.m;V.prototype.s=function(a,b){this.b.c(a,b)};V.prototype.invalidateObject=V.prototype.s;V.prototype.Da=function(){return null};V.prototype.getCopyrights=V.prototype.Da;q(\"H.clustering.buildInfo\",function(){return rg(\"mapsjs-clustering\",\"1.0.0\",\"9119ef7\")});\n");