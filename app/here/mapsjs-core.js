(function(){var n,ba=[];function ca(a){return function(){return ba[a].apply(this,arguments)}}var da=this;function ea(a,b,c){a=a.split(".");c=c||da;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b}function fa(a){a=a.split(".");for(var b=da,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ga(){}function ha(){throw Error("unimplemented abstract method");}
function ia(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ja(a){return"string"==typeof a}function la(a){return"function"==ia(a)}function ma(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var na="closure_uid_"+(1E9*Math.random()>>>0),oa=0;function pa(a,b,c){return a.call.apply(a.bind,arguments)}
function qa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function sa(a,b,c){sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:qa;return sa.apply(null,arguments)}var ta=Date.now||function(){return+new Date};function q(a,b){ea(a,b,void 0)}
function v(a,b){function c(){}c.prototype=b.prototype;a.A=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ji=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var ua=Math,va=ua.random,wa=ua.min,xa=ua.max,ya=ua.round,za=ua.floor,Aa=ua.ceil,Ba=ua.abs,Ea=ua.log,Fa=ua.sqrt,Ga=ua.pow,Ha=ua.exp,Ia=ua.sin,Ja=ua.asin,Ka=ua.cos,La=ua.tan,Ma=ua.atan,Na=ua.atan2,Oa=ua.LN2,Pa=ua.PI,Qa=Pa/2,Ra=Pa/4,Sa=2*Pa,Ta=3*Pa,Ua=Pa/180,Va=180/Pa,Wa=1/0,Xa=Ga(-2,53),Ya=Ya||function(a){return Ea(a)/Oa};function Za(a,b){var c;return 0>(c=a%b)===0>b?c:c+b}function $a(a,b,c){b-=c=c||0;a-=c;return a-za(a/b)*b+c}q("H.math.normalize",$a);
function ab(a,b,c){return(a-=0)>c?c:a<b?b:a}q("H.math.clamp",ab);function cb(a,b,c,d){(d-=0)||(d=0);return b<c?a>=b-d&&a<=c+d:a>=c-d&&a<=b+d}function db(a,b,c,d,e,f){return Fa(Ga((a-e)*(d-f)-(b-f)*(c-e),2)/(Ga(c-e,2)+Ga(d-f,2)))}var eb={NONE:0,Ii:1,Di:2,Hi:3};
function fb(a,b,c,d,e){for(var f=c.length,g=f,h,k,l,m=c[0],p=0,r=0,t=0,u=d/2||0,y=e?1:3;1!=p&&g>y;){h=c[--g];d=c[--g];l=c[g?g-1:(f+(g-1))%f];k=c[g?g-2:(f+(g-2))%f];if(d>=a-u&&d<=a+u&&h>=b-u&&h<=b+u||k>=a-u&&k<=a+u&&l>=b-u&&l<=b+u)p=1;else if(!p&&d===a)k===a&&(h<b&&l>b||h>b&&l<b)||(m<=a&&k>a||m>=a&&k<a)&&(h>=b?++r:++t),p=cb(b,h,l,u)&&db(a,b,d,h,k,l)<=u?2:0;else if(!p&&cb(a,d,k,u)){if(d<a&&k>a||d>a&&k<a)m=h+(a-d)/(k-d)*(l-h),r+=m>b,t+=m<b;p=cb(b,h,l,u)&&db(a,b,d,h,k,l)<=u?2:0}m=d}!p&&e&&0!==t&&0!==
r%2&&(p=3);return p};var gb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<gb.length;f++)c=gb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var w=function(){return this}();function ib(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ib);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}v(ib,Error);ib.prototype.name="CustomError";var jb=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function kb(a,b){return a<b?-1:a>b?1:0};var lb=Array.prototype,mb=lb.indexOf?function(a,b,c){return lb.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ja(a))return ja(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function nb(){return Object.create(x,void 0)}var z=sa,ob=String;function pb(a){return eval(""+a)}var qb=w.Object.freeze||function(a){return a},A=pb(),x=pb(null);function rb(a,b){return ob(a).split(b!==A?b:" ")}var sb="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(a,b,c,d,e){if(!(b=a instanceof b)&&c)throw new C(c,d,e!==A?e:a);return b}
function tb(a,b){if(!0===(B(a,b)&&a.constructor===b))throw new TypeError("Illegal constructor "+ub(b));}q("H.lang.isObject",ma);function vb(a){for(var b in a)return!1;return!0}q("H.lang.isEmptyObject",vb);function wb(a){var b=ia(a);return"array"==b||"object"==b&&"number"==typeof a.length}function xb(a,b,c,d,e){if(!(b=yb(a)===b)&&c)throw new C(c,d,e!==A?e:a);return b}function zb(a,b,c,d){return xb(a,"Array",b,c,d)}q("H.lang.isArray",zb);q("H.lang.isString",ja);
var Ab=parseFloat,D=isNaN;function Bb(a){return a===+a}q("H.lang.isNumber",Bb);function Cb(a){return!D(+a)}function yb(a){var b=Object[sb[0]][sb[6]].call(a).match(/^\[object (\w+)\]$/);return b?b[1]:typeof a}
function ub(a,b,c,d){var e="",f=2>arguments.length;f&&(b={H:w.H},c="",d=[]);Db(b,!0,function(b,f){var k=b[f];f=Eb(b,k);var l;if(l=!(ma(k)&&k.window===k&&k.self===k))l=!(ma(k)&&0<k.nodeType&&la(k.cloneNode));if(l&&ma(k)){if(k===a)return e=c+"."+f,!0;if(0>d.indexOf(k)&&(d.push(k),e=ub(a,k,c+"."+f,d)))return!0}});f&&(e=e?e.substr(1).replace("."+sb[0]+".","#"):"~"+(la(a)?Fb(a)+"()":yb(a)));return e}function Eb(a,b){var c=[];Db(a,!1,function(a,e){a[e]===b&&c.push(e)});return c.sort(Gb)[0]}
function Gb(a,b){return b.length-a.length}var Hb=Object[sb[0]][sb[2]];function Db(a,b,c){var d,e;if(a){for(d in a)if((!b||Hb.call(a,d))&&c(a,d,!0))return;for(e=sb.length;e--&&(d=sb[e],b&&!Hb.call(a,d)||!c(a,d,!1)););}}function Fb(a){return(a=/^\s*function ([^\( ]+)/.exec(a))?a[1]:"anonymous"}function Ib(a,b,c){c[b]="#"+b};function C(a,b,c){var d=arguments.length,e;b=1<d?+b:b;d=2<d?ob(c):"";b!==A&&(e=(e=/.*\(([^\)]+)/.exec((""+a).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?rb(e[1].replace(/\s+/g,""),","):[],e.forEach(Ib),e=e[b]||"#"+b);this.message=(a?ub(a):"")+(e||d?" (":"")+(e?"Argument "+e:"")+(d?(e?" ":"")+d:"")+(e||d?")":"")}q("H.lang.InvalidArgumentError",C);C.prototype=Error();C.prototype.name="InvalidArgumentError";var Kb={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};q("H.geo.AltitudeContext",Kb);function Lb(a,b,c){var d=ab(+a,-90,90);if(b&&D(d))throw new C(b,c,a);return d}function Mb(a,b,c){var d=+a;if(-180>d||180<d)d=Za(d+180,360)-180;if(b&&D(d))throw new C(b,c,a);return d}function Nb(a,b,c){var d;if(a!==A&&D(d=+a)&&b)throw new C(b,c,a);return d}function Ob(a,b,c){var d=!Kb[a];if(b&&d)throw new C(b,c,a);return!d}function Pb(a){return!a||D(a.lat)||D(a.lng)?!1:!0};function Qb(a,b,c,d){this.lat=Lb(a,Qb,0);this.lng=Mb(b,Qb,1);c!==A&&(this.alt=Nb(c,Qb,2));d!==A&&Ob(d,Qb,3)&&(this.ctx=d)}q("H.geo.Point",Qb);Qb.prototype.a=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Kb[this.ctx]===Kb[a.ctx]&&(this.alt||0)===(a.alt||0)};Qb.prototype.equals=Qb.prototype.a;
Qb.prototype.distance=function(a){var b,c;this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*Ua,c=a.lat*Ua,a=1.274200158E7*Ja(wa(1,Fa(Ga(Ia((b-c)/2),2)+Ka(b)*Ka(c)*Ga(Ia((this.lng*Ua-a.lng*Ua)/2),2)))));return a};Qb.prototype.distance=Qb.prototype.distance;
Qb.prototype.Gf=function(a,b,c){var d,e,f,g,h,k;if(c){if(b/=6371000.79){a*=Ua;d=Ua*this.lat;f=Ia(d);g=Ia(b);h=Ka(b);e=Ua*this.lng;var l=Ka(d);d=Ja(l*Ka(a)*g+f*h);a=Na(Ia(a)*l*g,h-f*Ia(d));l=((e+a+Pa)%(2*Pa)-Pa)*Va}return b?new Qb(d*Va,(l+540)%360-180):this}a=(a%360+360)%360;if(0===(a+90)%180)return d=this.lng+b/(6371000.79*Sa*Ka(this.lat*Ua))*(270===a?-360:360),new Qb(this.lat,(d+540)%360-180);if(b/=6371000.79)a*=Ua,e=this.lat*Ua,f=this.lng*Ua,g=e+b*Ka(a),h=g-e,d=Ea(La(g/2+Ra)/La(e/2+Ra)),d=D(h/d)?
Ka(e):h/d,k=b*Ia(a)/d,Ba(g)>Qa&&(g=0<g?Pa-g:-(Pa+g));return b?new Qb(g*Va,((f+k+Ta+(Ba(e+h)>Qa?Pa:0))%Sa-Pa)*Va):this};Qb.prototype.walk=Qb.prototype.Gf;function Rb(a,b,c){var d=!!a&&!(D(a.lat=Lb(a.lat))||D(a.lng=Mb(a.lng))||a.alt!==A&&D(a.alt=Nb(a.alt))||a.ctx!==A&&!Ob(a.ctx));if(!d&&b)throw new C(b,c,a);return d}Qb.validate=Rb;function Sb(a){if(!a)throw new C(Sb,0,a);return B(a,Qb)?a:new Qb(a.lat,a.lng,a.alt,a.ctx)}Qb.fromIPoint=Sb;function Tb(a,b){var c=[];a&&c.push(ub(a));1<arguments.length&&c.push(b);this.message=c.join(" ")}v(Tb,Error);q("H.lang.IllegalOperationError",Tb);Tb.prototype=Error();Tb.prototype.name="IllegalOperationError";var Ub;function Vb(a){if(!ja(a))throw new C(this.constructor,0);this.g=w.indexedDB||w.webkitIndexedDB||w.mozIndexedDB||w.msIndexedDB;if(!this.g)throw new Tb(this.constructor,"This browser does not support IndexedDB");this.j=a;this.a=[];this.c=[];this.qf=z(this.qf,this)}var Wb,Xb;q("H.util.IndexedDBStorage",Vb);n=Vb.prototype;n.kd=function(a,b,c,d){if(!Yb(a))throw new C(this.kd,0);if(!Zb(b))throw new C(this.kd,1);$b(this,function(e){ac(e.put(b,a),c,d)},d)};
n.get=function(a,b,c){var d;if(!Yb(a))throw new C(this.get,0);if(!la(b))throw new C(this.get,1);$b(this,function(e){d=e.get(a);ac(d,b,c)},c);return{cancel:function(){d&&(d.onsuccess=bc)}}};n.remove=function(a,b,c){if(!Yb(a))throw new C(this.remove,0);$b(this,function(d){ac(d["delete"](a),b,c)},c)};n.Ue=function(a,b){$b(this,function(c){ac(c.clear(),a,b)},b)};n.qh=w.IDBTransaction&&w.IDBTransaction.READ_WRITE||"readwrite";n.qf=function(){var a=this.b.result;a.objectStoreNames.contains("data")||a.createObjectStore("data")};
function cc(a,b,c){var d;a.b?a.a?(a.a.push(b),c&&a.c.push(c)):a.f?c&&c(a.f):b(a.b.result):(a.b=a.g.open(dc+a.j,1),a.b.onupgradeneeded=a.qf,d=a.b.onerror=function(){clearTimeout(a.i);a.f=this.error;a.c.forEach(function(b){b(a.f)});a.a=a.c=null},a.i=setTimeout(function(){d.call({error:Error("DbOpenTimeoutError")})},500),a.b.onsuccess=function(){clearTimeout(a.i);a.a?(a.a.forEach(function(a){a(this.result)},this),a.a=a.c=null):(a.b=a.f=null,a.a=[],a.c=[])},a.a.push(b),c&&a.c.push(c))}
function $b(a,b,c){cc(a,function(c){c=c.transaction(["data"],a.qh);b(c.objectStore("data"))},c)}function ac(a,b,c){b&&(a.onsuccess=function(){b(this.result)});c&&(a.onerror=function(){c(this.error)})}function Zb(a){var b=Object.prototype.toString.call(a);return"[object Blob]"===b||"[object ArrayBuffer]"===b||ja(a)||ma(a)}function Yb(a){return ja(a)||Bb(a)}function ec(){Wb||(Wb=new Vb("STATIC_DB"));return Wb}Vb.getInstance=ec;var dc="H_";
function fc(){var a,b,c;if(Xb===A)if("file:"===window.location.protocol&&-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&128<=window.location.href.length)Xb=!1;else{a=w.indexedDB||w.webkitIndexedDB||w.mozIndexedDB||w.msIndexedDB;c=dc+"TEST_DB";try{b=a&&a.open(c,1)}catch(d){}Xb=!!b&&null===b.onupgradeneeded;b&&a.deleteDatabase&&a.deleteDatabase(c)}return Xb}Vb.isSupported=fc;function gc(a,b,c){this.g=c;this.c=a;this.f=b;this.b=0;this.a=null}gc.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function hc(a,b){a.f(b);a.b<a.g&&(a.b++,b.next=a.a,a.a=b)};function ic(){this.b=this.a=null}var kc=new gc(function(){return new jc},function(a){a.reset()},100);ic.prototype.add=function(a,b){var c=kc.get();c.set(a,b);this.b?this.b.next=c:this.a=c;this.b=c};ic.prototype.remove=function(){var a=null;this.a&&(a=this.a,this.a=this.a.next,this.a||(this.b=null),a.next=null);return a};function jc(){this.next=this.b=this.a=null}jc.prototype.set=function(a,b){this.a=a;this.b=b;this.next=null};jc.prototype.reset=function(){this.next=this.b=this.a=null};var lc;a:{var mc=da.navigator;if(mc){var nc=mc.userAgent;if(nc){lc=nc;break a}}lc=""};function oc(){return-1!=lc.indexOf("Edge")||-1!=lc.indexOf("Trident")||-1!=lc.indexOf("MSIE")};function pc(){return-1!=lc.indexOf("Edge")};function qc(a){da.setTimeout(function(){throw a;},0)}var rc;
function sc(){var a=da.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==lc.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=sa(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!oc()){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.Wf;c.Wf=null;a()}};return function(a){d.next={Wf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){da.setTimeout(a,0)}};function tc(a,b){uc||vc();wc||(uc(),wc=!0);xc.add(a,b)}var uc;function vc(){if(da.Promise&&da.Promise.resolve){var a=da.Promise.resolve();uc=function(){a.then(yc)}}else uc=function(){var a=yc;!la(da.setImmediate)||da.Window&&da.Window.prototype&&da.Window.prototype.setImmediate==da.setImmediate?(rc||(rc=sc()),rc(a)):da.setImmediate(a)}}var wc=!1,xc=new ic;function yc(){for(var a=null;a=xc.remove();){try{a.a.call(a.b)}catch(b){qc(b)}hc(kc,a)}wc=!1};function zc(a,b){this.P=Ac;this.i=void 0;this.c=this.a=this.b=null;this.f=this.g=!1;if(a==Bc)Cc(this,Dc,b);else try{var c=this;a.call(b,function(a){Cc(c,Dc,a)},function(a){Cc(c,Ec,a)})}catch(d){Cc(this,Ec,d)}}var Ac=0,Dc=2,Ec=3;function Fc(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Fc.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var Gc=new gc(function(){return new Fc},function(a){a.reset()},100);function Hc(a,b,c){var d=Gc.get();d.f=a;d.b=b;d.c=c;return d}
function Bc(){}function Ic(){var a,b,c=new zc(function(c,e){a=c;b=e});return new Jc(c,a,b)}zc.prototype.then=function(a,b,c){return Kc(this,la(a)?a:null,la(b)?b:null,c)};zc.prototype.then=zc.prototype.then;zc.prototype.$goog_Thenable=!0;zc.prototype.cancel=function(a){this.P==Ac&&tc(function(){var b=new Lc(a);Mc(this,b)},this)};
function Mc(a,b){if(a.P==Ac)if(a.b){var c=a.b;if(c.a){for(var d=0,e=null,f=null,g=c.a;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.P==Ac&&1==d?Mc(c,b):(f?(d=f,d.next==c.c&&(c.c=d),d.next=d.next.next):Nc(c),Oc(c,e,Ec,b)))}a.b=null}else Cc(a,Ec,b)}function Pc(a,b){a.a||a.P!=Dc&&a.P!=Ec||Qc(a);a.c?a.c.next=b:a.a=b;a.c=b}
function Kc(a,b,c,d){var e=Hc(null,null,null);e.a=new zc(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.b=c?function(b){try{var e=c.call(d,b);void 0===e&&b instanceof Lc?g(b):a(e)}catch(l){g(l)}}:g});e.a.b=a;Pc(a,e);return e.a}zc.prototype.j=function(a){this.P=Ac;Cc(this,Dc,a)};zc.prototype.l=function(a){this.P=Ac;Cc(this,Ec,a)};
function Cc(a,b,c){if(a.P==Ac){if(a==c)b=Ec,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.P=1;b=c;c=a.j;d=a.l;b instanceof zc?Pc(b,Hc(c||ga,d||null,a)):b.then(c,d,a);return}if(ma(c))try{var f=c.then;if(la(f)){Rc(a,c,f);return}}catch(g){b=Ec,c=g}}a.i=c;a.P=b;a.b=null;Qc(a);b!=Ec||c instanceof Lc||Sc(a,c)}}
function Rc(a,b,c){function d(b){f||(f=!0,a.l(b))}function e(b){f||(f=!0,a.j(b))}a.P=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Qc(a){a.g||(a.g=!0,tc(a.o,a))}function Nc(a){var b=null;a.a&&(b=a.a,a.a=b.next,b.next=null);a.a||(a.c=null);return b}zc.prototype.o=function(){for(var a=null;a=Nc(this);)Oc(this,a,this.P,this.i);this.g=!1};
function Oc(a,b,c,d){if(c==Ec&&b.b&&!b.g)for(;a&&a.f;a=a.b)a.f=!1;if(b.a)b.a.b=null,Tc(b,c,d);else try{b.g?b.f.call(b.c):Tc(b,c,d)}catch(e){Uc.call(null,e)}hc(Gc,b)}function Tc(a,b,c){b==Dc?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function Sc(a,b){a.f=!0;tc(function(){a.f&&Uc.call(null,b)})}var Uc=qc;function Lc(a){ib.call(this,a)}v(Lc,ib);Lc.prototype.name="cancel";function Jc(a,b,c){this.tf=a;this.resolve=b;this.reject=c};function Vc(a,b,c){this.type=a;this.data=b;this.je=Ic();this.resolve=z(this.resolve,this);this.reject=z(this.reject,this);this.b=Wc;c!==A&&(this.b=c);this.Jd().add(this)}var Wc=1,Xc={Fi:0,NORMAL:Wc,Ei:2};Vc.prototype.then=function(a,b,c){return this.je.tf.then(a,b,c)};
hb(Vc.prototype,{resolve:function(a){this.state=3;this.je.resolve(a)},reject:function(a){this.state=5;this.je.reject(a)},state:0,cancel:function(a){this.je.tf.cancel();3>this.state&&(1>this.state?(this.state=4,this.Jd().remove(this)):a&&(this.we(),this.Jd().remove(this),this.state=4))},we:ha,Ie:ha,Bh:function(a){this.state=this.Ie(a)?1:5}});function Yc(){0!=Zc&&($c[this[na]||(this[na]=++oa)]=this);this.Jb=this.Jb;this.Ua=this.Ua}var Zc=0,$c={};Yc.prototype.Jb=!1;Yc.prototype.J=function(){if(!this.Jb&&(this.Jb=!0,this.D(),0!=Zc)){var a=this[na]||(this[na]=++oa);delete $c[a]}};Yc.prototype.S=function(a,b){this.Jb?a.call(b):(this.Ua||(this.Ua=[]),this.Ua.push(void 0!==b?sa(a,b):a))};Yc.prototype.D=function(){if(this.Ua)for(;this.Ua.length;)this.Ua.shift()()};function ad(a,b){this.type=a;this.currentTarget=this.target=b;this.a=!1;this.Yg=!0}ad.prototype.stopPropagation=function(){this.a=!0};ad.prototype.preventDefault=function(){this.Yg=!1};q("H.util.Event",ad);ad.prototype.stopPropagation=ad.prototype.stopPropagation;ad.prototype.stopPropagation=ad.prototype.stopPropagation;ad.prototype.CAPTURING_PHASE=1;ad.prototype.AT_TARGET=2;ad.prototype.BUBBLING_PHASE=3;ad.prototype.eventPhase=0;function bd(a){this.jc={};for(var b in Xc)this.jc[Xc[b]]=[];this.ke=a;this.ke.addEventListener("allocatable",z(this.ag,this))}q("H.util.JobManager",bd);var cd=Object.keys(Xc).map(function(a){return Xc[a]}).sort().reverse();
hb(bd.prototype,{add:function(a){B(a,Vc,this.add,0);this.jc[a.b].push(a);this.ag()},contains:function(a){return-1<this.jc[a.b].indexOf(a)},remove:function(a){var b=a.b;a=this.jc[b].indexOf(a);return-1<a?(this.jc[b].splice(a,1),!0):!1},ag:function(){cd.forEach(function(a){this.jc[a]=this.jc[a].filter(function(a){var c,d;if((c=this.ke.ze(a))!==x)d=z(this.ke.Id,this.ke,c,a),a.then(d,d),a.Bh(c);else return!0},this)},this)}});var dd="closure_listenable_"+(1E6*Math.random()|0);function ed(a){return!(!a||!a[dd])}var fd=0;function gd(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.ta=!!d;this.Ld=e;this.key=++fd;this.Nc=this.Dd=!1}function hd(a){a.Nc=!0;a.listener=null;a.a=null;a.src=null;a.Ld=null};function id(a){this.src=a;this.a={};this.b=0}id.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=jd(a,b,d,e);-1<g?(b=a[g],c||(b.Dd=!1)):(b=new gd(b,this.src,f,!!d,e),b.Dd=c,a.push(b));return b};id.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.a))return!1;var e=this.a[a];b=jd(e,b,c,d);return-1<b?(hd(e[b]),lb.splice.call(e,b,1),0==e.length&&(delete this.a[a],this.b--),!0):!1};
function kd(a,b){var c=b.type;if(!(c in a.a))return!1;var d=a.a[c],e=mb(d,b),f;(f=0<=e)&&lb.splice.call(d,e,1);f&&(hd(b),0==a.a[c].length&&(delete a.a[c],a.b--));return f}id.prototype.Fa=function(a){a=a&&a.toString();var b=0,c;for(c in this.a)if(!a||c==a){for(var d=this.a[c],e=0;e<d.length;e++)++b,hd(d[e]);delete this.a[c];this.b--}return b};function jd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Nc&&f.listener==b&&f.ta==!!c&&f.Ld==d)return e}return-1};var ld=-1!=lc.indexOf("Opera")||-1!=lc.indexOf("OPR"),md=oc(),nd=-1!=lc.indexOf("Gecko")&&!(-1!=lc.toLowerCase().indexOf("webkit")&&!pc())&&!(-1!=lc.indexOf("Trident")||-1!=lc.indexOf("MSIE"))&&!pc(),od=-1!=lc.toLowerCase().indexOf("webkit")&&!pc();function pd(){var a=lc;if(nd)return/rv\:([^\);]+)(\)|;)/.exec(a);if(md&&pc())return/Edge\/([\d\.]+)/.exec(a);if(md)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(od)return/WebKit\/(\S+)/.exec(a)}
function qd(){var a=da.document;return a?a.documentMode:void 0}var rd=function(){if(ld&&da.opera){var a=da.opera.version;return la(a)?a():a}var a="",b=pd();b&&(a=b?b[1]:"");return md&&!pc()&&(b=qd(),b>parseFloat(a))?String(b):a}(),sd={};
function td(a){var b;if(!(b=sd[a])){b=0;for(var c=jb(String(rd)).split("."),d=jb(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",k=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var m=k.exec(g)||["","",""],p=l.exec(h)||["","",""];if(0==m[0].length&&0==p[0].length)break;b=kb(0==m[1].length?0:parseInt(m[1],10),0==p[1].length?0:parseInt(p[1],10))||kb(0==m[2].length,0==p[2].length)||kb(m[2],p[2])}while(0==b)}b=sd[a]=0<=b}return b}
var ud=da.document,vd=qd(),wd=!ud||!md||!vd&&pc()?void 0:vd||("CSS1Compat"==ud.compatMode?parseInt(rd,10):5);var xd;(xd=!md)||(xd=md&&(pc()||9<=wd));var yd=xd,zd=md&&!td("9");!od||td("528");nd&&td("1.9b")||md&&td("8")||ld&&td("9.5")||od&&td("528");nd&&!td("8")||md&&td("9");function Ad(a){Ad[" "](a);return a}Ad[" "]=ga;function Bd(a,b){ad.call(this,a?a.type:"");this.currentTarget=this.target=null;this.keyCode=0;this.b=this.state=null;if(a){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var c=a.relatedTarget;if(c&&nd)try{Ad(c.nodeName)}catch(d){}this.keyCode=a.keyCode||0;this.state=a.state;this.b=a;a.defaultPrevented&&this.preventDefault()}}v(Bd,ad);
Bd.prototype.stopPropagation=function(){Bd.A.stopPropagation.call(this);this.b.stopPropagation?this.b.stopPropagation():this.b.cancelBubble=!0};Bd.prototype.preventDefault=function(){Bd.A.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,zd)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Cd="closure_lm_"+(1E6*Math.random()|0),Dd={},Ed=0;function Fd(a,b,c,d,e){if("array"==ia(b)){for(var f=0;f<b.length;f++)Fd(a,b[f],c,d,e);return null}c=Gd(c);return ed(a)?a.Kb.add(String(b),c,!1,d,e):Hd(a,b,c,!1,d,e)}
function Hd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Id(a);h||(a[Cd]=h=new id(a));c=h.add(b,c,d,e,f);if(c.a)return c;d=Jd();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Kd(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Ed++;return c}
function Jd(){var a=Ld,b=yd?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Md(a,b,c,d,e){if("array"==ia(b)){for(var f=0;f<b.length;f++)Md(a,b[f],c,d,e);return null}c=Gd(c);return ed(a)?a.Kb.add(String(b),c,!0,d,e):Hd(a,b,c,!0,d,e)}
function Nd(a,b,c,d,e){if("array"==ia(b)){for(var f=0;f<b.length;f++)Nd(a,b[f],c,d,e);return null}c=Gd(c);if(ed(a))return a.Kb.remove(String(b),c,d,e);if(!a)return!1;if(a=Id(a))if(b=a.a[b.toString()],a=-1,b&&(a=jd(b,c,!!d,e)),c=-1<a?b[a]:null)return Od(c);return!1}
function Od(a){if("number"==typeof a||!a||a.Nc)return!1;var b=a.src;if(ed(b))return kd(b.Kb,a);var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.ta):b.detachEvent&&b.detachEvent(Kd(c),d);Ed--;(c=Id(b))?(kd(c,a),0==c.b&&(c.src=null,b[Cd]=null)):hd(a);return!0}function Kd(a){return a in Dd?Dd[a]:Dd[a]="on"+a}function Pd(a,b,c,d){var e=!0;if(a=Id(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.ta==c&&!f.Nc&&(f=Qd(f,d),e=e&&!1!==f)}return e}
function Qd(a,b){var c=a.listener,d=a.Ld||a.src;a.Dd&&Od(a);return c.call(d,b)}
function Ld(a,b){if(a.Nc)return!0;if(!yd){var c=b||fa("window.event"),d=new Bd(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,h=c.length-1;!d.a&&0<=h;h--){d.currentTarget=c[h];var k=Pd(c[h],f,!0,d),e=e&&k}for(h=0;!d.a&&h<c.length;h++)d.currentTarget=c[h],k=Pd(c[h],f,!1,d),e=e&&k}return e}return Qd(a,new Bd(b,
this))}function Id(a){a=a[Cd];return a instanceof id?a:null}var Rd="__closure_events_fn_"+(1E9*Math.random()>>>0);function Gd(a){if(la(a))return a;a[Rd]||(a[Rd]=function(b){return a.handleEvent(b)});return a[Rd]};function E(){Yc.call(this);this.Kb=new id(this);this.Kh=this;this.ve=null}v(E,Yc);E.prototype[dd]=!0;n=E.prototype;n.ab=function(){return this.ve};n.da=function(a){this.ve=a};n.addEventListener=function(a,b,c,d){Fd(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Nd(this,a,b,c,d)};
n.dispatchEvent=function(a){var b,c=this.ab();if(c)for(b=[];c;c=c.ab())b.push(c);var c=this.Kh,d=a.type||a;if(ja(a))a=new ad(a,c);else if(a instanceof ad)a.target=a.target||c;else{var e=a;a=new ad(d,c);hb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.a&&0<=g;g--)f=a.currentTarget=b[g],e=f.tb(d,!0,a)&&e;a.a||(f=a.currentTarget=c,e=f.tb(d,!0,a)&&e,a.a||(e=f.tb(d,!1,a)&&e));if(b)for(g=0;!a.a&&g<b.length;g++)f=a.currentTarget=b[g],e=f.tb(d,!1,a)&&e;return e};
n.D=function(){E.A.D.call(this);this.Kb&&this.Kb.Fa(void 0);this.ve=null};n.tb=function(a,b,c){a=this.Kb.a[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.Nc&&f.ta==b){var g=f.listener,h=f.Ld||f.src;f.Dd&&kd(this.Kb,f);d=!1!==g.call(h,c)&&d}}return d&&0!=c.Yg};q("H.util.EventTarget",E);E.prototype.da=E.prototype.da;E.prototype.setParentEventTarget=E.prototype.da;E.prototype.ab=E.prototype.ab;E.prototype.getParentEventTarget=E.prototype.ab;E.prototype.addEventListener=E.prototype.addEventListener;E.prototype.addEventListener=E.prototype.addEventListener;E.prototype.removeEventListener=E.prototype.removeEventListener;E.prototype.removeEventListener=E.prototype.removeEventListener;E.prototype.dispatchEvent=E.prototype.dispatchEvent;
E.prototype.dispatchEvent=E.prototype.dispatchEvent;E.prototype.J=E.prototype.J;E.prototype.dispose=E.prototype.J;E.prototype.S=E.prototype.S;E.prototype.addOnDisposeCallback=E.prototype.S;E.prototype.Lh=E.prototype.tb;
E.prototype.tb=function(a,b,c){var d,e,f,g=!0;d=c[c.currentTarget===c.target?"AT_TARGET":b?"CAPTURING_PHASE":(e=!0,"BUBBLING_PHASE")];if(!e||"pointerenter"!==(f=c.type)&&"pointerleave"!==f)c.eventPhase=d,g=E.prototype.Lh.apply(this,arguments),e&&this.ab&&null===this.ab()&&delete c.eventPhase;return g};function Sd(a){a=a||{};var b=a.callback;this.b=a.label;la(b)&&(this.callback=b);this.v=!!a.disabled;Sd.A.constructor.call(this)}v(Sd,E);q("H.util.ContextItem",Sd);Sd.prototype.a=function(){return this.b};Sd.prototype.getLabel=Sd.prototype.a;Sd.prototype.Ma=function(a){this.b!==a&&(this.b=a,this.dispatchEvent("update"));return this};Sd.prototype.setLabel=Sd.prototype.Ma;Sd.prototype.bb=function(){return this.v};Sd.prototype.isDisabled=Sd.prototype.bb;
Sd.prototype.na=function(a){a^this.v&&(this.v=a,this.dispatchEvent("update"));return this};Sd.prototype.setDisabled=Sd.prototype.na;var Td=new Sd;Sd.SEPARATOR=Td;var Ud=/^\s*(rgb|hsl)a\s*\(.+,([^,]+)\)\s*$/;function Vd(a){return"transparent"!==a&&"none"!==a&&(!Ud.test(a)||.002<=w.RegExp.$2)}var Wd="[object Undefined]"!=={}.toString.call(void 0),Xd=!!w.VBArray;q("H.util.eval",function(a){return eval(a)});function Yd(a){return/^<svg/.test(a)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a):a}q("H.util.provide",function(a){ea(a,void 0)});var Zd=0;function $d(){return!1}function bc(){}var ae=qb([]);
function be(a){return"CANVAS"===a.tagName?[a]:a.getElementsByTagName("CANVAS")}function ce(a,b,c){var d;b=a.ownerDocument===b?a.cloneNode(!0):b.importNode(a,!0);if(c)for(a=be(a),c=be(b),d=c.length;d--;)c[d].getContext("2d").drawImage(a[d],0,0);return b}function de(a){a.parentNode.removeChild(a)}var ee,fe=document.createElement("CANVAS");fe.width=fe.height=1;ee=fe.getContext("2d");function ge(a){var b=a.complete,c=0<a.naturalWidth;if(b&&!c&&Xd)try{ee.drawImage(a,0,0),c=!0}catch(d){}return b&&c}
var he=w.BlobBuilder||w.WebKitBlobBuilder||w.MozBlobBuilder;function ie(a){var b;he?(b=new he,b.append(a),a=b.getBlob("application/javascript")):a=new Blob([a],{type:"application/javascript"});return a};function je(){}q("H.map.provider.Invalidations",je);je.MARK_INITIAL=Xa;je.prototype.c=function(a,b){b!==ke.NONE&&(this.Wa=a,b&ke.SPATIAL&&(this.o=a),b&ke.VISUAL&&(this.v=a),b&ke.ADD&&(this.j=a),b&ke.REMOVE&&(this.l=a),b&ke.Z_ORDER&&(this.S=a))};je.prototype.update=je.prototype.c;je.prototype.m=function(){return this.Wa};je.prototype.getMark=je.prototype.m;je.prototype.Wa=Xa;je.prototype.s=function(a){return this.Wa>a};je.prototype.isAny=je.prototype.s;je.prototype.v=Xa;
je.prototype.a=function(a){return this.v>a};je.prototype.isVisual=je.prototype.a;je.prototype.o=Xa;je.prototype.f=function(a){return this.o>a};je.prototype.isSpatial=je.prototype.f;je.prototype.j=Xa;je.prototype.i=function(a){return this.j>a};je.prototype.isAdd=je.prototype.i;je.prototype.l=Xa;je.prototype.b=function(a){return this.l>a};je.prototype.isRemove=je.prototype.b;je.prototype.S=Xa;je.prototype.g=function(a){return this.S>a};je.prototype.isZOrder=je.prototype.g;
var ke={NONE:0,VISUAL:1,SPATIAL:2,ADD:4,REMOVE:8,Z_ORDER:16};je.Flag=ke;function le(a,b,c){le.A.constructor.call(this,a);this.oldValue=c;this.newValue=b}v(le,ad);q("H.util.ChangeEvent",le);function F(a){var b;tb(this,F);F.A.constructor.call(this);this.$b=me++;a&&(b="min",Bb(a[b])&&(this.ec=a[b]),b="max",Bb(a[b])&&(this.cc=a[b]),b="visibility",b in a&&(this.ia=!!a[b]),b="zIndex",b in a&&(this.F=+a[b]||0),b="provider",b in a&&(this.g=a[b],this.za(ke.ADD)),b="data",b in a&&this.setData(a[b]))}v(F,E);q("H.map.Object",F);var ne={ANY:0,OVERLAY:1,SPATIAL:2,MARKER:3,DOM_MARKER:4,GROUP:5};F.Type=ne;F.prototype.C={rh:"visibilitychange",sh:"zindexchange"};var me=Xa;F.prototype.pa=function(){return this.$b};
F.prototype.getId=F.prototype.pa;F.prototype.ec=-1/0;F.prototype.cc=1/0;F.prototype.ia=!0;F.prototype.setVisibility=function(a){var b=this.ia;(a=!!a)^b&&(this.ia=a,this.invalidate(ke.VISUAL),this.dispatchEvent(new le(this.C.rh,a,b)));return this};F.prototype.setVisibility=F.prototype.setVisibility;F.prototype.getVisibility=function(a){for(var b=this,c;(c=b.ia)&&a&&(b=b.va););return c};F.prototype.getVisibility=F.prototype.getVisibility;F.prototype.F=A;F.prototype.mi=function(){return this.F};
F.prototype.getZIndex=F.prototype.mi;F.prototype.rb=function(a){var b=this.F;a!==b&&(this.O(),this.F=a,this.invalidate(ke.Z_ORDER),this.dispatchEvent(new le(this.C.sh,a,b)));return this};F.prototype.setZIndex=F.prototype.rb;F.prototype.ra=A;function oe(a){var b=a.ra,c,d,e;b||(c=(d=a.F)!==A,(b=a.va)?(b=oe(b).slice(),b[0]|=c):b=[c|0],b.push(d||0,(e=a.ah)!==A?e:a.$b),a.ra=b);return b}F.prototype.O=function(){this.ra=A};
function pe(a,b,c){if(!c||a[0]|b[0])for(var d=a.length,e=b.length,f=wa(d,e),g,h=1,k=1+c;h<f;h+=k)if(g=a[h]-b[h])return g;return c?0:d-e}function qe(a,b){return a.Ba(b)}F.compareZOrder=qe;F.prototype.Ba=function(a){return this.Uc-a.Uc||pe(oe(this),oe(a),!1)};F.prototype.compareZOrder=F.prototype.Ba;n=F.prototype;n.previousSibling=x;n.nextSibling=x;n.ah=A;n.va=x;n.Fh=function(){return this.va};F.prototype.getParentGroup=F.prototype.Fh;F.prototype.xi=function(){for(var a=this,b;b=a.va;)a=b;return a};
F.prototype.getRootGroup=F.prototype.xi;F.prototype.contains=function(a){return this===a};F.prototype.contains=F.prototype.contains;F.prototype.da=function(a){if(this.va)throw new Tb(this.da,"Not allowed for a child of a group");F.A.da.call(this,a)};F.prototype.setParentEventTarget=F.prototype.da;F.prototype.g=x;F.prototype.Ra=function(){return this.g};F.prototype.getProvider=F.prototype.Ra;
F.prototype.B=function(a,b){var c=this.g,d,e;if(d=c!==a){if(b&&c&&!B(c,G)||a&&!B(a,G))throw new Tb(b,"Only LocalObjectProvider allows an object transfers");e=this.type!==ne.GROUP;c&&(this.invalidate(ke.REMOVE),e&&c.ha(this));if(this.g=a)e&&a.T(this),this.ib=x,this.invalidate(ke.ADD)}return d};F.prototype.i=function(){return this.ib||(this.ib=new je)};F.prototype.getInvalidations=F.prototype.i;F.prototype.za=function(a){var b=this.Ra(),c;(c=!!b)&&b.invalidateObject(this,a);return c};
F.prototype.invalidate=F.prototype.za;F.prototype.D=function(){this.va&&this.va.ha(this);delete this.ib;F.A.D.call(this)};F.prototype.getData=function(){return this.ga};F.prototype.getData=F.prototype.getData;F.prototype.setData=function(a){this.ga=a;return this};F.prototype.setData=F.prototype.setData;function I(a,b,c,d){re(this,Lb(a,I,0),Mb(b,I,1),Lb(c,I,2),Mb(d,I,3))}q("H.geo.Rect",I);I.prototype.o=function(a){return this===a||!!a&&this.xa===a.xa&&this.ja===a.ja&&this.sa===a.sa&&this.ma===a.ma};I.prototype.equals=I.prototype.o;I.prototype.clone=function(){return new I(this.xa,this.ja,this.sa,this.ma)};I.prototype.clone=I.prototype.clone;function re(a,b,c,d,e){a.ja=c;a.ma=e;b<d&&(c=b,b=d,d=c);a.xa=b;a.sa=d;a.i=a.f=a.j=null;return a}
I.prototype.lb=function(){this.i||(this.i=new Qb(this.xa,this.ja));return this.i};I.prototype.getTopLeft=I.prototype.lb;I.prototype.kb=function(){this.f||(this.f=new Qb(this.sa,this.ma));return this.f};I.prototype.getBottomRight=I.prototype.kb;I.prototype.F=function(){return this.xa};I.prototype.getTop=I.prototype.F;I.prototype.s=function(){return this.sa};I.prototype.getBottom=I.prototype.s;I.prototype.u=function(){return this.ja};I.prototype.getLeft=I.prototype.u;I.prototype.B=function(){return this.ma};
I.prototype.getRight=I.prototype.B;I.prototype.Ja=function(){this.j||(this.j=new Qb(this.sa+(this.xa-this.sa)/2,se(this.ja,this.Sa())));return this.j};I.prototype.getCenter=I.prototype.Ja;I.prototype.Sa=function(){return te(this.ja,this.ma)};I.prototype.getWidth=I.prototype.Sa;I.prototype.c=function(){return this.xa-this.sa};I.prototype.getHeight=I.prototype.c;I.prototype.g=function(){return this.ja>this.ma};I.prototype.isCDB=I.prototype.g;I.prototype.S=function(){return!this.Sa()&&!this.c()};
I.prototype.isEmpty=I.prototype.S;I.prototype.l=function(a,b,c){var d=this.Ja();c||(a=Lb(a,this.l,0),b=Mb(b,this.l,1));b=this.b(a,b,c);a=b.Ja();return a.lat===d.lat&&a.lng===d.lng&&this.c()===b.c()&&this.Sa()===b.Sa()};I.prototype.containsLatLng=I.prototype.l;I.prototype.Wb=function(a,b){b||Rb(a,this.Wb,0);return this.l(a.lat,a.lng,b)};I.prototype.containsPoint=I.prototype.Wb;
I.prototype.v=function(a,b){var c=this.Ja(),d,e;if(!b&&!B(a,I))throw new C(this.v,0,a);e=this.Rb(a,b);d=e.Ja();return d.lat===c.lat&&d.lng===c.lng&&this.c()===e.c()&&this.Sa()===e.Sa()};I.prototype.containsRect=I.prototype.v;I.prototype.b=function(a,b,c,d){if(!c){if(D(a=Lb(a)))throw new C(this.b,0,a);if(D(b=Mb(b)))throw new C(this.b,1,b);}return ue(this.xa,this.ja,this.sa,this.ma,a,b,a,b,d)};I.prototype.mergeLatLng=I.prototype.b;
I.prototype.ef=function(a,b,c){b||Rb(a,this.ef,0);return this.b(a.lat,a.lng,b,c)};I.prototype.mergePoint=I.prototype.ef;I.prototype.Rb=function(a,b,c){if(!b&&!B(a,I))throw new C(this.Rb,0,a);return ue(this.xa,this.ja,this.sa,this.ma,a.xa,a.ja,a.sa,a.ma,c)};I.prototype.mergeRect=I.prototype.Rb;I.prototype.a=function(a,b,c,d,e,f){e||(a=Lb(a,this.a,0),b=Mb(b,this.a,1),c=Lb(c,this.a,2),d=Mb(d,this.a,3));return ue(this.xa,this.ja,this.sa,this.ma,a,b,c,d,f)};I.prototype.mergeTopLeftBottomRight=I.prototype.a;
I.prototype.zc=function(a,b){if(!b&&!B(a,I))throw new C(this.zc,0,a);var c=this.ja<=this.ma,d=a.ja<=a.ma,e=this.ja<a.ma,f=a.ja<this.ma;return this.sa<=a.xa&&a.sa<=this.xa&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)};I.prototype.intersects=I.prototype.zc;function te(a,b){var c=b-a;return c+(0>c?360:0)}function se(a,b){var c=a+b/2;return c-(180<c?360:0)}
function ue(a,b,c,d,e,f,g,h,k){var l,m,p;c=wa(c,g);a=xa(a,e);e=te(b,d);l=se(b,e);g=te(f,h);p=se(f,g)-l;p+=0>p-1E-6?360:0;180>p-1E-6?(l=b,m=h):(p=360-p,l=f,m=d);p=p+e/2+g/2;360<=p+5E-7?(l=-180,m=180):p-5E-7<e?(l=b,m=d):p-5E-7<g&&(l=f,m=h);return k?re(k,a,l,c,m):new I(a,l,c,m)}I.merge=ue;function ve(a,b,c){c||(Rb(a,ve,0),Rb(b,ve,1));return new I(a.lat,a.lng,b.lat,b.lng)}I.fromPoints=ve;
function we(a,b){if(!wb(a))throw new C(we,0,a);var c=1,d=a.length,e,f=null;if(0<d)for(e=a[0],f=ve(e,e,b);c<d;c++)e=a[c],f.b(e.lat,e.lng,b,f);return f}I.coverPoints=we;function xe(a,b){if(!(b||a&&null!=a.length))throw new C(xe,0,a);var c=3,d=a.length,e;if(0<d)for(e=new I(a[0],a[1],a[0],a[1]);c<d;c+=3)e.b(a[c],a[c+1],b,e);return e}I.coverLatLngAlts=xe;
function ye(a,b){if(b&&(!a||null==a.length))throw new C(ye,0,a);var c=1,d=a.length,e;if(0<d)for(e=new I(a[0].xa,a[0].ja,a[0].sa,a[0].ma);c<d;c++)e.Rb(a[c],b,e);return e}I.coverRects=ye;
I.prototype.m=function(a,b){Rb(a,this.m,0);var c=this.ja,d=this.xa,e=this.ma,f=this.sa,g=this.Ja().lng,h=a.lat-f-(d-f)/2,k=a.lng-g,k=180<k||-180>k?-(g+a.lng):k,c=c+(0>k?2*k:0),c=-180>c?360+c:c,e=e+(0<k?2*k:0),e=180<e?e-360:e,d=0<h?d+2*h:d;90<=d&&(d=90);f=0>h?f+2*h:f;-90>=f&&(f=-90);return b?re(b,d,c,f,e):new I(d,c,f,e)};I.prototype.resizeToCenter=I.prototype.m;function J(a,b){a&&ze(a,J,0);this.a=null;this.b=a||[];this.o=b;this.c=Ae(this,0,this.b.length)}q("H.geo.Strip",J);function Ae(a,b,c){a=a.b;var d=0;b=xa(b,0);c=wa(c,a.length);c-=2;for(b+=1;b<c;)d+=Be(a[b],a[b+=3]);return d}J.prototype.v=function(a,b,c){Ce(this,a,b,c,this.v)};J.prototype.pushLatLngAlt=J.prototype.v;function Ce(a,b,c,d,e){var f=a.b.length;b=Lb(b,e);c=Mb(c,e);a.b.push(Lb(b,e),Mb(c,e),d===A?0:Nb(d,e));f&&(a.c+=Be(a.b[f-2],c));a.a=null}
J.prototype.i=function(a,b,c){c&&ze(c,this.i,2);var d;b&&(this.c-=Ae(this,a-3,a+b+3));d=c?this.b.splice.apply(this.b,[a,b].concat(c)):this.b.splice(a,b);c&&(this.c+=Ae(this,a-3,a+c.length+3));b&&!c&&(this.c+=Ae(this,a-3,a-3));this.a=null;return d};J.prototype.spliceLatLngAlts=J.prototype.i;J.prototype.m=function(a,b,c,d){this.i(a,0,[b,c,d])};J.prototype.insertLatLngAlt=J.prototype.m;J.prototype.s=function(a){this.i(a,3)};J.prototype.removeLatLngAlt=J.prototype.s;
J.prototype.f=function(a){Ce(this,a.lat,a.lng,a.alt,this.f)};J.prototype.pushPoint=J.prototype.f;J.prototype.F=function(a,b){this.m(3*a,b.lat,b.lng,b.alt)};J.prototype.insertPoint=J.prototype.F;J.prototype.M=function(a){this.s(3*a)};J.prototype.removePoint=J.prototype.M;J.prototype.g=function(a,b){var c=this.b,d=3*a,e=c[d],f=c[d+1],c=c[d+2];b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.o&&(b.ctx=this.o));return b||new Qb(e,f,c,null!=c?this.o:void 0)};J.prototype.extractPoint=J.prototype.g;
J.prototype.S=function(a,b,c){var d=this.b;b=b||0;for(c=c||d.length;b<c;b+=3)a(d[b],d[b+1],d[2],b/3)};J.prototype.eachLatLngAlt=J.prototype.S;J.prototype.j=function(a){var b=this.c;a&&(a=this.b,b+=Be(a[a.length-2],a[1]));return b};J.prototype.getDBCs=J.prototype.j;J.prototype.l=function(){return this.b.length/3};J.prototype.getPointCount=J.prototype.l;J.prototype.u=function(){return this.b};J.prototype.getLatLngAltArray=J.prototype.u;
J.prototype.X=function(){var a;if(!(a=this.a)){a=this.b;var b=a.length,c=3,d,e,f,g,h,k=null,l=ue;if(3<=b)for(d=e=a[0],f=g=a[1],k=new I(d,f,e,g);c<b;c+=3){d=a[c-3];f=a[c-2];e=a[c];g=a[c+1];if(f>g&&180<g-f||f<g&&-180>f-g||g<f&&180>Ba(g-f))h=f,f=g,g=h;d<e&&(h=d,d=e,e=h);l(k.xa,k.ja,k.sa,k.ma,d,f,e,g,k)}a=this.a=k}return a};J.prototype.getBounds=J.prototype.X;J.prototype.B=function(){return null!==this.a};J.prototype.hasBounds=J.prototype.B;
function ze(a,b,c){for(var d=a.length,e=!(d%3),f;e&&d;)e=!(D(a[--d]=Nb((f=a[d])===A?0:f))||D(a[--d]=Mb(a[d]))||D(a[--d]=Lb(a[d])));if(!e&&b)throw new C(b,c,a);}function Be(a,b){return 0>a/b&&180<Ba(b-a)}J.isDBC=Be;function De(a){var b=new J,c=0,d=a.length;if(d%2)throw new C(De,0,a);for(;c<d;)Ce(b,a[c++],a[c++],0,De);return b}J.fromLatLngArray=De;function Ee(a){var b,c,d,e;if(a){b=Fe;for(e=B(a,Ee);b--;)if(c=Ge[b],a.hasOwnProperty(c))if(d=a[c],e)this[c]=d;else{if((d=He[b](d))===Ie)throw new C(Ee,0,c+": "+a[c]);d!==this[c]&&d!==A&&(this[c]=d)}b=e?a.b:this.lineWidth&&Vd(this.strokeColor);b||(this.b=b);b=e?a.c:Vd(this.fillColor);b||(this.c=b);b=e?a.a:"none"!==this.strokeColor&&this.lineWidth;b||(this.a=b)}qb(this)}q("H.map.SpatialStyle",Ee);Ee.prototype.c=!0;Ee.prototype.b=!0;Ee.prototype.a=!0;var Ge=[];
Ee.prototype[Ge[0]="strokeColor"]="rgba(0,85,170,.6)";Ee.prototype[Ge[1]="fillColor"]="rgba(0,85,170,.4)";Ee.prototype[Ge[2]="lineWidth"]=2;Ee.prototype[Ge[3]="lineCap"]="round";Ee.prototype[Ge[4]="lineJoin"]="miter";Ee.prototype[Ge[5]="miterLimit"]=10;Ee.prototype[Ge[6]="lineDash"]=ae;Ee.prototype[Ge[7]="lineDashOffset"]=0;var Fe=Ge.length;Ee.prototype.g=function(a){var b,c;b=this===a;if(!b&&a){for(b=0;b<Fe&&(c=Ge[b],this[c]===a[c]);b++);b=b===Fe}return b};Ee.prototype.equals=Ee.prototype.g;
Ee.prototype.f=function(a){var b;a?(b={},hb(b,this,a)):b=this;return new Ee(b)};Ee.prototype.getCopy=Ee.prototype.f;var Ie=qb({}),He=[function(a){return a?ob(a):Ie},function(a){return a?ob(a):Ie},function(a){return 0<=a&&100>=a?+a:Ie},function(a){return"butt"===(a=ob(a))||"square"===a||"round"===a?a:Ie},function(a){return"round"===a||"bevel"===a||"miter"===a?a:Ie},function(a){return 0<a&&100>=a?+a:Ie},function(a){return a&&a.every&&a.every(Cb)?a:Ie},function(a){return D(+a)?Ie:+a}];
Ee.MAX_LINE_WIDTH=100;var Je=new Ee;Ee.DEFAULT_STYLE=Je;function Ke(a){var b,c,d;if(a){b=B(a,Ke);for(c in a)c in this&&(d=a[c],d!==this[c]&&("fillColor"===c||0<(d=+d))&&(this[c]=d));a=b?a.jd:!!(Vd(this.fillColor)&&this.width&&this.width);a||(this.jd=a)}qb(this)}q("H.map.ArrowStyle",Ke);Ke.prototype.jd=!0;hb(Ke.prototype,{fillColor:"rgba(255,255,255,.75)",width:1.2,length:1.6,frequency:5});Ke.prototype.a=function(a){var b=this===a;!b&&a&&(b=a.width===this.width&&a.fillColor===this.fillColor&&a.length===this.length&&a.frequency===this.frequency);return b};
Ke.prototype.equals=Ke.prototype.a;function Le(a,b){var c;Le.A.constructor.call(this,b);b&&this.ea(b.style);a&&(this.l=!0);Le.A.constructor.call(this,b);b&&(c=b.arrows)&&this.Ac(c)}v(Le,F);q("H.map.Spatial",Le);Le.prototype.type=ne.SPATIAL;Le.prototype.Uc=0;Le.prototype.style=Je;Le.prototype.ua=function(){return this.style};Le.prototype.getStyle=Le.prototype.ua;
Le.prototype.ea=function(a){var b=this.style,c=!0;a?this.style=B(a,Ee)?a:new Ee(a):this.style?delete this.style:c=!1;c&&(this.dispatchEvent(new le("stylechange",this.style,b)),this.invalidate(ke.VISUAL));return this};Le.prototype.setStyle=Le.prototype.ea;Le.prototype.Se=function(){return this.m};Le.prototype.getArrows=Le.prototype.Se;Le.prototype.Ac=function(a){var b=this.m,c=!1;!a&&b?(delete this.m,c=!0):!a||b&&b.a(a)||(this.m=new Ke(a),c=!0);c&&"none"!==this.style.strokeColor&&this.za(1);return this};
Le.prototype.setArrows=Le.prototype.Ac;function Me(a,b){var c=!1,d;b!==a.v&&(b===a.U?c=a.style.c:(c=a.style,c=c.b||c.c&&a.l||(d=a.m||!1)&&c.a&&d.jd));return c&&a.getVisibility(!0)}Le.prototype.U=qb([]);Le.prototype.v=qb([]);Le.prototype.l=!1;Le.prototype.ni=function(){return this.l};Le.prototype.isClosed=Le.prototype.ni;Le.prototype.getGeometry=Le.prototype.dc;Le.prototype.Na=function(){return x};Le.prototype.getLabels=Le.prototype.Na;Le.prototype.Ca=function(){return-1};
Le.prototype.getHybridIdx=Le.prototype.Ca;function Ne(a,b,c){if(!this.ri&&!this.ti)throw Error("Illegal constructor call "+ub(Ne));Ne.A.constructor.call(this,a,c);this.b(b)}v(Ne,Le);q("H.map.GeoShape",Ne);Ne.prototype.f=x;Ne.prototype.c=function(){return this.f};Ne.prototype.getStrip=Ne.prototype.c;function Oe(a,b,c){var d=a!==x&&B(a,J);c=c||Oe;if(!d||a.l()<(b||2))throw new C(c,0,a);}
Ne.prototype.b=function(a){var b;if(a!==x&&!B(a,J))throw new C(Ne.prototype.b,0,a);b=this.f;this.f=a;b!==x&&(this.dispatchEvent(new le("stripchange",a,b)),this.za(ke.SPATIAL));return this};Ne.prototype.setStrip=Ne.prototype.b;Ne.prototype.getBounds=Ne.prototype.X;function Pe(a,b,c,d){var e=[],f=b.length,g,h;for(g=0;g<f;g++)h=b[g],h.length&&e.push(Qe(a,h,c,d));return e}
function Qe(a,b,c,d){var e,f=[],g=b.length,h=0;a.Yb=0;for(e=e||0;h<g;)f.push(Re(a,b[h++],b[h++],e,d));c&&f.push(Re(a,b[0],b[1],e,d));return f}function Re(a,b,c,d,e){var f=a.Yb;f&&180<Ba(f-c)&&(c+=0>f?-360:360);a.Yb=c;return e.f(b,c+d)}function Se(a,b,c){for(var d=b,e,f=a.length+b,g,h;d--;){b=a[d];g=b.length;for(e=Array(g);g--;)h=b[g],e[g]=new L(h.x+c,h.y);a[--f]=e}}var Te=new J([0,0,0,0,0,0,0,0,0]);function Ue(a,b){Oe(a,Ve,Ue);Ue.A.constructor.call(this,!0,a,b)}v(Ue,Ne);q("H.map.Polygon",Ue);var Ve=3;Ue.prototype.ri=!0;Ue.prototype.X=function(){var a,b,c,d;if(!(a=this.u)){if(b=this.c())if(a=b.X())(c=b.j(!0))&&(d=b.l())&&(a=a.Rb(we([b.g(0),b.g(d-1)],!0),!0)),360===a.Sa()&&1===c%2&&(a=a.b(this.s?90:-90,0));this.u=a||x}return a};Ue.prototype.getBounds=Ue.prototype.X;
Ue.prototype.dc=function(a){var b,c,d,e=a.o(),f,g,h,k;d=We(this);d=Pe(this,d,!0,e);f=this.X();g=this.c().j(!0);h=this.s;k=a.l();if(360===f.Sa()&&1==g%2){var l;d[0][1].x>d[0][d[0].length-1].x&&(d[0]=d[0].reverse());b=[];c=d[0].length-1;for(g=0;g<c;g++)l=d[0][g],b[g]=new L(l.x-2*e.w,l.y),b[g+c]=new L(l.x-e.w,l.y),b[g+2*c]=new L(l.x,l.y),b[g+3*c]=new L(l.x+e.w,l.y),b[g+4*c]=new L(l.x+2*e.w,l.y);d[0]=b;e=e.f(h?90:-90,0);e.y=2*k[h?"top":"bottom"];h=e.clone();e.x=d[0][d[0].length-1].x+1;h.x=d[0][0].x-1;
d[0].push(e,h)}h=k.left;e=k.top;g=k.right;k=k.bottom;c=Xe(h,e,d[0]);d[1]&&(c^=Xe(h,e,d[1]));if(!Ye(d,h,e,g,k,!0).length)d=c?this.U:this.v;else if(!a.j().v(f)){a=[];f=[new L(h,e),new L(g,e),new L(g,k),new L(h,k)];for(k=d.length;k--;){e=d[k];h=Ze(f);var e=Ze(e),m=void 0,p=void 0,r=void 0,t=void 0,u=void 0,y=void 0,K=r=g=void 0;b=g=void 0;g={};c=b=1;l=0;l=~~(1*l);switch(l){case 1:c=b=0;break;case 2:b=0;c=1;break;case 3:b=1,c=0}l=c;var X=t=void 0,r=m=c=void 0;if(e&&h){e.Gd=$e(e.x,e.y,null,af(e));h.Gd=
$e(h.x,h.y,null,af(h));for(m=e;m.next;m=m.next)if(!m.Ta)for(p=h;p.next;p=p.next)!p.Ta&&(t=bf(m.next),X=bf(p.next),r=cf(m,t,p,X,g))&&(r=g.uh,K=g.Vf,u=g.Ai,y=g.Bi,r=$e(u,y,null,null,null,null,1,0,0,r),df(r,m,t),t=$e(u,y,null,null,null,null,1,0,0,K),df(t,p,X),r.gf=t,t.gf=r);g=ef(e,h);b&&(g=1-g);for(m=e;m;m=m.next)m.Ta&&(m.He=g,g=1-g);g=ef(h,e);l&&(g=1-g);for(p=h;p.next;p=p.next)p.Ta&&(p.He=g,g=1-g);ff(e);for(ff(h);(g=gf(e))!=e;){for(m=null;!g.pe;g=g.gf){for(b=g.He;;){m=$e(g.x,g.y,m);g.pe=1;g=b?g.next:
g.fb;if(!g)break;if(g.Ta){g.pe=1;break}}if(!g)break}m.hf=c;c=m}h=c}else h=void 0;if(h)for(e=hf(h),a.push(e);h.hf;)h=h.hf,e=hf(h),a.push(e)}d=a;d.length||(d=this.v)}return d};Ue.prototype.getGeometry=Ue.prototype.dc;function Xe(a,b,c){var d,e,f,g,h,k,l,m;e=g=c[0].x;f=h=c[0].y;d=1;for(m=c.length;d<m;d++)k=c[d].x,l=c[d].y,k>g?g=k:k<e&&(e=k),l>h?h=l:l<f&&(f=l);return e<=a&&a<=g&&f<=b&&b<=h?1===ef({x:a,y:b},c.concat(c[0])):!1}
function hf(a){var b=[],c,d=a,e,f;do{e=ya(100*(d.fi?d.fi:d.x))/100;f=ya(100*(d.gi?d.gi:d.y))/100;if(!c||.01<Fa(Ga(c.x-e,2)+Ga(c.y-f,2)))c=new L(e,f),b.push(c);d=d.next}while(d&&d!==a);return b}Ue.prototype.u=x;Ue.prototype.b=function(a){Oe(a,Ve,this.b);this.u=x;return Ue.A.b.call(this,a)};Ue.prototype.setStrip=Ue.prototype.b;Ue.prototype.s=!0;Ue.prototype.N=function(a){this.s!==a&&(this.s=a,this.u=x,this.za(ke.SPATIAL));return this};Ue.prototype.setNorthPoleCovering=Ue.prototype.N;
Ue.prototype.ff=function(){return this.s};Ue.prototype.getNorthPoleCovering=Ue.prototype.ff;
function We(a){var b,c,d;b=[[]];c=a.c().b;d=[];var e=c.length,f,g,h,k=!1;for(f=0;f<e;f+=3)g=c[f],h=c[f+1],k||180!=Ba(h)||(d.push(g),d.push(h),d.push(g),d.push(-h),k=!0),d.push(g),d.push(h);c=d;a=a.X();d=a.Sa();360>d&&-180==a.ja&&(a=new I(a.xa,180,a.sa,a.ma));360>d&&180==a.ma&&(a=new I(a.xa,a.ja,a.sa,-180));if(a.g()){h=c.length;var l;d=-1;f=Be;for(e=0;e<h-2;e+=2)if(f(c[e+1],c[e+3])){d=e+2;break}-1===d&&f(c[h-1],c[1])&&(d=h);-1!==d&&(f=c[d-2],e=c[d-1],g=c[d%h],l=c[(d+1)%h],180!==Ba(f)&&180!==Ba(g)&&
(k=Ba(g-f),h=Ba(l-e),h+=180<h?-360:0,l=Ba(180-l),l+=180<l?-360:0,h&&l&&(k/=Ba(h)/Ba(l),f=g+(g>f?-k:k),e=0<e?180:-180,c.splice(d,0,f,e,f,-e))))}b[0]=jf([].concat(c),a.ja);360>a.Sa()&&a.Wb(new Qb(a.xa,180))&&(c=jf([].concat(c),a.ma),b.push(c));return b}Ue.prototype.xc=function(){var a=Ue.prototype.xc,b=w.console;!Wd&&b&&b.warn&&(a=ub(a)+" is deprecated and will be removed soon. ",b.warn(a));return We(this)};Ue.prototype.clip=Ue.prototype.xc;
function jf(a,b){for(var c=[],d=Number.POSITIVE_INFINITY,e=-1,f,g=a.length,c=0;c<g;c+=2)f=Ba(a[c+1]-b),f+=180<f?360-f:f,f<d&&(d=f,e=c);return 0<c?(c=a.splice(e,a.length-e),c.concat(a)):a};function kf(a,b,c){kf.A.constructor.call(this,Te,c);this.bc(a);this.qb(b);c&&"precision"in c&&this.ob(c.precision)}v(kf,Ue);q("H.map.Circle",kf);kf.prototype.bc=function(a){(a=Sb(a)).a(this.j)||(this.j=a,lf(this))};kf.prototype.setCenter=kf.prototype.bc;kf.prototype.Ja=function(){return this.j};kf.prototype.getCenter=kf.prototype.Ja;kf.prototype.qb=function(a){if(D(a=ab(a,0,6371000.79*Pa/2)))throw new C(this.qb,0,a);this.Pa!==a&&(this.Pa=a,lf(this))};kf.prototype.setRadius=kf.prototype.qb;
kf.prototype.ji=function(){return this.Pa};kf.prototype.getRadius=kf.prototype.ji;kf.prototype.a=60;kf.prototype.ob=function(a){if(!Bb(a))throw new C(this.ob,0,a);this.a!==(a=ab(ya(a),4,360))&&(this.a=a,lf(this))};kf.prototype.setPrecision=kf.prototype.ob;kf.prototype.Yh=function(){return this.a};kf.prototype.getPrecision=kf.prototype.Yh;kf.prototype.N=function(){return this};kf.prototype.setNorthPoleCovering=kf.prototype.N;kf.prototype.b=function(){return this};kf.prototype.setStrip=kf.prototype.b;
kf.prototype.c=function(){this.f||kf.A.b.call(this,mf(this));return this.f};kf.prototype.getStrip=kf.prototype.c;function lf(a){a.f!==x&&kf.A.b.call(a,mf(a))}function mf(a){var b=a.j,c=b.lat,d=a.Pa,e=0,f=new J;a.s=0<c;if(90===Ba(c))for(c=b.Gf(0,d,!0).lat;360>e;e+=120)f.v(c,e-180,A);else for(a=a.a,a=360/a;360>e;e+=a)f.f(b.Gf(e,d,!0));return f};function nf(a,b,c,d,e){this.l=a||10;this.a=this.b=this.j=null;this.c=d||0;this.f=e||0;this.g=b||1;this.i=c||1;this.a=this.j=new of(null,0,this.c-this.g,this.f-this.i,this.c+this.g,this.f+this.i);this.b=null}function pf(a,b){for(var c,d,e,f,g,h,k,l=0,m,p,r=4,t;r--;){t=r+4;g=[];c=+!(r%3);h=b[r];for(m=(d=a[r]).length;m--;){e=d[m];if(f=e.R)for(p=f.length;p--;)((k=f[p][r])>h)-c&&(h=k);for(p=4;p--;)if(f=e[p])c?f[t]<h&&g.push(f):f[t]>h&&g.push(f)}l+=g.length;b[r]=h;a[r]=g}l&&(b=pf(a,b));return b}
nf.prototype.remove=function(a){var b,c=a.a,d=c.R;if(d&&(b=d.indexOf(a),-1!==b&&(d.splice(b,1),!d.length))){delete c.R;for(var e=this.a;(d=c.a)&&!(c.R||c[0]||c[1]||c[2]||c[3]);)c===e&&(e=d),delete c.a,delete d[c.b],c=d;this.a=e;qf(this)}(b=0<=b)&&rf(this,a,!1);return b};function rf(a,b,c){var d,e;if(d=a.b)for(e=4;e--;)if(e%3?b[e]>=d[e]:b[e]<=d[e])if(c)d[e]=b[e];else{a.b=null;break}}
function sf(a,b,c,d,e,f,g){var h=b[8],k=b[9];if(g&&(e<h||e<b[5]&&c>=h)&&(f<k||f<b[6]&&d>=k)){var l=sf,h=(d>=k?2:0)|c>=h;b=b[h]||(b[h]=new of(b,h));c=l(a,b,c,d,e,f,g-1)}else c=new tf(b,c,d,e,f),(b.R||(b.R=[])).push(c),rf(a,c,!0),qf(a,b);return c}function qf(a,b){var c=a.a,d;if(b){if(d=b,d!==c)for(c=d;d=d.a;)if(d.R||3>!d[0]+!d[1]+!d[2]+!d[3])c=d}else for(;!c.R&&2< !c[0]+!c[1]+!c[2]+!c[3];)if(d=c[0]||c[1]||c[2]||c[3])c=d;else break;a.a=c}
nf.prototype.Ta=function(a,b,c,d){var e=[];uf(this,this.a,e,a,b,c,d);return e};function uf(a,b,c,d,e,f,g){var h,k,l=b.R;k=b[7];var m=b[8],p=b[5],r=b[4],t=b[9],u=b[6],y;if(l)if(h=l.length,d>k||f<p||e>r||g<u)for(;h--;)k=l[h],p=k[3],r=k[0],u=k[1],y=k[2],p>f||u<d||r>g||y<e||c.push(k);else for(;h--;)c.push(l[h]);f>=m&&(e<=t&&b[1]&&uf(a,b[1],c,d,e,f,g),g>=t&&b[3]&&uf(a,b[3],c,d,e,f,g));d<=m&&(e<=t&&b[0]&&uf(a,b[0],c,d,e,f,g),g>=t&&b[2]&&uf(a,b[2],c,d,e,f,g))}
function of(a,b,c,d,e,f){a?(this.a=a,this.b=b,b&1?(c=a[8],e=a[5]):(c=a[7],e=a[8]),b&2?(d=a[9],f=a[6]):(d=a[4],f=a[9])):this.b=this.a=null;this[7]=c;this[5]=e;this[8]=(c+e)/2;this[4]=d;this[6]=f;this[9]=(d+f)/2}function tf(a,b,c,d,e){this.id=++vf;this.a=a;this[0]=c;this[1]=d;this[2]=e;this[3]=b}var vf=0;function wf(a){this.i=new nf(+a||10,180,90,0,0);this.g=[];this.b=this.f=this.a=null}wf.prototype.c=0;
wf.prototype.X=function(){var a,b,c;if(!this.a){c=[];var d;if(d=!this.f){a=this.i;var e;!(e=a.b)&&(d=a.a,d.R||d[0]||d[1]||d[2]||d[3])&&(e=[d],e=pf([e,e,e,e],[d[6],d[7],d[4],d[5]]),a.b=e);d=a=e}d&&(this.f=new I(-a[0],a[3],-a[2],a[1]));(b=this.f)&&c.push(b);var f,g,h,k;if(!this.b&&(k=(g=this.g).length)){a=90;d=360;e=-90;for(f=0;k--;)h=g[k],a=wa(a,h[0]),d=wa(d,h[3]),e=xa(e,h[2]),f=xa(f,h[1]);this.b=new I(-a,d,-e,f-360)}(b=this.b)&&c.push(b);if(b=c[0])c[1]&&(b=b.Rb(c[1],!0)),this.a=b}return this.a};
function xf(a,b,c,d,e,f){f?(f=new tf(null,e,-b,c+360,-d),a.g.push(f),a.b&&a.b.a(b,c,d,e,!0,a.b)):(f=a.i,f=sf(f,f.j,c,-b,e,-d,f.l),a.f&&a.f.a(b,c,d,e,!0,a.f));++a.c;a.a=null;return f}function yf(a,b){var c=b.lng,d=b.lat;return xf(a,d,c,d,c,!1)}function zf(a,b){var c=b.lb(),d=b.kb(),e=b.g();return e?xf(a,c.lat,d.lng,d.lat,c.lng,e):xf(a,c.lat,c.lng,d.lat,d.lng,e)}
wf.prototype.remove=function(a){var b,c=!1;if(a.a)c=this.i.remove(a),this.f=null;else if(a=(b=this.g).indexOf(a),c=0<=a)b.splice(a,1),this.b=null;c&&(--this.c,this.a=null);return c};function Af(a,b,c,d,e){a=a.g;var f=a.length,g,h=[],k,l;if(f)for(k=c+360,l=e+360;f--;)g=a[f],Bf(g,b,c,d,e)?h.push(g):Bf(g,b,k,d,l)&&h.push(g);return h}function Bf(a,b,c,d,e){var f=a[0],g=a[1],h=a[2];return!(a[3]>e||g<c||f>d||h<b)}
function Cf(a,b){var c,d,e,f;if(d=b.length){c=a.length;for(e={};c--;)e[a[c].id]=1;for(;d--;)(f=b[d]).id in e||a.push(f)}}function Ef(a,b){var c=a.i,d=b.lb(),e=b.kb(),f=-d.lat,d=d.lng,g=-e.lat,e=e.lng,h;b.g()?(h=c.Ta(-180,f,e,g),Cf(h,c.Ta(d,f,180,g)),Cf(h,Af(a,f,e,g,d+360))):(h=c.Ta(d,f,e,g),Cf(h,Af(a,f,d,g,e)));return h};function Ff(a,b){Oe(a,Gf,Ff);Ff.A.constructor.call(this,!1,a,b)}v(Ff,Ne);q("H.map.Polyline",Ff);var Gf=2;Ff.prototype.ti=!0;Ff.prototype.X=function(){return this.a.X()};Ff.prototype.getBounds=Ff.prototype.X;Ff.prototype.b=function(a){var b,c,d,e=this.a=new wf;Oe(a,Gf,this.b);Oe(a,Gf,this.b);a.S(function(a,g,h,k){if(0<k){var l,m,p;c<g?(h=c,m=g):(h=g,m=c);b<a?(l=a,p=b):(l=b,p=a);d=xf(e,l,h,p,m,180<m-h);d.qe=k-1}b=a;c=g});return Ff.A.b.call(this,a)};Ff.prototype.setStrip=Ff.prototype.b;
Ff.prototype.j=function(a){return Hf(this,a)};Ff.prototype.clip=Ff.prototype.j;Ff.prototype.dc=function(a){var b=Hf(this,a.j()),c=a.o(),d,b=Pe(this,b,!1,c);if(d=b.length){var c=c.w,e=b;a.x||Se(e,d,-c);a.x===(1<<a.z)-1&&Se(e,d,c);a=a.l();b=Ye(b,a.left,a.top,a.right,a.bottom,!1);b.length||(b=this.v)}else b=this.v;return b};Ff.prototype.getGeometry=Ff.prototype.dc;function If(a,b){return a.qe-b.qe}
function Hf(a,b){var c,d,e=a.f.b,f,g,h,k=-2,l=[],m,p=Be;c=Ef(a.a,b).sort(If);f=c.length;for(g=0;g<f;g++)d=c[g],h=d.qe,d=3*h,k+1!==h&&l.push(m=[e[d],e[d+1]]),k=h,d+=3,h=e[d],d=e[d+1],m.push(h,d);if(a.f.j()){e=[];for(g=0;g<l.length;g++)if(m=l[g],f=m.length){k=[];for(c=0;c<f;c+=2)0==c||0<c&&!p(m[c+1],m[c-1])?k.push(m[c],m[c+1]):(k.push(m[c],m[c+1]),e.push(k),k=[],m[c-1]+=0>m[c-1]?360:-360,k.push(m[c-2],m[c-1],m[c],m[c+1]));e.push(k)}l=e}return l};function Jf(a){var b=""+Zd++,c;a=a||{};this.min=a.min||0;this.max=a.max||22;if(c=a.uri){if(/_/.test(c))throw new C(Jf,0,"uri "+c);}else c=b;this.uri=c||b;this.uid=b;a.getCopyrights&&xb(a.getCopyrights,"Function",Jf)&&(this.getCopyrights=a.getCopyrights);Jf.A.constructor.call(this)}v(Jf,E);q("H.map.provider.Provider",Jf);Jf.prototype.C={ba:"update"};function Kf(a,b){a.dispatchEvent(new ad(a.C.ba,b))}Jf.prototype.D=function(){E.prototype.D.call(this)};Jf.prototype.Da=function(){return null};
Jf.prototype.getCopyrights=Jf.prototype.Da;function Lf(a){var b;tb(this,Lf);Lf.A.constructor.call(this,a);if(a&&"tileSize"in a){b=Ea(+a.tileSize)/Oa;if(isNaN(b)||b%1||0>b||30<b)throw new C(Lf,0,"tileSize: "+a.tileSize);this.tileSize=+a.tileSize}}v(Lf,Jf);q("H.map.provider.TileProvider",Lf);function Mf(a,b){return Ya(a)-8-ya(Ya(b))}Lf.getZoomLevelOffset=Mf;Lf.prototype.createTileInternal=ha;Lf.prototype.m=function(a,b,c){return this.uri.concat("_",a,"_",b,"_",c)};Lf.prototype.getTileKey=Lf.prototype.m;Lf.prototype.tileSize=256;function Nf(){}q("H.util.ICache",Nf);Nf.prototype.add=function(){};Nf.prototype.add=Nf.prototype.add;Nf.prototype.get=function(){};Nf.prototype.get=Nf.prototype.get;Nf.prototype.g=function(){};Nf.prototype.drop=Nf.prototype.g;Nf.prototype.forEach=function(){};Nf.prototype.forEach=Nf.prototype.forEach;Nf.prototype.Fa=function(){};Nf.prototype.removeAll=Nf.prototype.Fa;Nf.prototype.c=function(){};Nf.prototype.registerOnDrop=Nf.prototype.c;function Of(a,b,c){if(!(0<a))throw new C(Of,0,a);b&&this.c(b);if(c&&!la(c))throw new C(Of,2,c);this.i=+a;this.a=0;this.filter=c;this.R={};this.f=this.b=null}q("H.util.Cache",Of);Of.prototype.add=function(a,b,c){var d,e;c=+c;if(!Bb(c)||0>c)throw new C(this.add,2,c);a=String(a);d=this.R[a];e=!0;this.filter&&(e=this.filter(a,b,c));d?e?(this.a+=c-d.size,d.size=c,d.data=b,Pf(this,d)):Qf(this,d,!0):e&&(this.R[a]=Rf(this,{id:a,data:b,size:c,Ic:null,Sb:null},this.b));Sf(this);return e};
Of.prototype.add=Of.prototype.add;Of.prototype.c=function(a){if(!la(a))throw new C(this.c,0,a);this.j=a};Of.prototype.registerOnDrop=Of.prototype.c;Of.prototype.get=function(a,b){var c=b?this.R[a]:Pf(this,this.R[a]);return c&&c.data};Of.prototype.get=Of.prototype.get;Of.prototype.g=function(a){var b;(b=this.R[a])&&Qf(this,b,!0)};Of.prototype.drop=Of.prototype.g;Of.prototype.forEach=function(a,b,c){var d,e;for(e in this.R)d=this.R[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)};
Of.prototype.forEach=Of.prototype.forEach;Of.prototype.Fa=function(a){var b,c;for(c in this.R)b=this.R[c],(a?a(c,b.data,b.size):1)&&Qf(this,this.R[c],!0)};Of.prototype.removeAll=Of.prototype.Fa;Of.prototype.v=function(a){this.i=a;Sf(this);return this};Of.prototype.setMaxSize=Of.prototype.v;Of.prototype.o=function(){return this.i};Of.prototype.getMaxSize=Of.prototype.o;Of.prototype.l=function(){return this.a};Of.prototype.getCurrentSize=Of.prototype.l;
function Pf(a,b){b&&(a.b=Rf(a,b,a.b));return b}function Sf(a){for(;a.a>a.i&&a.f;)Qf(a,a.f,!0)}function Rf(a,b,c){if(c!==b){(b.Ic||b.Sb)&&Qf(a,b);if(b.Ic=c)b.Sb=c.Sb,c.Sb=b;b.Sb||(a.b=b);b.Ic||(a.f=b);a.a+=b.size}return b}function Qf(a,b,c){var d=b.Sb,e=b.Ic;if(d||e||b==a.b&&b==a.f)d?d.Ic=e:a.b=e,e?e.Sb=d:a.f=d,a.a-=b.size,c&&(a.j&&a.j(b.id,b.data,b.size),delete a.R[b.id]);b.Ic=b.Sb=null};function Tf(a,b,c,d){this.key="";this.x=a;this.y=b;this.z=c;this.data=d;this.valid=!0}q("H.map.provider.Tile",Tf);function M(a){tb(this,M);M.A.constructor.call(this,a);this.a={};this.entryWeight=1;this.ga=new Uf;this.j=z(this.j,this)}v(M,Lf);q("H.map.provider.RemoteTileProvider",M);M.prototype.MAX_STORE_TIME=Infinity;var Vf=new Of(65536);M.cache=Vf;M.prototype.c=function(){return Vf};M.prototype.getCache=M.prototype.c;M.prototype.l=function(){return this.ga};M.prototype.getStorage=M.prototype.l;M.prototype.j=function(a){return rb(a,"_")[0]===this.uri};M.prototype.cacheFilter=M.prototype.j;
M.prototype.requestInternal=ha;M.prototype.createTileInternal=function(a,b,c,d){return new Tf(a,b,c,d)};M.prototype.F={cancel:function(){}};
M.prototype.o=function(a,b,c,d){var e=this,f,g,h,k=this.getCache(),l,m=this.a,p=this.l();if(D(a=+a))throw new C(this.o,0,a);if(D(b=+b))throw new C(this.o,0,b);if(D(c=+c))throw new C(this.o,0,c);c=~~c;f=this.getTileKey(a,b,c);g=k.get(f);g&&g.valid||d||this.a[f]||(m[f]=this.F,h=function(d){var h;d&&(h=w.Date.now()-d.timestamp);d&&h<e.MAX_STORE_TIME?e.U(d.raw,function(d){delete e.a[f];g=e.createTileInternal(a,b,c,d,{});g.key=f;k.add(f,g,e.entryWeight);Kf(e)}):(h&&p.remove(f),g=void 0,e.a[f]=e.requestInternal(a,
b,c,function(d,h){g=e.createTileInternal(a,b,c,d,h);g.key=f;k.add(f,g,e.entryWeight);delete e.a[f];Kf(e)},function(){delete e.a[f]}),g&&delete e.a[f])},l=p.get(f,h,function(){l=e.ga.get(f,h)}),m[f]&&m[f]===this.F&&l&&(m[f]=l));return g};M.prototype.requestTile=M.prototype.o;M.prototype.U=function(a,b){b(a)};function Wf(a,b,c,d,e,f){var g=a.l();d=~~d;return a.requestInternal(b,c,d,function(h,k){g.kd(a.m(b,c,d),k&&{raw:k.oi,timestamp:w.Date.now()},e,f)},f,0)}M.prototype.v=function(){return!1};
M.prototype.canStore=M.prototype.v;M.prototype.u=function(a){var b=this.a[a];b&&(b.cancel(),delete this.a[a])};M.prototype.cancelTileByKey=M.prototype.u;M.prototype.M=function(a,b,c){this.cancelTileByKey(this.getTileKey(a,b,c))};M.prototype.cancelTile=M.prototype.M;M.prototype.i=function(a){var b,c=this.getCache();a?c.Fa(this.j):c.forEach(this.ia,this,this.j);for(b in this.a)this.a[b].cancel();this.a={};Kf(this)};M.prototype.reload=M.prototype.i;M.prototype.ia=function(a,b){b.valid=!1};
M.prototype.D=function(){var a;this.getCache().Fa(this.j);for(a in this.a)this.a[a].cancel(),delete this.a[a]};function Uf(){}M.NullStorage=Uf;Uf.prototype.get=function(a,b){b();return M.prototype.F};Uf.prototype.get=Uf.prototype.get;Uf.prototype.kd=function(a,b,c){c&&c()};Uf.prototype.put=Uf.prototype.kd;Uf.prototype.Ue=function(a){a&&a()};Uf.prototype.clear=Uf.prototype.Ue;Uf.prototype.remove=function(a,b){b()};Uf.prototype.remove=Uf.prototype.remove;function Xf(a){if(!a||!la(a.requestData))throw new C(Xf,0,"options.requestData");Xf.A.constructor.call(this,a);this.ra=a.requestData;this.N=!!a.providesDomMarkers||!1}v(Xf,M);q("H.map.provider.MarkerTileProvider",Xf);Xf.prototype.requestInternal=function(a,b,c,d,e){var f=this;return this.ra(a,b,c,function(e){for(var h=[],k,l,m=e.length;m--;)l=e[m],l.vi=f.getTileKey(a,b,c),l.da(f),k=l.wb(),(B(l,Yf)||k.getState()===k.yd.READY)&&h.push(e[m]);d(h)},e)};
Xf.prototype.B=function(a,b){var c;b!==ke.NONE&&((c=this.c().get(a.vi))&&(c.valid=!1),Kf(this))};Xf.prototype.invalidateObject=Xf.prototype.B;Xf.prototype.I=function(){return this.N};Xf.prototype.providesDomMarkers=Xf.prototype.I;function L(a,b){this.x=+a;this.y=+b}q("H.math.Point",L);L.prototype.set=L;L.prototype.set=L.prototype.set;L.prototype.clone=function(a){a?(a.x=this.x,a.y=this.y):a=new L(this.x,this.y);return a};L.prototype.clone=L.prototype.clone;L.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};L.prototype.add=L.prototype.add;L.prototype.b=function(a){this.x-=a.x;this.y-=a.y;return this};L.prototype.sub=L.prototype.b;L.prototype.scale=function(a,b){this.x*=a;this.y*=void 0===b?a:b;return this};
L.prototype.scale=L.prototype.scale;L.prototype.round=function(){this.x=ya(this.x);this.y=ya(this.y);return this};L.prototype.round=L.prototype.round;L.prototype.floor=function(){this.x=za(this.x);this.y=za(this.y);return this};L.prototype.floor=L.prototype.floor;L.prototype.ceil=function(){this.x=Aa(this.x);this.y=Aa(this.y);return this};L.prototype.ceil=L.prototype.ceil;L.prototype.ug=function(a){return!(!a||this.x!==a.x||this.y!==a.y)};L.prototype.equals=L.prototype.ug;
L.prototype.a=function(a,b){var c=b.x-a.x,d=b.y-a.y,e,f=a;if(c||d)e=((this.x-a.x)*c+(this.y-a.y)*d)/(c*c+d*d),0>=e?f=a:1<=e?f=b:f=new L(a.x+e*c,a.y+e*d);return f};L.prototype.getNearest=L.prototype.a;L.prototype.distance=function(a){return Fa(Ga(this.x-a.x,2)+Ga(this.y-a.y,2))};L.prototype.distance=L.prototype.distance;function Zf(a){if(!a)throw new C(Zf,0,a);return B(a,L)?a:new L(a.x,a.y)}L.fromIPoint=Zf;function $f(){}$f.prototype.Bc=function(){};q("H.geo.IProjection.prototype.latLngToPoint",$f.prototype.Bc);$f.prototype.ya=function(){};q("H.geo.IProjection.prototype.xyToGeo",$f.prototype.ya);$f.prototype.Lc=function(){};q("H.geo.IProjection.prototype.pointToGeo",$f.prototype.Lc);$f.prototype.jb=function(){};q("H.geo.IProjection.prototype.geoToPoint",$f.prototype.jb);var ag={};q("H.geo.mercator",ag);ag.a=function(a){return wa(1,xa(0,.5-Ea(La(Ra+Qa*a/180))/Pa/2))};ag.b=function(a){return a/360+.5};ag.Bc=function(a,b,c){c?(c.x=ag.b(b),c.y=ag.a(a)):c=new L(ag.b(b),ag.a(a));return c};ag.latLngToPoint=ag.Bc;ag.jb=function(a,b){return ag.Bc(a.lat,a.lng,b)};ag.geoToPoint=ag.jb;ag.f=function(a){return 0>=a?90:1<=a?-90:Va*(2*Ma(Ha(Pa*(1-2*a)))-Qa)};ag.c=function(a){return 360*(1===a?1:Za(a,1))-180};
ag.ya=function(a,b,c){c?(c.lat=ag.f(b),c.lng=ag.c(a)):c=new Qb(ag.f(b),ag.c(a));return c};ag.xyToGeo=ag.ya;ag.Lc=function(a,b){return ag.ya(a.x,a.y,b)};ag.pointToGeo=ag.Lc;function bg(a,b){this.projection=a||ag;this.g=0;this.c=this.exp=Ea(b||256)/Oa;cg(this);this.y=this.x=0}q("H.geo.PixelProjection",bg);bg.prototype.Ha=function(a){if(D(a))throw new C(this.Ha,0,a);var b=this.x/this.w,c=this.y/this.h;this.g=a;this.c=this.exp+a;cg(this);this.x=b*this.w;this.y=c*this.h};bg.prototype.rescale=bg.prototype.Ha;function cg(a){30<a.c&&(a.c=30);a.w=Ga(2,a.c);a.h=Ga(2,a.c)}bg.prototype.gg=function(){return this.g||0};bg.prototype.getZoomScale=bg.prototype.gg;
bg.prototype.geoToPixel=function(a,b){var c=this.projection.Bc(a.lat,a.lng,b);c.x=c.x*this.w-this.x;c.y=c.y*this.h-this.y;return c};bg.prototype.geoToPixel=bg.prototype.geoToPixel;bg.prototype.a=function(a,b){return this.projection.ya((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)};bg.prototype.pixelToGeo=bg.prototype.a;bg.prototype.ya=function(a,b,c){return this.projection.ya((a+this.x)/this.w,(b+this.y)/this.h,c)};bg.prototype.xyToGeo=bg.prototype.ya;
bg.prototype.f=function(a,b,c){a=this.projection.Bc(a,b,c);a.x=a.x*this.w-this.x;a.y=a.y*this.h-this.y;return a};bg.prototype.latLngToPixel=bg.prototype.f;bg.prototype.b=function(a){return new L(a.x*this.w-this.x,a.y*this.h-this.y)};bg.prototype.pointToPixel=bg.prototype.b;function N(a){this.uid=""+Zd++;N.A.constructor.call(this);a=a||{};this.min=0;this.max=22;this.wh=!!a.dark;a.min&&this.l(a.min);a.max&&this.j(a.max);this.pixelProjection=new bg(a.projection,a.minWorldSize)}v(N,E);q("H.map.layer.Layer",N);N.prototype.C={ba:"update",Yc:"minchange",Xc:"maxchange",xd:"stylechange"};N.prototype.g=x;N.prototype.contains=function(a){return a===this};N.prototype.L=function(a){return this.min<=a&&a<=this.max};N.prototype.isValid=N.prototype.L;
N.prototype.l=function(a){var b=this.min;if(a!==b){if(D(a))throw new C(N.prototype.l,0,"min is NaN");if(a<=this.max)this.min=a,this.dispatchEvent(new le(this.C.Yc,a,b));else throw new C(N.prototype.l,0,"min > max");}return this};N.prototype.setMin=N.prototype.l;N.prototype.j=function(a){var b=this.max;if(a!==b){if(D(a))throw new C(N.prototype.j,0,"max is NaN");if(a>=this.min)this.max=a,this.dispatchEvent(new le(this.C.Xc,a,b));else throw new C(N.prototype.j,0,"max < min");}return this};
N.prototype.setMax=N.prototype.j;N.prototype.I=function(){for(var a=this,b=-1/0;a;)b=xa(b,a.min),a=a.g;return b};N.prototype.getEffectiveMin=N.prototype.I;N.prototype.M=function(){for(var a=this,b=1/0;a;)b=wa(b,a.max),a=a.g;return b};N.prototype.getEffectiveMax=N.prototype.M;N.prototype.vb=bc;N.prototype.s=function(){this.dispatchEvent(this.C.ba)};N.prototype.Ra=function(){return this.a};N.prototype.getProvider=N.prototype.Ra;N.prototype.a=x;N.prototype.Da=function(){return null};
N.prototype.getCopyrights=N.prototype.Da;function dg(a,b){var c=b||{};if(!a)throw new C(eg,0,a);this.s=z(this.s,this);this.a=a;a.addEventListener(Jf.prototype.C.ba,this.s,!1,this);this.tileSize=a.tileSize;this.u={};N.call(this,{min:a.min,max:a.max,minWorldSize:this.tileSize,projection:c.Ui,dark:c.dark})}v(dg,N);q("H.map.layer.BaseTileLayer",dg);dg.prototype.f=function(a,b){var c,d=this.pixelProjection,e;if(!B(a,I))throw new C(this.f,0,a);D(b)||(c=d.gg(),d.Ha(b));e=fg(d.geoToPixel(a.lb()),d.geoToPixel(a.kb()));!D(c)&&d.Ha(c);return e};
dg.prototype.geoRectToRect=dg.prototype.f;dg.prototype.c=function(a,b){if(!B(a,gg))throw new C(this.c,0,a);if(D(b=+b))throw new C(this.c,1,b);var c=Ga(2,za(b)),d=this.tileSize,e,f;e=za(a.left/d);e===c&&--e;f=za(a.right/d);f===c&&--f;return new gg(e,ab(za(a.top/d),0,c-1),f,ab(za(a.bottom/d),0,c-1))};dg.prototype.getTileBounds=dg.prototype.c;dg.prototype.B=function(a,b,c,d){return this.a.requestTile(a,b,c,d)};dg.prototype.o=function(a,b,c){this.a.cancelTile(a,b,c)};dg.prototype.cancelTile=dg.prototype.o;
dg.prototype.Da=function(a,b){return this.a.getCopyrights?this.a.getCopyrights(a,b):null};dg.prototype.getCopyrights=dg.prototype.Da;function hg(a,b,c,d,e){d=za(d);var f=Ga(2,d),g=b.left,h=b.top,k=b.right;c=k+(c?f+(k===b.left?0:1):1);var l=b.bottom,m=[],p,r;e&&(p=g+(1+k-g)/2+e.x/a.tileSize-.5,r=h+(1+l-h)/2+e.y/a.tileSize-.5);for(;g<c;){for(h=b.top;h<=l;)a=g%f,m.push([a,h,d,e?Ba(p-g)+Ba(r-h):0]),h++;g++}return m}
function ig(a,b,c){var d;c=za(c);a.pixelProjection.Ha(c);b=a.f(b);d=a.c(b,c);return hg(a,d,b.left>b.right,c)}
dg.prototype.i=function(a,b,c,d,e){if(!B(a,gg))throw new C(this.i,0,a);if(D(c=+c))throw new C(this.i,1,c);var f,g=[],h,k=this.a,l=k.requestTile;d||(f={});b=hg(this,a,b,c,e);if(a=b.length)for(d||b.sort(jg),c=a;c--;)e=b[c],d||(f[k.m.apply(k,e)]=!0),e[3]=+d,(h=l.apply(k,e))&&g.push(h);if(!d){d=f;for(var m in this.u)this.u.hasOwnProperty(m)&&this.u[m]&&!d[m]&&this.a.cancelTileByKey(m);this.u=d}return{total:a,tiles:g}};dg.prototype.getProviderTiles=dg.prototype.i;function jg(a,b){return b[3]-a[3]};function kg(a,b){this.opacity=1;kg.A.constructor.call(this,a,b)}v(kg,dg);q("H.map.layer.MarkerTileLayer",kg);var lg={markers:[],total:0,requested:0};function mg(a,b,c,d,e){var f;f=za(c);a.pixelProjection.Ha(f);b=a.f(b);f=a.c(b,f);c=a.i(f,f.left>f.right,~~c,d,e);a=c.tiles;c=c.total;d=a.length;e=[];var g;for(g=0;g<d;g++)for(f=a[g],b=f.data.length;b--;)e.push(f.data[b]);return{markers:e,total:a.length,requested:c}}
kg.prototype.m=function(a,b,c,d){return this.a.providesDomMarkers()?lg:mg(this,a,b,c,d)};kg.prototype.requestMarkers=kg.prototype.m;kg.prototype.v=function(a,b,c,d){return this.a.providesDomMarkers()?mg(this,a,b,c,d):lg};kg.prototype.requestDomMarkers=kg.prototype.v;function ng(a,b){ng.A.constructor.call(this,Te,b);this.j(a)}v(ng,Ue);q("H.map.Rect",ng);ng.prototype.j=function(a){if(!B(a,I))throw new C(this.j,0,a);a.o(this.u)||(this.u=this.a=a,this.f!==x&&ng.A.b.call(this,og(this)))};ng.prototype.setBounds=ng.prototype.j;ng.prototype.X=function(){return this.a};ng.prototype.getBounds=ng.prototype.X;ng.prototype.N=function(){return this};ng.prototype.setNorthPoleCovering=ng.prototype.N;ng.prototype.b=function(){return this};ng.prototype.setStrip=ng.prototype.b;
ng.prototype.c=function(){return this.f||ng.A.b.call(this,og(this)).f};ng.prototype.getStrip=ng.prototype.c;function og(a){var b=a.a,c,d,e,f;a=[c=b.xa,d=b.ja,A,c,f=b.ma,A,e=b.sa,f,A,e,d,A];180<=b.Sa()&&(a.splice(9,0,e,d=b.Ja().lng,A),a.splice(3,0,c,d,A));return new J(a)};function pg(a,b,c){if(!a||!b||!c)throw new C(pg,null,"Must specify name, version and revision parameter");this.name=a;this.version=b;this.revision=c}q("H.util.BuildInfo",pg);pg.prototype.toString=function(){return this.name+";"+this.version+";"+this.revision};var qg={};function rg(a,b,c){if(!a)throw new C(rg,1,"Must specify a name parameter");return qg[a]||(qg[a]=new pg(a,b,c))}pg.get=rg;q("H.worker.IProcessorContext",function(){});function sg(){(function(){var a,b,c,d,e,f,g;f={};g={};e=d=c=b=a=void 0;g.bind=function(a,b,c){return a.call.apply(a.bind,arguments)};g.evaluate=function(a){return eval(""+a)};g.ue=g.evaluate("");f.og=function(a){return"function"===typeof a};a={};b=function(a){try{importScripts.apply(self,arguments)}catch(b){this.postError("invalid_script")}};c=function(b){a[b]=null;this.postMessage()};d=function(b,c,d){var e;if(f.og(c))e=c;else try{e=g.evaluate("("+c+")"),f.og(e)||(e=null)}catch(h){}e?(a[b]=e,d||
this.postMessage(b)):this.postError("invalid_processor")};e=function(a){this.a=a&&a[0];this.ne=a&&a[1];this.b=a&&a[2]||[]};e.prototype.postError=function(a){this.postMessage(a,g.ue,0)};e.prototype.postMessage=function(a,b,c){self.postMessage({Ti:this.a,ne:this.ne,type:c===g.ue?1:c,data:a},b||g.ue)};var h=new e;d.apply(h,["0",b,!0]);d.apply(h,["1",d,!0]);d.apply(h,["2",c,!0]);self.addEventListener("message",function(b){b=new e(b.data);var c=a[b.a];if(c)try{c.apply(b,b.b)}catch(d){b.postError(d.message)}else b.postError("processor_not_found")})})()}
;function tg(){tg.A.constructor.call(this);this.a=ug(this);this.c=nb();this.b=z(this.b,this);this.a.addEventListener("message",this.b)}v(tg,E);tg.prototype.D=function(){this.a.terminate()};tg.prototype.g=function(a){var b=a.type,c=!!this.c[b],d=a.data,e=vg++,f=d&&d.wi?d.wi:A,g=!0;c?(this.f[e]=a,a=d&&d.message,a===A||wb(a)||(a=[a]),this.a.postMessage([b,e,a],f)):(a.reject(new C(this.g,0,"processor_not_found")),g=!1);return g};
tg.prototype.b=function(a){a=a.data;var b=this.f[a.ne],c=a.data;if(b){switch(a.type){case wg:b.resolve(c);break;case xg:b.reject(c)}delete this.f[a.ne]}this.dispatchEvent(new ad(this.C.IDLE))};tg.prototype.f={};var vg=0;function yg(a,b,c){var d=vg++,e;a.f[d]=e=Ic();c===A||wb(c)||(c=[c]);a.a.postMessage([b,d,c],void 0);return e.tf}tg.prototype.C={IDLE:"idle",ERROR:"error"};tg.prototype.i=function(a,b){var c=this.j||(this.j=new ad(this.C.ERROR));c.data=b;delete this.c[a];this.dispatchEvent(c)};
tg.prototype.importScripts=function(a){yg(this,zg,a)};var zg="0";function ug(a){var b=sg,c,b=la(b)?(""+b).replace(/^[^{]+{((.|[\r\n])+?)}\s*$/,"$1"):""+b;if(w.Worker&&w.URL)try{c=new w.Worker(w.URL.createObjectURL(ie(b)))}catch(d){}c||(a=new Ag(a),function(){eval("var self = arguments[0]; "+b)}(a),c=new Bg(a));return c}var xg=0,wg=1;function Bg(a){E.call(this);this.a=a}v(Bg,E);Bg.prototype.postMessage=function(a){w.setTimeout(z(this.b,this,a),0)};
Bg.prototype.b=function(a){var b=new ad("message");b.data=a;this.a.dispatchEvent(b)};Bg.prototype.terminate=function(){this.a.J();this.J()};function Ag(a){E.call(this);this.a=a;z(this.addEventListener,this);z(this.removeEventListener,this);this.postMessage=z(this.postMessage,this)}v(Ag,E);Ag.prototype.postMessage=function(a){var b=this.b||(this.b=new ad("message"));b.data=a;w.setTimeout(z(this.a.b,this.a,b),0)};function Cg(){var a=Dg();if(!a||a.Jb)a=this,Dg=function(){return a},E.call(a),a.Rf=(navigator.hardwareConcurrency||2)-1,a.Oe=[],a.pc=[],a.Ad=[],a.Pe=nb(),a.Tg=nb();return a}v(Cg,E);var Dg=bc;
hb(Cg.prototype,{ze:function(a){var b=x,c;if(this.pc.length<this.Rf&&!this.Jb)if(a=a.type,c=this.Tg[a]){b=this.Oe.pop();b||(b=new tg,b.importScripts(Object.keys(this.Pe)),this.Ad.push(b));var d=b;d.c[a]||(d.c[a]=c,yg(d,"1",[a,la(c)?c+"":c]).then(bc,z(d.i,d,a)));this.pc.push(b)}else throw new Tb(this.ze,'Unknown type "'+a+'"');return b},Id:function(a){var b=this.pc.indexOf(a);if(0<=b)this.pc.splice(b,1),this.Oe.push(a),this.pc.length===this.Rf-1&&this.dispatchEvent("allocatable");else throw new Tb(this.Id,
"Unknown worker");},D:function(){for(var a=this.Ad,b=a.length;b--;)a[b].J();this.Oe=this.pc=this.Ad=x},Ug:function(a,b){var c=this.Tg,d=c[a];if(d){if(b!==d)throw new Tb(this.Ug,'Type "'+a+'" is already registered');}else c[a]=b},importScripts:function(a){[].concat(a).forEach(function(a){this.Pe[a]||(this.Pe[a]=!0,this.Ad.forEach(function(c){c.importScripts(a)}))},this)}});function Eg(a,b,c){Vc.call(this,a,b,c)}v(Eg,Vc);hb(Eg.prototype,{Jd:function(){var a=new bd(new Cg);return function(){return a}}(),we:bc,Ie:function(a){return a.g(this)}});function Fg(a,b){var c,d=a;if(!B(d,Element)){Gg.innerHTML=d;d=Gg.firstElementChild;if(!d)throw new C(Fg,0,"No element data");Gg.removeChild(d);c=!0;Gg.innerHTML=""}this.b=0!==be(d).length;this.i=c?d:ce(d,w.document,this.b);b&&(c="onAttach",c in b&&xb(d=b[c],"Function",Fg,1,c)&&(this.jf=d),c="onDetach",c in b&&xb(d=b[c],"Function",Fg,1,c)&&(this.f=d))}q("H.map.DomIcon",Fg);var Gg=document.createElement("DIV");Fg.prototype.jf=null;Fg.prototype.f=null;Fg.prototype.b=!1;function Hg(a,b){this.w=+a;this.h=+b}q("H.math.Size",Hg);function Ig(a,b){var c,d,e,f,g,h,k;f=a;var l=b||[];if(a!==Jg.NONE){c=d=l.length;if(-1===this.c.indexOf(f))throw new C(Ig,0,a);if(!l)throw new C(Ig,1,l);for(;d--;)if(D(l[d]))throw new C(Ig,1,l);f===Jg.RECT&&3<c&&(l=[l[0],l[1],l[2],l[1],l[2],l[3],l[0],l[3]],f=Jg.POLYGON);if(f===Jg.CIRCLE&&2<c&&(e=l[2],0<e)){f=l[0];g=l[1];d=wa(2*Aa(e),40);h=360/d;for(l=[];d--;)k=h*d*Ua,l.push(f+Ia(k)*e,g+Ka(k)*e);f=Jg.POLYGON}if(f!==Jg.POLYGON||!c||l.length%2)throw new C(Ig,1,l);this.b=l}}q("H.map.HitArea",Ig);
var Jg={NONE:0,RECT:1,CIRCLE:2,POLYGON:3};Ig.ShapeType=Jg;Ig.prototype.c=[Jg.RECT,Jg.CIRCLE,Jg.POLYGON];Ig.prototype.a=function(a,b,c){return this.b?fb(a,b,this.b,c,!0):eb.NONE};Ig.prototype.hitTest=Ig.prototype.a;function Kg(a,b){var c;tb(this,Kg);Kg.A.constructor.call(this,b);this.a(a);b&&"icon"in b&&(c=b.icon);this.Ub(c||Lg(this))}v(Kg,F);q("H.map.AbstractMarker",Kg);Kg.prototype.Ba=function(a){var b,c,d=this.Uc-a.Uc;d||(d=pe(b=oe(this),c=oe(a),!0)||a.getPosition().lat-this.getPosition().lat||pe(b,c,!1));return d};Kg.prototype.getPosition=function(){return this.b};Kg.prototype.getPosition=Kg.prototype.getPosition;
Kg.prototype.a=function(a){var b=this.b,c=!b;if(c||!b.a(a))Rb(a,c?Kg:this.a,0),this.b=Sb(a),c||this.za(ke.SPATIAL);return this};Kg.prototype.setPosition=Kg.prototype.a;Kg.prototype.wb=function(){return this.icon};Kg.prototype.getIcon=Kg.prototype.wb;Kg.prototype.Ub=function(a){var b=this.icon,c=!b;if(b!==a){if(!B(a,this.jg))throw C.apply(b=new C,c?[this.constructor,1,"icon"]:[this.a,0,a]),b;this.icon=a;c||this.za(ke.VISUAL)}return this};Kg.prototype.setIcon=Kg.prototype.Ub;
function Lg(a){var b=a.j;b||(b=a.constructor.prototype.j=a.f(Mg));return b}
var Mg={eh:'<svg xmlns="https://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',size:new Hg(28,
36),anchor:new L(14,32),hitArea:new Ig(3,[0,16,0,7,8,0,18,0,26,7,26,16,18,34,8,34])};function Yf(a,b){Yf.A.constructor.call(this,a,b)}v(Yf,Kg);q("H.map.DomMarker",Yf);Yf.prototype.type=ne.DOM_MARKER;Yf.prototype.Uc=2;Yf.prototype.f=function(a){var b=new Fg(a.eh,a);a=a.anchor;b.i.style.margin=-a.y+"px 0 0 -"+a.x+"px";return b};Yf.prototype.jg=Fg;function Ng(a,b,c){function d(){var a=z(l.b,l),b=+k.timeout||0;Og?(Pg(l,"timeout",a),e.timeout=b):b&&(l.g=setTimeout(function(){e.abort();l.b({type:"timeout"})},b));Pg(l,"error",a);Pg(l,"load",a);e.send(k.data)}var e,f,g,h=c&&c.headers||{},k={},l=this;if(!la(b))throw new C(Ng,1,"function required");a+="";hb(h,Qg.headers,h);hb(k,Qg,c||{});k.headers=h;this.c=b;this.a=e=new XMLHttpRequest;b=k.method;try{e.open(b,a,!0);for(f in k.headers)(g=k.headers[f])&&e.setRequestHeader(f,g);e.withCredentials=!!k.withCredentials;
d()}catch(m){if(Rg)this.b({type:"cors"});else{this.a=e=new XDomainRequest;try{e.open(b,a),e.onprogress=function(){},d()}catch(p){this.b({type:"cors"})}}}}q("H.net.Xhr",Ng);var Qg={method:"GET",headers:{},data:null},Rg="withCredentials"in new XMLHttpRequest,Og="timeout"in new XMLHttpRequest;function Pg(a,b,c){Rg?a.a.addEventListener(b,c):a.a["on"+b]=c}function Sg(a,b,c){Rg?a.a.removeEventListener(b,c):a.a["on"+b]=null}Ng.prototype.f=function(){this.a&&(this.a.abort(),this.a&&this.b({type:"abort"}))};
Ng.prototype.abort=Ng.prototype.f;Ng.prototype.b=function(a){a=a.type;var b=this.a,c,d;this.g&&clearTimeout(this.g);"load"===a?b instanceof XMLHttpRequest&&200!==b.status?d="network":c=b.responseText:d=4===b.readyState&&0===b.status&&"error"==a?"cors":"error"!=a?a:"network";a=this.b;Sg(this,"timeout",a);Sg(this,"error",a);Sg(this,"load",a);a=this.c;delete this.b;delete this.c;delete this.a;a(c,d)};function O(a,b,c,d,e,f){if(a&&b)this.mc(a),this.Gb(b),this.gb(c),this.l(e),this.j(f),this.Sc(d);else throw Error('Parameters "scheme" and "host" must be specified');}q("H.net.Url",O);
function Tg(a,b){var c=a,d=document,e,f,g,h,k=d.createElement("a");b&&(f=(e=d.getElementsByTagName("base")[0])&&e.href,g=d.head,h=e||g.appendChild(d.createElement("base")),h.href=b);k.href=c;c=k.href;b&&(e?e.href=f:g.removeChild(h));c=/(?:(\w+):\/\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\/[^?#]*)?(\?[^#]+)?(#.*)?/.exec(c);e=c[1];k=c[4];f=c[5];d=c[6];g=c[7];h=c[8];!c[2]&&k&&/@/.test(k)&&(k=k.split("@")[1]);var c=k,d=d&&0<d.length?d.substr(1):"",k={},l,m;if(g)for(l=/([?&]?([^=&+]+))(=([^&]+))?/g;m=
l.exec(g);)k[decodeURIComponent(m[2])]=m[4]?decodeURIComponent(m[4]):void 0;return new O(e,c,d,k,isNaN(+f)?void 0:+f,h&&0<h.length?h.substr(1):"")}O.parse=Tg;O.prototype.clone=function(){var a={},b;for(b in this.b)a[b]=this.b[b];return new O(this.i,this.f,this.a,a,this.g,this.c)};O.prototype.clone=O.prototype.clone;O.prototype.mc=function(a){if(!a||"string"!==typeof a)throw Error('The "scheme" parameter must be a non-empty string.');this.i=a;return this};O.prototype.setScheme=O.prototype.mc;
O.prototype.u=function(){return this.i};O.prototype.getScheme=O.prototype.u;O.prototype.Gb=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error('The "host" parameter is not a valid host name.');this.f=a;return this};O.prototype.setHost=O.prototype.Gb;O.prototype.v=function(){return this.f};O.prototype.getHost=O.prototype.v;O.prototype.gb=function(a){this.a=a||void 0;return this};O.prototype.setPath=O.prototype.gb;O.prototype.S=function(){return this.a};
O.prototype.getPath=O.prototype.S;O.prototype.Sc=function(a){if(a)if("object"==typeof a)this.b=a;else throw Error('Parameter "params" must be an object.');else this.b={};return this};O.prototype.setQuery=O.prototype.Sc;O.prototype.B=function(){return!Ug(this)};O.prototype.hasQuery=O.prototype.B;O.prototype.s=function(){return this.b};O.prototype.getQuery=O.prototype.s;
O.prototype.l=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter "port" must be a number or undefined');this.g=+a||void 0;return this};O.prototype.setPort=O.prototype.l;O.prototype.m=function(){return this.g};O.prototype.getPort=O.prototype.m;O.prototype.j=function(a){this.c=a||void 0;return this};O.prototype.setAnchor=O.prototype.j;O.prototype.o=function(){return this.c};O.prototype.getAnchor=O.prototype.o;
O.prototype.$=function(a){if("object"!==typeof a)throw Error('Parameter "other" must be an object.');var b=this.b,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};O.prototype.mergeQuery=O.prototype.$;O.prototype.oa=function(a){if(!a||"string"!==typeof a)throw Error('Parameter "subDomain" must be a non-empty string');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Gb(a+"."+this.f)};O.prototype.addSubDomain=O.prototype.oa;
O.prototype.V=function(a){if(!a||"string"!==typeof a)throw Error('Parameter "subPath" must be a non-empty string');return this.gb((this.a?this.a+"/":"")+a)};O.prototype.addSubPath=O.prototype.V;O.prototype.toString=function(){return[this.i+"://",this.f,this.g?":"+this.g:"",this.a||!Ug(this)||this.c?"/":"",this.a?encodeURI(this.a):"",Vg(this),this.c?"#"+encodeURIComponent(this.c):""].join("")};O.prototype.toString=O.prototype.toString;
function Vg(a){var b=[],c,d=a.b,e;for(c in d)d.hasOwnProperty(c)&&"function"!==typeof d[c]&&(e=a.b[c],b.push(encodeURIComponent(c)+(void 0===e?"":"="+encodeURIComponent(e))));return 0<b.length?"?"+b.join("&"):""}function Ug(a){var b,c=0;for(b in a.b)if(a.b.hasOwnProperty(b)&&"function"!==typeof a.b[b]&&(c++,0<c))break;return!c};function Wg(a,b,c){c=c||{};var d;if("function"!==typeof b)throw new TypeError("Invalid callback");if("string"===typeof a)a=Tg(a,c.baseURL);else if(!(a instanceof O))throw new TypeError("Invalid url");c.headers=d=c.headers||{};d.accept||(d.accept="application/json");this.b=b;this.a=new Ng(a.toString(),z(this.f,this),c)}q("H.net.JsonX",Wg);Wg.prototype.f=function(a,b){var c=this.b,d;if(!b)try{d=JSON.parse(a)}catch(e){b="parse"}delete this.b;delete this.a;c(d,b)};
Wg.prototype.c=function(){this.a&&this.a.f()};Wg.prototype.abort=Wg.prototype.c;function Xg(){var a=Yg;if(a&&!a.Jb)return a;Yg=this;E.call(this);this.Wh=10;this.Xh=6;this.Oc=nb();this.vf=nb();this.xf=0}var Yg;v(Xg,E);hb(Xg.prototype,{ze:function(a){a=a.type;var b=this.Oc[a]||0,c;return this.xf<this.Wh&&b<this.Xh?(c=this.yi(),this.xf++,this.Oc[a]=b+1,this.vf[c]=a,c):x},Id:function(a){var b=this.vf[a];if(b===A||!this.Oc[b])throw new Tb(this.Id,"Unknown requestId");this.xf--;this.Oc[b]--;this.Oc[b]||delete this.Oc[b];delete this.vf[a];this.dispatchEvent("allocatable")},Nh:-1,yi:function(){return++this.Nh}});function Zg(a,b,c,d){var e=$g;if(!this.a[a])throw new C(Zg,0,"Mime type is not supported");this.i=a;this.g=d&&d.crossOrigin;e.href=b;Vc.call(this,e.protocol+"//"+e.hostname,b,c)}v(Zg,Vc);Zg.prototype.Ie=function(){this.f=this.a[this.i].call(this);return!0};Zg.prototype.we=function(){this.f.abort();this.f=null};Zg.prototype.c=function(a,b){b?this.reject(b):this.resolve(a)};
Zg.prototype.a={"application/json":function(){return new Wg(this.data,z(this.c,this))},"text/plain":function(){return new Ng(this.data,z(this.c,this))},image:function(){var a=w.document.createElement("img"),b=this.g;a.onload=z(this.resolve,this,a);a.onerror=z(this.reject,this,"Network error");a.src=this.data;b!==A&&(a.crossOrigin=b);return{abort:function(){a.onerror=a.onload=null;Xd&&ge(a)||a.removeAttribute("src")}}}};
(function(){var a=new XMLHttpRequest;a.open("get","/",!0);"response"in a&&(Zg.prototype.a.arraybuffer=function(){var a=new XMLHttpRequest;a.open("GET",this.data);a.responseType="arraybuffer";a.onerror=a.ontimeout=z(this.reject,this,"Network error");a.onload=z(function(){this.resolve(a.response)},this);a.send();return a})})();Zg.prototype.Jd=function(){var a=new bd(new Xg);return function(){return a}}();var $g=w.document.createElement("a");function ah(a){var b=bh[a];if(!b)if(a in ch)b=bh[a]=a;else{var b=dh.length,c="",d=a.substr(0,1).toUpperCase()+a.substr(1),e="",f=!1;eh&&(e=eh+d,f=e in ch);for(;b--&&!f;)c=dh[b],e=c+d,f=e in ch;f&&(eh=c);if(b=f?e:null)bh[a]=b;else throw Error("Could not find any variant of CSS property ["+a+"]");}return b}q("H.dom.cssPrefixer.prefix",ah);var dh=["O","Ms","ms","Moz","Webkit"],bh={},eh="",ch=document.createElement("span").style;function fh(a,b,c,d,e){b&&(this.c=b);c!==A&&(this.Be=!!c);this.Be&&d&&(this.b=new Hg(d.w,d.h));e&&(this.f={crossOrigin:"anonymous"});switch(gh[yb(a)]){case 2:this.hc=a;hh(this,1);break;case 1:if(ge(a)){this.hc=a;ih(this);hh(this,1);break}a=a.src;case 0:if(a){a=Yd(a);this.a=new Zg("image",a,A,this.f);this.a.then(z(this.i,this),z(this.g,this));break}default:throw hh(this,-1),new C(fh,0,"No image data");}}n=fh.prototype;n.P=0;n.getState=function(){return this.P};
function hh(a,b){a.P=b;delete a.a;a.c&&a.c(b,a)}n.Be=!0;function ih(a){var b,c,d;a.Be&&(b=jh(a),c=document.createElement("CANVAS"),c.width=b.w,c.height=b.h,d=c.getContext("2d"),d.drawImage(a.hc,0,0,b.w,b.h),a.hc=c)}n.hc=x;n.getData=function(){return this.hc};var gh={String:0,HTMLImageElement:1,HTMLCanvasElement:2};fh.prototype.b=x;
function jh(a){var b=a.b,c,d,e,f;if(!b){c=a.hc;b=c.naturalWidth||c.width;if(0===b&&Xd&&1===gh[yb(c)]){d=!0;if(e=c.parentNode)f=c.nextSibling;document.body.appendChild(c)}a.b=b=new Hg(c.naturalWidth||c.width,c.naturalHeight||c.height);d&&(e?e.insertBefore(c,f):document.body.removeChild(c))}return b}fh.prototype.i=function(a){this.hc=a;ih(this);hh(this,1)};fh.prototype.g=function(){hh(this,-1)};fh.prototype.cancel=function(){this.a&&this.a.cancel(!0)};function kh(a,b){var c,d,e,f;kh.A.constructor.call(this);if(b){c="size";if(c in b){d=b[c];if(!d||isNaN(d.w)||isNaN(d.h))throw new C(kh,1,c);this.a=new Hg(d.w,d.h)}c="anchor";if(c in b){d=b[c];if(!d||isNaN(d.x)||isNaN(d.y))throw new C(kh,1,c);this.c=new L(d.x,d.y)}c="hitArea";c in b&&(d=b[c],B(d,Ig,kh,1),this.g=b[c]);c="asCanvas";c in b&&(e=b[c]);c="crossOrigin";c in b&&(f=b[c])}c=new fh(a,z(this.i,this),e,this.a,f);d=this.P=c.getState();0!==d?this.i(d,c):this.f=c}v(kh,E);q("H.map.Icon",kh);
kh.prototype.yd={ERROR:-1,LOADING:0,READY:1};kh.prototype.State=kh.prototype.yd;kh.prototype.getState=function(){return this.P};kh.prototype.getState=kh.prototype.getState;kh.prototype.i=function(a,b){this.b=b.getData();if(1===a){var c=this.a;c||(c=this.a=1===b.P?jh(b):x);this.c||(this.c=new L(c.w/2|0,c.h))}this.f&&(this.P=a,delete this.f,this.dispatchEvent("statechange"))};kh.prototype.b=x;kh.prototype.Lb=function(){return this.b};kh.prototype.getBitmap=kh.prototype.Lb;kh.prototype.a=x;
kh.prototype.o=function(){return this.a};kh.prototype.getSize=kh.prototype.o;kh.prototype.c=x;kh.prototype.l=function(){return this.c};kh.prototype.getAnchor=kh.prototype.l;kh.prototype.g=x;kh.prototype.j=function(){return this.g};kh.prototype.getHitArea=kh.prototype.j;kh.prototype.D=function(){kh.A.D.call(this);this.b?(this.b.removeAttribute("src"),delete this.b):(this.f.cancel(),delete this.f)};var lh=Md;q("H.util.events.listenOnce",lh);q("H.util.events.dispatchEvent",function(a,b){return a.dispatchEvent(b)});q("H.util.events.fireListeners",function(a,b,c,d){return ed(a)?a.tb(b,c,d):Pd(a,b,c,d)});var mh=Fd;q("H.util.events.listen",mh);var nh=Nd;q("H.util.events.unlisten",nh);
var oh=Qd,Qd=function(a,b){var c,d,e,f=!0;c=b[b.currentTarget===b.target?"AT_TARGET":a.ta?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")];if(!d||"pointerenter"!==(e=b.type)&&"pointerleave"!==e)b.eventPhase=c,f=oh(a,b),d&&a.src&&a.src.ab&&null===a.src.ab()&&delete b.eventPhase;return f};function ph(a,b){ph.A.constructor.call(this,a,b)}v(ph,Kg);q("H.map.Marker",ph);n=ph.prototype;n.type=ne.MARKER;n.Uc=1;n.za=function(a){var b;if(a!==ke.VISUAL||1===this.Sg||1===this.icon.getState())b=ph.A.za.call(this,a);return b||!1};n.Sg=0;n.jg=kh;n.Qe=!1;n.Dg=function(){this.za(ke.VISUAL)};
n.Ub=function(a){var b=this.icon;this.Qe&&(b.removeEventListener("statechange",this.Dg,!1,this),delete this.Qe);b&&(this.Sg=b.getState());ph.A.Ub.call(this,a);0===a.getState()&&(this.Qe=!0,lh(a,"statechange",this.Dg,!1,this));return this};ph.prototype.setIcon=ph.prototype.Ub;ph.prototype.f=function(a){return new kh(a.eh,a)};function qh(a,b,c,d){qh.A.constructor.call(this,a,b,c);this.modifiers=d}v(qh,le);q("H.map.ChangeEvent",qh);qh.prototype.FOV=1;qh.prototype.PITCH=2;qh.prototype.POSITION=4;qh.prototype.ROLL=8;qh.prototype.SIZE=16;qh.prototype.YAW=32;qh.prototype.ZOOM=64;qh.prototype.HEADING=128;qh.prototype.TILT=256;qh.prototype.INCLINE=512;function rh(a,b,c){var d=[];1<arguments.length&&d.push(b);2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]");this.message=(a?ub(a):"")+(d.length?" ("+d.join(" ")+")":"")}q("H.lang.OutOfRangeError",rh);rh.prototype=Error();rh.prototype.name="OutOfRangeError";function sh(){this.R=[];sh.A.constructor.call(this)}v(sh,E);q("H.util.OList",sh);function th(a,b,c){a=a.R.length;var d;if(c)d=a;else if(D(d=0>(d=+b)?xa(0,a+d):wa(a,d)))throw new rh(sh,b,[0,a-1]);return d}sh.prototype.add=function(a,b){var c=th(this,b,D(b));this.R.splice(c,0,a);this.dispatchEvent(new uh(this,this.C.pb,c,a,null))};sh.prototype.add=sh.prototype.add;function vh(a,b){var c=a.R.splice(b,1)[0];a.dispatchEvent(new uh(a,a.C.Hb,b,null,c));return c}
sh.prototype.b=function(a){this.get(a);return vh(this,a)};sh.prototype.removeAt=sh.prototype.b;sh.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(vh(this,a),!0):!1};sh.prototype.remove=sh.prototype.remove;sh.prototype.set=function(a,b){var c=this.get(a);a=th(this,a,!1);c=this.R[a];this.R[a]=b;this.dispatchEvent(new uh(this,this.C.oc,a,b,c));return c};sh.prototype.set=sh.prototype.set;sh.prototype.indexOf=function(a){return this.R.indexOf(a)};sh.prototype.indexOf=sh.prototype.indexOf;
sh.prototype.get=function(a){a=th(this,a,!1);if((a=th(this,a,!1))>=this.R.length)throw new rh(this.get,a,[0,this.R.length-1]);return this.R[a]};sh.prototype.get=sh.prototype.get;sh.prototype.f=function(){return this.R.length};sh.prototype.getLength=sh.prototype.f;sh.prototype.a=function(){return[].concat(this.R)};sh.prototype.asArray=sh.prototype.a;sh.prototype.c=function(){for(var a=this.R.length;a--;)vh(this,a)};sh.prototype.flush=sh.prototype.c;sh.prototype.D=function(){this.c();sh.A.D.call(this)};
sh.prototype.C={pb:"add",Hb:"remove",oc:"set"};function uh(a,b,c,d,e){uh.A.constructor.call(this,b,a);this.idx=c;this.added=d;this.removed=e}v(uh,ad);function wh(a){wh.A.constructor.call(this);this.dispatchEvent=z(this.dispatchEvent,this);if(a)for(var b=0,c=a.length;b<c;b++)this.add(a[b])}v(wh,sh);q("H.map.DataModel",wh);wh.prototype.add=function(a,b){B(a,N,this.add,0);wh.A.add.call(this,a,b);a.addEventListener(a.C.ba,this.dispatchEvent,!1)};wh.prototype.add=wh.prototype.add;
wh.prototype.set=function(a,b){var c;B(b,N,this.set,0);c=wh.A.set.call(this,a,b);b.addEventListener(b.C.ba,this.dispatchEvent,!1);c.removeEventListener(c.C.ba,this.dispatchEvent,!1);return c};wh.prototype.set=wh.prototype.set;wh.prototype.b=function(a){var b;(b=wh.A.b.call(this,a))&&b.removeEventListener(b.C.ba,this.dispatchEvent,!1);return b};wh.prototype.removeAt=wh.prototype.b;
wh.prototype.remove=function(a){var b;(b=wh.A.remove.call(this,a))&&a.removeEventListener(a.C.ba,this.dispatchEvent,!1);return b};wh.prototype.remove=wh.prototype.remove;wh.prototype.c=function(){for(var a=this.R.length;a--;)this.b(a);wh.A.c.call(this)};wh.prototype.flush=wh.prototype.c;function xh(a,b){la(a)&&(this.i=a);Bb(b)&&(this.a=b)}q("H.util.Request",xh);xh.State={PENDING:0,PROCESSING:1,COMPLETE:2,CANCELLED:3,ERROR:4};var yh={Sf:0,se:1,re:2,Ci:3,ERROR:4},zh=[0,1,2,3,4];xh.prototype.P=0;xh.prototype.getState=function(){return this.P};xh.prototype.getState=xh.prototype.getState;xh.prototype.K=function(a){if(0>zh.indexOf(a))throw new C(this.K,0,a);if(this.P!==a||1===a&&1<this.a)this.P=a,this.i&&this.i(this)};xh.prototype.a=1;xh.prototype.v=function(){return this.a};
xh.prototype.getTotal=xh.prototype.v;xh.prototype.b=0;xh.prototype.o=function(){return this.b};xh.prototype.getProcessed=xh.prototype.o;xh.prototype.g=0;xh.prototype.l=function(){return this.g};xh.prototype.getFailed=xh.prototype.l;function Ah(a,b){a.b<a.a&&(b===A&&(b=yh.re),b===yh.Sf||b===yh.se||a.P!==yh.Sf&&a.P!==yh.se||(a.b++,b!==yh.re&&a.g++,a.K(a.b<a.a?yh.se:yh.re)))}xh.prototype.cancel=function(){if(3!==this.P){for(var a=this.j,b=a.length;b--;)a[b].cancel();this.j=x;this.K(3)}};
xh.prototype.cancel=xh.prototype.cancel;q("H.util.Disposable",Yc);Yc.prototype.S=Yc.prototype.S;Yc.prototype.addOnDisposeCallback=Yc.prototype.S;function Bh(a){a&&"function"==typeof a.J&&a.J()}q("H.util.dispose",Bh);function Ch(){}q("H.util.ICapturable",Ch);Ch.prototype.ta=function(){};Ch.prototype.capture=Ch.prototype.ta;function Dh(a,b){var c=a.a,d=c.ownerDocument;Dh.A.constructor.call(this);this.G=a;this.a=c=c.appendChild(Eh(d,"DIV","position:absolute;bottom:4em;left:0.5em;z-index:1;height:0px;direction:ltr"));this.De=Eh(d,"DIV","position:absolute;top:0px;pointer-events:none;",Fh);this.o=c.appendChild(this.De).firstChild.firstChild.style;c=c.appendChild(Eh(d,"DIV","-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.2em;padding-left:1px"));
this.g=c.appendChild(Eh(d,"SPAN"));this.g.setAttribute("unselectable","on");this.l=c.appendChild(Eh(d,"A","color:inherit","Terms of use"));this.l.target="_blank";this.m=c=c.appendChild(Eh(d,"SPAN","color:inherit"," | "));this.s=c.appendChild(function(){var a=Eh(d,"A","color:inherit","Report image");a.target="_blank";return a}());this.j=Gh.slice();this.f(b);this.c=z(this.c,this);this.b=z(this.b,this);this.G.addEventListener(this.G.C.Qf,this.c);this.G.Z.addEventListener("add",this.b);this.G.Z.addEventListener("remove",
this.b);this.G.Z.addEventListener("set",this.b);this.b()}var Hh;v(Dh,Yc);q("H.map.Imprint",Dh);var Ih=rb("font href invert reportHref"),Gh=rb("11px Arial,sans-serif;https://here.com/terms;;https://here.com/",";");Dh.prototype.f=function(a){var b=Ih.length,c,d,e;a||(this.j=Gh.slice());for(e=this.j;b--;)c=Ih[b],d=a&&c in a?e[b]=a[c]:e[b],2===b?(this.o.fill=d?"#FFF":"#1B468D",this.a.style.color=d?"#FFF":"#333",this.pg=d):1===b?this.l[c]=d:this.a.style[c]=d};Dh.prototype.setOptions=Dh.prototype.f;
function Eh(a,b,c,d){a=a.createElement(b);c&&(a.style.cssText=c);d&&(a.innerHTML=d);return a}Dh.prototype.v=function(){return this.a};Dh.prototype.getElement=Dh.prototype.v;Dh.prototype.c=function(){var a=Gh[3],b=this.G,c=this.s,d=this.m,e;b.f().type===Jh?d.style.display="none":(b=b.b.a(),e=b.position,d.style.display="inline",c.href=a+[e.lat,e.lng,22,b.yaw,90+b.pitch].join()+",panorama.day,report");this.g.innerHTML=this.i+" "+this.Da()+" | "};Dh.prototype.b=function(){this.c();setTimeout(this.c,5E3)};
var Fh='<svg xmlns="https://www.w3.org/2000/svg" version="1.1" width="3em" height="2.2em" viewBox="0 0 540 430"><path d="M 0,303 127,430 h 77 l -53,-53 c -19,-18 -24,-31 -13,-43 8,-9 18,-8 30,3 l 64,65 39,-39 -69,-70 c -28,-28 -55,-34 -81,-7 -16,15 -18,30 -17,44 L 38,265 0,303 z m 322,-97 c -41,-41 -79,-43 -113,-9 -34,34 -28,77 5,110 41,41 86,34 120,0 17,-16 26,-31 30,-41 l -34,-19 c -5,9 -12,20 -21,28 -19,19 -36,19 -48,9 l 70,-69 -9,-8 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 38,0 l -38,37 z m 138,-3 39,-39 -42,-42 C 337,145 347,127 355,119 361,113 367,109 371,108 L 339,71 c -2,1 -7,5 -12,9 -13,14 -17,35 -13,49 L 297,114 263,148 374,260 z M 494,34 C 453,-8 415,-10 381,25 c -33,33 -25,79 6,109 41,41 85,35 119,1 20,-20 30,-39 32,-48 L 505,68 c -4,9 -13,24 -24,34 -18,19 -36,19 -48,9 L 503,42 494,34 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 37,0 l -37,37 z" /></svg>',
Kh="1987&ndash;"+xa(2015,(new Date).getFullYear())+" HERE";Dh.prototype.Da=function(){var a=this.G,b=a.getZoom(),c=a.ga(),a=a.Z,d=a.R.length,e={},f=0,g,h,k,l=[Kh];if(c)for(;f<d;f++)if(h=a.get(f).getCopyrights(c,b))for(g=0;g<h.length;g++)e[k=h[g].label]||(l.push(k),e[k]=1);return l.join(", ")};Dh.prototype.getCopyrights=Dh.prototype.Da;Dh.prototype.ua=function(){return this.a.style};Dh.prototype.getStyle=Dh.prototype.ua;Dh.prototype.i=String.fromCharCode(169);
Dh.prototype.D=function(){this.G.removeEventListener(this.G.C.Qf,this.c);this.G.Z.removeEventListener("add",this.b);this.G.Z.removeEventListener("remove",this.b);this.G.Z.removeEventListener("set",this.b);this.a.parentNode&&de(this.a)};
Dh.prototype.ta=function(a,b,c,d){var e=a.getContext("2d"),f=window.getComputedStyle(this.g),g=Ab(f.getPropertyValue("font-size")),h;h=this.De.childNodes[0];var k=this.a.ownerDocument,l=this.G.a,m=+a.height,p=ya(this.a.offsetLeft*b),r=ya(m-(l.offsetHeight-this.a.offsetTop)*b),l=h.getBoundingClientRect?h.getBoundingClientRect():{},t=l.width*b,u=l.height*b;h=this.i+" "+function(a){a=Eh(k,"div",null,a);return a.textContent||a.innerText||""}(this.Da());e.font=g*b+"px "+f.getPropertyValue("font-family");
e.fillStyle=f.getPropertyValue("color");e.textBaseline="top";e.fillText(h,p,r+ya(l.height*b));Lh(this,e.font,function(b){(new Zg("image",b)).then(function(b){e.drawImage(b,p,r,t,u);c(a)},d)},d)};Dh.prototype.capture=Dh.prototype.ta;
function Lh(a,b,c,d){Mh(z(function(a){a?this.pg?c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAYCAQAAADemFyBAAABj0lEQVQ4EZ3BQWiNARwA8P+eIWXj4KI2phzcJFnKkhZWDmMaaqkpzYGLXJELWeK05ILkIGYHJznIbS1cnOQwe2ytsWkrp+3tvffzvn0tHJ59z+8XURMd3pr1Tkf8H31KUiXX1EWtNFnAB4/Mo6gtauU8ZjTYY86iHhujFrq9cRVT2swp6FbvvVe2RTZWmcKERMm8TnUGULIjsrDbSYkrXkpMuuy1xPXIQqs5i8hH2OSj34bkIgsDUouaI2xwxzTGXZCLlWnQab8nUiPWxhKNkY1ecxKT8lIvrI7snFK2rGTZkPrIRs4EhrW6i7KLnkqUHY5sbJc4YJcZJeest85zJWejGo3xF5slnplVdCbCY58c0R7V2OeHo7HEIWO+u2lEqlfODYnTUY29fmLBsQgHFaW+SY2bkHgY1Wk2KlHQZdCfypY9sCb+RbPPEgXTyi65LzWq36B79sXKbDEm9TUq9EsNa4isbJWX6osKtyQK2iM7LfISi05EhdsKuqI2WnyRKDgeFXZG7TQZlSjqiYx+AR1m7XnpJ7e4AAAAAElFTkSuQmCC"):c("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAYCAYAAAB0kZQKAAACrElEQVR42r1WO2gUQRhe3wi+kIje7p6JkkKwEDkURZFDdmfvUsQHnoIICYgW2oitilcoJt7MHEaCCCpiIRotrMRC7IKojZVYRKMR8UkEK5N7xO/f273sDgE5mc3Az2RmLvN983/f/7NGkiPtcM9i4gVi3HLFS1obszlsTxwDeA0xFYmaycR5w5iakzgBK99vA3AiAH5tMX4b859gXTUdvjNxEiaTJ3xAT/xo6+5fms7xLVj/QlRsTx7uyJZXJJcBxg8A6Bn0P0ckkPov9OqAwCSdG9nifOy/Mj3xZDUrrdPLoDA0j0AbKZefoj4gKUxXdJMXbFdcnfYH36ANP8V4xvLkwWlgeRbxOELkM+IM5Hka2bugsQrk1lDv4PJR3xdZ3oa/3wR7ajw0isW5+kggvQpABbKk6Wy907ccrxfY+x6cjUGWk9oIkOtJ5zTju9AT7ipEnnfmBxZFf78yP7BMcxXIHpJA0Xw0SsRm4lEmc31BQj1AHAJIfQadazNqj5LUywBaRspvuGFKPhis69D/FOZ7ERJ105VMKweAdjbTnStlTUdspq5IWbAZP74qO7jE3i4Xg+iDRh+QR1uE+Ld52r1yqvlKl9/HPI6ookP2+l5x5R1k5i0qpstipd2ta+2Wd+CCn6Yn98Q9wF2Y7D3AvuFll8j5cd1ljy+TJy+GeyBxpHW3O2Ib/vl3cMkEgPf6BLyyQy9VzPZVWY/F2rTLb/2v49O4YCRy8aTtyn3Qeyiyp4ZaIVSWNzcWigtbxVeJvIsSCTpdHZqfBsANBXQEzarPJ+ryaySnnh7gXFlL+itgH8NzAlXOhqlzGrpHqou3q92PPtXCc5Ti5Xi2UAVJjDW5codCpAJJCuE50s9D32gHV4kA+EPMrDm+v0nEE5tonpUPVqVqqvSNqBvnLzd22mNdG4fzAAAAAElFTkSuQmCC"):
(a=this.De.cloneNode(!0),a.firstChild.setAttribute("style","font:"+b),c(Yd(a.innerHTML)))},a),d)}Dh.prototype.pg=!1;function Mh(a,b){var c="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(Fh),d=Hh;d!==A?a(d):(new Zg("image",c)).then(function(b){ee.drawImage(b,0,0);try{ee.getImageData(0,0,1,1),d=!1}catch(c){d=18===c.code}finally{Hh=d,a(d)}},b)};var Nh={zoom:{min:-8,max:22},camera:{alt:{min:0,max:0},pitch:{min:0,max:0},roll:{min:0,max:0},yaw:{min:0,max:0},fov:{min:70,max:70}},lookAt:{heading:{min:0,max:0},tilt:{min:0,max:0},incline:{min:0,max:0}},interaction:{ZOOM:1,nh:16},capture:!0};q("H.map.render.p2d.capabilities",Nh);function Oh(a,b){if(D(this.x=+a))throw new C(Oh,0,a);if(D(this.y=+b))throw new C(Oh,1,b);}Oh.prototype.add=function(a){return new Oh(this.x+a.x,this.y+a.y)};Oh.prototype.a=function(a){if(!B(a,Oh))throw new C(this.a,0,a);a=this.b(a);return a.x+a.y};Oh.prototype.b=function(a){if(!B(a,Oh))throw new C(this.b,0,a);return new Oh(this.x*a.x,this.y*a.y)};Oh.prototype.Ha=function(a){return new Oh(this.x*a,this.y*a)};function Ph(a){return Fa(a.a(a))};function Qh(a){a=a||{};this.l=a.minSpeed||3;this.j=a.vectorTolerance||3;this.i=a.maxSpeed||300;this.v=a.timeTolerance||50;this.b=[];this.f=this.g=!1;this.c=this.a=null}function Rh(a,b){var c,d,e,f;b?(a.bifocal&&b.bifocal?(c=Sh(a),d=Sh(b)):b.bifocal?(c=Th(a),e=Th(b).distance(c),f=Th(b,!0).distance(c),d=e>f?Th(b,!0):Th(b)):a.bifocal&&!b.bifocal?(d=Th(b),e=Th(a).distance(d),f=Th(a,!0).distance(d),c=e>f?Th(a,!0):Th(a)):(c=a,d=b),e=c.x-d.x,c=c.y-d.y,c=new Oh(e,c)):c=new Oh(0,0);return c}
function Uh(a){var b;if(!a||D(a.bx)||D(a.by))return 0;b=a.bx-a.x;a=a.by-a.y;return Fa(b*b+a*a)}function Sh(a){var b,c;!a||D(a.bx)||D(a.by)||(b=a.x-a.bx,c=a.y-a.by,b=new L(a.x-b/2,a.y-c/2));return b}function Th(a,b){return b?new L(a.bx,a.by):new L(a.x,a.y)}n=Qh.prototype;n.start=function(a,b){if(D(a))throw new C(this.start,0,a);this.g&&Vh(this);this.o=a;this.g=!0;this.f=!!b};
n.bh=function(a,b,c,d,e){var f=D(a)?0:D(b)?1:null!=c&&D(c)?2:null!=d&&D(d)?3:null!=e&&D(e)?4:A;if(0<=f)throw new C(this.bh,f,arguments[f]);this.g&&(e=e||(new Date).getTime(),this.c=this.a,this.a={x:a,y:b,bx:null!=c?c:NaN,by:null!=d?d:NaN,ts:e,bifocal:null!=c&&null!=d},this.f&&this.b.push(this.a))};function Vh(a){a.b=[];a.g=!1;a.f=!1;a.c=null;a.a=null}n.Nd=function(a){if(D(a))throw new C(this.Nd,0,a);return!!(this.o&a)};n.cb=function(){return this.g};n.Ke=ca(0);
function Wh(a){var b=a.b.length,c=0,d=new Oh(0,0);if(a.f)for(;--b&&c<a.j;)d=d.add(Rh(a.b[b],a.b[b-1])),c++;else d=Rh(a.a,a.c);a=d;b=Ph(a);return 0!==b?new Oh(a.x/b,a.y/b):a}function Xh(a){var b;b=b||Date.now();var c=a.b.length,d=a.b[c-1],e=0,f=0;if(a.f){for(;--c&&e<a.j;)f+=Ph(Rh(a.b[c],a.b[c-1])),e++;c=f/e}else d=a.a,c=Ph(Rh(a.a,a.c));c>=a.l&&b-d.ts<=a.v?c=c>a.i?a.i:c:c=0;return c}
n.dg=function(a){var b;b=this.a;var c;if(D(a))throw new C(this.dg,0,a);b&&this.c&&(b=Uh(this.c),0!==b&&(c=Uh(this.a),a=Ea(Ga(2,a)*(c/b))/Oa));return a};function gg(a,b,c,d){this.left=+a;this.top=+b;this.right=+c;this.bottom=+d}q("H.math.Rect",gg);gg.prototype.set=gg;gg.prototype.set=gg.prototype.set;gg.prototype.lb=function(){return this.i||(this.i=new L(this.left,this.top))};gg.prototype.getTopLeft=gg.prototype.lb;gg.prototype.kb=function(){return this.f||(this.f=new L(this.right,this.bottom))};gg.prototype.getBottomRight=gg.prototype.kb;gg.prototype.a=function(a,b){return this.left<=a&&this.right>=a&&this.top<=b&&this.bottom>=b};
gg.prototype.containsXY=gg.prototype.a;function fg(a,b){return new gg(a.x,a.y,b.x,b.y)}gg.fromPoints=fg;gg.prototype.clone=function(){return new gg(this.left,this.top,this.right,this.bottom)};gg.prototype.clone=gg.prototype.clone;function Yh(a,b,c){this.a=a;this.Tc=b;this.Qa=!(!c||!c.Qa);this.ownerDocument=b.b.ownerDocument;this.g={}}v(Yh,Yc);
Yh.prototype.ca=function(a,b,c,d,e,f){var g,h,k=this.a,l,m,p,r=this.Qa,t;this.l=g=this.g;this.g=h={};if(d>=k.min&&d<=k.max&&(l=this.bg(a,d,e,f),m=l.markers,a=m.length))for(m.sort(qe),d=this.Tc,Zh(d,k.opacity),k=0;k<a;k++)e=m[k],f=c.geoToPixel(e.getPosition()),p=c.w,f.x-=ya(f.x/p)*p,f.add(b),r||f.round(),(p=g[t=e.pa()])?delete g[t]:p={marker:e},h[t]=p,this.sg(p,e,e.wb(),d,f.x,f.y);return!l||l.requested&&l.requested===l.total||!l.requested&&m.length===l.total};function $h(a,b,c){this.b=[];$h.A.constructor.apply(this,arguments)}v($h,Yh);n=$h.prototype;n.bg=function(){return this.a.m.apply(this.a,arguments)};n.ca=function(){this.b=[];return $h.A.ca.apply(this,arguments)};n.sg=function(a,b,c,d,e,f){var g=c.a;b=this.Qa;var h=g.w,g=g.h,k=c.c;e-=b?k.x:ya(k.x);f-=b?k.y:ya(k.y);d.Zb(c.Lb(),e,f,h,g);a.detail?a.detail.set(e,f,e+h,f+g):a.detail=new gg(e,f,e+h,f+g);this.b.push(a)};
n.Ea=function(a,b,c){for(var d=this.b,e=d.length,f,g,h,k;e--;)if(f=d[e],g=f.detail,g.a(a,b)&&(f=f.marker,!(h=f.wb().g)||h.a(a-g.left,b-g.top,0)))if(k)k.push(f);else if(k=[f],c)break;return k||ae};n.D=function(){this.b=null;$h.A.D.call(this)};function ai(a,b,c,d){ai.A.constructor.call(this);this.b=a;this.qa=d;this.a=a.appendChild(this.createElement(a.ownerDocument));bi(this,b,c)}v(ai,Yc);function bi(a,b,c){a.zf(a.a,a.a.style,a.width=b,a.height=c,a.qa)}function ci(a){return{width:a.width,height:a.height,qa:a.qa}}ai.prototype.c=1;function Zh(a,b){a.c!==b&&(a.$g(b),a.c=b)}ai.prototype.Kd=function(){return this.c};ai.prototype.D=function(){this.Fc();this.b.removeChild(this.a);bi(this,0,0);this.a=this.b=null;ai.A.D.call(this)};function di(a,b,c,d){di.A.constructor.apply(this,arguments);this.f=this.a.getContext("2d")}v(di,ai);n=di.prototype;n.createElement=function(a){a=a.createElement("CANVAS");var b=a.style;b.position="absolute";b.top=b.left=0;return a};n.zf=function(a,b,c,d,e){a.width=xa(c,1);a.height=xa(d,1);b.width=ya(c/e)+"px";b.height=ya(d/e)+"px"};n.$g=function(a){this.f.globalAlpha=a};n.Zb=function(a,b,c,d,e){this.f.drawImage(a,b,c,d,e)};
n.Fc=function(a){var b,c;a?this.f.clearRect(b=a.left,c=a.top,a.right-b,a.bottom-c):this.a.width=this.width};n.D=function(){this.a.width=this.a.height=0;di.A.D.call(this)};function ei(a,b){ei.A.constructor.call(this,b);this.dispatchEvent=z(this.dispatchEvent,this);this.f=z(this.f,this);this.b=new sh;this.b.da(this);this.C={ba:"update",xd:"stylechange",Yc:"minchange",Xc:"maxchange",pb:"add",Hb:"remove",oc:"set"};a&&zb(a,ei,0,"must be array")&&a.forEach(z(this.add,this))}v(ei,N);q("H.map.layer.CompositeLayer",ei);ei.prototype.tb=function(a,b,c){c.target===this.b&&(c.target=this);return ei.A.tb.apply(this,[a,b,c])};
ei.prototype.f=function(a){var b=a.decompIdx;b!==A||(b=a.idx);a.decompIdx=b+this.b.indexOf(a.currentTarget);this.dispatchEvent(a)};function fi(a,b,c){var d,e;c?(c=b.addEventListener,e=a):(c=b.removeEventListener,e=x);b.g=e;for(d in a.C)(d=b.C[d])&&c.call(b,d,a.f,!1)}ei.prototype.contains=function(a){for(var b=this===a;!b&&a;)a===this?b=!0:a=a.g;return b};function gi(a,b,c,d){B(b,N,c,d||0);if(b.contains(a))throw new Tb(c,"Circular layer reference");}
ei.prototype.add=function(a,b){var c;gi(this,a,this.add);(c=a.g)&&c.remove(a);B(a,ei)&&(a.g=this);this.b.add(a,b);fi(this,a,!0)};ei.prototype.add=ei.prototype.add;ei.prototype.set=function(a,b){var c;gi(this,b,this.set,1);c=this.b.set(a,b);fi(this,b,!0);fi(this,c,!1);return c};ei.prototype.set=ei.prototype.set;ei.prototype.m=function(a){var b;(b=this.b.b(a))&&fi(this,b,!1);return b};ei.prototype.removeAt=ei.prototype.m;ei.prototype.remove=function(a){var b=this.b.remove(a);b&&fi(this,a,!1);return b};
ei.prototype.remove=ei.prototype.remove;ei.prototype.forEach=function(a,b,c){for(var d=0,e=this.b.R.length,f,g;d<e;d++){f=this.get(d);if(g=a.call(c,f,d,this))break;if(b&&B(f,ei)&&(g=f.forEach(a,b,c)))break}return g};ei.prototype.forEach=ei.prototype.forEach;ei.prototype.indexOf=function(a){return this.b.indexOf(a)};ei.prototype.indexOf=ei.prototype.indexOf;ei.prototype.v=function(){return this.b.a()};ei.prototype.asArray=ei.prototype.v;ei.prototype.get=function(a){return this.b.get(a)};
ei.prototype.get=ei.prototype.get;function hi(a){(a=a.vb())&&this.push(a)}ei.prototype.vb=function(){var a=[];this.forEach(hi,!1,a);return a.join("")};function ii(a,b,c){ii.A.constructor.apply(this,arguments);this.f=0;this.i=ci(b).qa;this.b=[];this.c=z(this.c,this)}v(ii,Yh);ii.prototype.bg=function(){return this.a.v.apply(this.a,arguments)};ii.prototype.ca=function(a,b,c,d,e,f){this.c();this.j=0;a=ii.A.ca.call(this,a,b,c,d,e,f);b=this.Tc;c=this.l;for(var g in c)ji(this,b,c[g]);return 0===this.b.length&&a};ii.prototype.c=function(){for(var a=this.b.length,b,c,d;a--;)d=this.b[a],b=d.wd,c=d.wd.wb(),c.jf(d,c,b);this.b.length=0};
ii.prototype.sg=function(a,b,c,d,e,f){var g=b.i(),h;a.detail&&(g.a(a.Jh)?ji(this,d,a):h=a.detail);h||(a.detail=h=ce(c.i,this.ownerDocument,c.b),this.f++,la(c.jf)&&this.b.push(h));a.Jh=g.Wa;h.style.zIndex=this.j++;h.wd=b;d.Zb(h,e,f,0,0)};var ki,li="pointer-events",mi;if(Xd){var ni;Xd&&Ub!==x&&(Ub=(ni=/(MSIE\s+|rv\:)([^\);]+)(\)|;)/.exec(navigator.userAgent))?+ni[2]:x);mi=Ub;9===mi?li="display":10===mi&&(li="visibility")}ki=li;
ii.prototype.Ea=function(a,b,c){var d=this.i,e,f,g,h,k,l,m,p,r;if(this.f){a/=d;b/=d;d=this.ownerDocument;e=d.documentElement;f=this.Tc.a;g=f.getBoundingClientRect();a+=g.left;for(b+=g.top;(l=m=d.elementFromPoint(a,b))&&l!==f&&l!==e&&m!==p;){for(;(r=l.parentNode)&&(!la(r.contains)||!r.contains(f));)l=r;if(r===f&&(l!==m||"svg"!==l.nodeName)&&((h||(h=[])).push(l.wd),c))break;k||(k=[]);p=m.style;k.push({Yf:p.getPropertyValue(ki),Hh:p.getPropertyPriority(ki),style:p});p.setProperty(ki,"visibility"===ki?
"hidden":"none","important");p=m}if(k)for(b=k.length;b--;)a=k[b],a.style.removeProperty(ki),ja(a.Yf)&&a.style.setProperty(ki,a.Yf,a.Hh)}return h||ae};function ji(a,b,c){b.Fc(b=c.detail);delete b.wd;a.f--;c=(a=c.marker).wb();c.f&&c.f(b,c,a)}ii.prototype.D=function(){this.b.length=0;var a=this.Tc,b=this.g,c;for(c in b)ji(this,a,b[c]);this.Tc.J();ii.A.D.call(this)};function oi(){E.call(this);this.reset()}v(oi,E);oi.prototype.start=function(a,b){this.a&&this.reset();D(a)||D(b)||(this.atX=a,this.atY=b);this.a=!0};oi.prototype.C={Kf:"animationupdate"};function pi(a){pi.A.constructor.call(this,oi.prototype.C.Kf);this.offset=a}v(pi,ad);oi.prototype.cb=function(){return this.a};oi.prototype.set=function(a,b,c){!this.a||this.b===a&&this.c===b&&this.f===c||(this.b=a,this.c=b,this.f=c,this.dispatchEvent(new pi(qi(this))))};
function qi(a){return{x:91.401472*a.b,y:91.401472*a.c,z:a.f}}oi.prototype.reset=function(){this.a=!1;this.atY=this.atX=null;this.f=this.c=this.b=0};function ri(a){a=qi(a);return Fa(a.x*a.x+a.y*a.y+a.z*a.z)}function si(a){var b=qi(a);a=ri(a)||1;return{x:b.x/a,y:b.y/a,z:b.z/a}}oi.prototype.D=function(){this.reset();oi.A.D.call(this)};function ti(a,b,c){c=c||{};B(a,ui,ti,0);B(b,di,ti,1);this.c=a;this.Qa=!(!c||!c.Qa);this.f=b;this.g=c.La||0;this.a=[];this.b={}}v(ti,Yc);
ti.prototype.ca=function(a,b,c,d,e){var f,g,h=this.c,k,l,m,p,r,t,u,y,K,X,ra,aa;d-=this.g;this.a.length=0;f=this.b;this.b=g={};if(d>=h.min&&d<=h.max&&(k=h.u(a,d,e),l=k.overlays,a=l.length))for(l.sort(qe),d=this.f,e=this.Qa,aa=h.opacity,h=0;h<a;h++)m=l[h],p=m.X(),r=c.geoToPixel(p.lb()),t=c.geoToPixel(p.kb()),p=c.w,r.x>=t.x&&(r.x-=p),p=-((r.x+t.x)/p>>1)*p,r.x+=p,r.add(b),t.x+=p,t.add(b),e||(r.round(),t.round()),(p=f[u=m.pa()])?delete f[u]:p={ii:m},g[u]=p,y=r.x,r=r.y,K=t.x,t=t.y,X=K-y,ra=t-r,Zh(d,m.Kd()*
aa),d.Zb(m.Lb(),y,r,X,ra),p.Fe?p.Fe.set(y,r,K,t):p.Fe=new gg(y,r,K,t),this.a.push(p);return!k||k.requested&&k.requested===k.total||!k.requested&&l.length===k.total};ti.prototype.Ea=function(a,b,c){for(var d=this.a,e=d.length,f,g,h;e--;)if(f=d[e],g=f.Fe,g.a(a,b))if(f=f.ii,h)h.push(f);else if(h=[f],c)break;return h||ae};ti.prototype.D=function(){this.a=null;ti.A.D.call(this)};var vi,wi=function(){function a(){}for(var b,c,d,e=rb("o ms moz webkit "),f=5;f--&&!b;)b=e[f],b=(c=w[b+(b?"R":"r")+"equestAnimationFrame"])&&!D(c.call(window,a))&&(d=w[b+(b?"C":"c")+"ancelAnimationFrame"]);vi=b?function(a){return c.call(w,a)}:function(a){return w.setTimeout(a,25)};return b?function(a){return d.call(w,a)}:function(a){return w.clearTimeout(a)}}(),xi=w.performance&&w.performance.now?function(){return w.performance.now()}:function(){return Date.now()};function yi(a,b,c,d){var e=new gg(0,0,0,0);yi.A.constructor.call(this);this.state=zi;if(!d)throw new C(yi,3,d);this.qa=d.pixelRatio;this.La=Ea(this.qa)/Oa;this.Qa=!!d.enableSubpixelRendering;this.ga={1:e.clone(),2:e.clone(),4:e.clone()};this.c=a;if(!a)throw new C(yi,0,a);Ai(this);a.addEventListener(a.C.ba,this.Eb,!1,this);this.Pb=z(this.Pb,this);this.zb=z(this.zb,this);this.Cb=z(this.Cb,this);a.startInteraction=this.Pb;a.interaction=this.zb;a.endInteraction=this.Cb;this.i=b;if(!b)throw new C(yi,1,
b);this.gc=z(this.gc,this);this.eb=z(this.eb,this);this.Bb=z(this.Bb,this);b.startControl=this.gc;b.control=this.eb;b.endControl=this.Bb;b.addEventListener(b.C.ba,this.Jc,!1,this);if(!c)throw new C(yi,2,c);this.ra=[];this.j=c;this.Vd=z(this.Vd,this);this.od=z(this.od,this);this.qd=z(this.qd,this);this.Ud=z(this.Ud,this);c.addEventListener(N.prototype.C.ba,this.Vd,!1,this);c.addEventListener(c.C.pb,this.od,!1,this);c.addEventListener(c.C.Hb,this.qd,!1,this);c.addEventListener(c.C.oc,this.Ud,!1,this)}
v(yi,E);q("H.map.render.RenderEngine",yi);yi.prototype.getCapabilities=yi.prototype.tc;yi.prototype.setPointer=yi.prototype.Ec;n=yi.prototype;n.ta=function(){return null};n.te=1E3;function Bi(a,b){a.dispatchEvent({type:Ci,target:b||a})}n.Vd=function(a){this.Eg(a.idx,a.added);this.aa()};n.od=function(a){this.ic(a.idx,a.added)};n.qd=function(a){this.pd(a.idx,a.removed,a.type===this.j.C.oc)};n.Ud=function(a){this.qd(a);this.od(a)};
function Di(a,b){for(var c=a.ra,d=b,e=0;d--;)e+=c[d]-1;return b+e}n.Eg=bc;n.ic=bc;n.pd=bc;yi.prototype.getBBox=yi.prototype.ub;function Ai(a){var b=a.c,c=b.width,d=b.height,e=b.padding,f=e.top,g=e.left,h=e.bottom,e=e.right,b=b.margin,k=-(c+g-e)/2<<0,l=-(d+f-h)/2<<0,c=c+k,d=d+l,m=a.ga;a=a.qa;m[1].set((k-b)*a,(l-b)*a,(c+b)*a,(d+b)*a);m[2].set(k*a,l*a,c*a,d*a);m[4].set((k+g)*a,(l+f)*a,(c-e)*a,(d-h)*a)}yi.prototype.Eb=function(){Ai(this)};yi.prototype.getCamForBounds=yi.prototype.L;
yi.prototype.D=function(){for(var a=this.j,b=[this.i,this.c],c=[this.Jc,this.Eb,this.Vd,this.od,this.qd,this.Ud],d=[["C","c","ontrol"],["I","i","nteraction"]],e=2,f=["start","","end"],g=[[this.gc,this.eb,this.Bb],[this.Pb,this.zb,this.Cb]],h,k,l;e--;)for(h=b[e],h.removeEventListener(h.C.ba,c[e],!1,this),k=3;k--;)l=f[k]+(f[k]?d[e][0]:d[e][1])+d[e][2],h[l]===g[e][k]&&delete h[l];h=a.C;b=[N.prototype.C.ba,h.pb,h.Hb,h.oc];for(e=4;e--;)a.removeEventListener(b[e],c[e+2],!1,this)};
function Ei(a,b){function c(){a.removeEventListener("transitionend",c,!1);b()}a.style.transition="opacity 1.5s";a.addEventListener("transitionend",c,!1);a.style.opacity=0}var Fi={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16},Ci="render",zi=0;yi.prototype.getState=function(){return this.state};yi.prototype.getState=yi.prototype.getState;var Gi={P2D:0,PANORAMA:1,P3D:2};yi.EngineType=Gi;q("H.util.animation.ease.LINEAR",function(a){return a});q("H.util.animation.ease.EASE_IN_QUAD",function(a){return a*a});function Hi(a){return-a*(a-2)}q("H.util.animation.ease.EASE_OUT_QUAD",Hi);q("H.util.animation.ease.EASE_IN_OUT_QUINT",function(a){a*=2;return 1>a?Ga(a,5)/2:(a-=2,Ga(a,5)/2+1)});q("H.util.animation.ease.EASE_OUT_CIRC",function(a){return Fa(2*a-a*a)});function Ii(a,b,c,d){if(!la(this.j=a))throw new C(Ii,0,a);if(D(this.i=+b))throw new C(Ii,1,b);if(!la(this.g=c)&&null!=c)throw new C(Ii,2,c);if(!la(this.f=d)&&null!=d)throw new C(Ii,3,d);this.id=Zd++;this.a=!1}q("H.util.animation.Animation",Ii);Ii.prototype.start=function(){var a=this,b,c=vi,d;d=function(){var e=xi(),f=e-a.b,g=f/a.i,g=1<g?1:g;a.f&&(g=a.f(g));a.j(g,f,e-b,e);b=e;1<=g?a.stop():a.c=c(d)};a.b=xi();b=a.b;a.a=!0;a.c=c(d)};Ii.prototype.start=Ii.prototype.start;
Ii.prototype.stop=function(a){wi(this.c);this.a=!1;a||this.g&&this.g(this)};Ii.prototype.stop=Ii.prototype.stop;Ii.prototype.cb=function(){return this.a};Ii.prototype.isRunning=Ii.prototype.cb;function Ji(a,b,c){if(!a)throw new C(Ji,0,a);if(!b)throw new C(Ji,1,b);this.b=a;this.i=b;this.c={};this.f=c&&c.Qa}
Ji.prototype.ca=function(a,b,c,d,e,f){var g=ya(d),h=this.b,k=g+(c.exp-h.pixelProjection.exp),l=h.max;d=h.tileSize;var m=h.opacity,p,r=this.i,t=r.Kd();p=ci(r).width;var u=c.w,y=c.x,K=c.y,X={};if(g<h.min||g>l)return!0;e=h.b(a,k,e,f);a=e.total;e=e.tiles;f=e.length;this.g=c;this.l=b;this.a=k;t!==m&&Zh(r,m);c=d=d*u/(Ga(2,k)*d);this.f||(d%1&&(d=za(d),u=c/d,y=y/u,K=K/u,u=Ga(2,k)*d),y=za(y),K=za(K));this.j=c;k=-d;g=p+d;for(h=0;h<f;h++){p=e[h];if(l=p.data){c=b.x-(y-p.x*d);m=b.y-(K-p.y*d);r.Zb(l,c,m,d,d);for(t=
c;(t-=u)>k;)r.Zb(l,t,m,d,d);for(t=c;(t+=u)<g;)r.Zb(l,t,m,d,d)}X[this.a+"_"+p.x+"_"+p.y]=p}this.c=X;return f===a};Ji.prototype.Ea=function(a,b,c){if(this.a!==A){var d=this.j,e=d/this.b.tileSize,f=this.g,g=this.l,h,k;a=f.x+(a-g.x);b=f.y+(b-g.y);h=za(f.w/d);var l=f=za(a/d),g=za(b/d);Ba(l)>=h&&(l%=h);0>l&&(l=h+l);(h=this.c[this.a+"_"+l+"_"+g])&&h.Ea&&(k=h.Ea((a-d*f)/e,(b-d*g)/e,c))}return k||ae};function Ki(a,b,c,d){Ki.A.constructor.apply(this,arguments)}v(Ki,ai);n=Ki.prototype;n.createElement=function(a){a=a.createElement("DIV");a.style.position="absolute";return a};n.zf=function(a,b,c,d){b.width=c+"px";b.height=d+"px"};n.$g=function(a){this.a.style.opacity=a};n.Zb=function(a,b,c){var d=this.qa,e=a.style;e[ah("transform")]="matrix(1,0,0,1,"+b/d+","+c/d+")";a.parentNode!==this.a&&(e.position="absolute",this.a.appendChild(a))};n.Fc=function(a){a?this.a.removeChild(a):this.a.innerHTML=""};function Li(a,b){if(D(this.b=+a))throw new C(Li,0,a);this.a=0;b&&this.f(b)}q("H.util.kinetics.KineticMove",Li);Li.prototype.f=function(a){this.a=a;return this};Li.prototype.setInitialSpeed=Li.prototype.f;Li.prototype.i=function(){return Math.abs(this.a/this.b)};Li.prototype.getDuration=Li.prototype.i;Li.prototype.c=function(a){return this.a+this.b*a};Li.prototype.getCurrentSpeed=Li.prototype.c;Li.prototype.g=function(a){return this.a*a+this.b*a*a/2};Li.prototype.getCurrentPath=Li.prototype.g;function Mi(){Mi.A.constructor.call(this);this.c={};this.f={};this.g={zoom:0,position:new Qb(0,0),roll:0,pitch:-90,yaw:0,fov:70};this.i={zoom:0,position:new Qb(0,0),heading:180,tilt:0,incline:0,fov:70};this.j=[];this.l=[];this.m=this.u=this.v=this.s=A}v(Mi,E);q("H.map.ViewModel",Mi);n=Mi.prototype;n.C={ba:"update",Zc:"sync"};function Ni(a,b,c,d){a.s={};a.v={};a.j=[];return Oi(b,c,a.Lf,d,a.$h.bind(a),a.Zh.bind(a))}n.$h=function(a,b,c){this.s[a]=b;this.v[a]=c};n.Zh=function(a){this.j.push(Pi[a])};
n.Lf=rb("position roll pitch yaw fov zoom");function Qi(a,b,c,d){a.u={};a.m={};a.l=[];return Oi(b,c,a.Of,d,a.di.bind(a),a.ci.bind(a))}n.di=function(a,b,c){this.u[a]=b;this.m[a]=c};n.ci=function(a){this.l.push(Pi[a])};n.Of=rb("position heading tilt incline fov zoom");var Pi=rb("fov heading position tilt incline zoom pitch yaw roll").reduce(function(a,b){a[b]=qh.prototype[b.toUpperCase()];return a},{});
function Oi(a,b,c,d,e,f){for(var g=c.length,h,k,l;g--;)h=c[g],l=b[h],k=a[h],null!=k&&d||(null!=l?(e!==A&&e(h,k,l),a[h]=l,(Pb(l)&&Pb(k)&&(l.lat!==k.lat||l.lng!==k.lng)||!Pb(l)&&l!==k)&&f!==A&&f(h,k,l)):delete a[h]);return a}Mi.prototype.vc=function(){return Qi(this,{},this.i)};Mi.prototype.getLookAtData=Mi.prototype.vc;Mi.prototype.a=function(){return Ni(this,{},this.g)};Mi.prototype.getCameraData=Mi.prototype.a;
function Ri(a,b,c,d){for(var e,f=0;f<d.length;f++)e=d[f],"position"!==e&&D(a[e])&&(a[e]=D(b[e])?c[e]:b[e]);a.position||(a.position=Pb(b.position)?b.position:c.position);return a}Mi.prototype.ud=function(a,b){var c,d={};if(!a)throw new C(this.ud,0,a);if((c=a.position)&&!Pb(c))throw new C(this.ud,0,"position");Qi(this,this.f,Ri(a,this.f,this.i,this.Of));d.lookAt=this.f;d.camera=A;this.dispatchEvent(new Si(d,b));return this};Mi.prototype.setLookAtData=Mi.prototype.ud;
Mi.prototype.b=function(a,b){var c,d={};if(!a)throw new C(this.b,0,a);if((c=a.position)&&!Pb(c))throw new C(this.b,0,"position");Ni(this,this.c,Ri(a,this.c,this.g,this.Lf));d.lookAt=A;d.camera=this.c;this.dispatchEvent(new Si(d,b));return this};Mi.prototype.setCameraData=Mi.prototype.b;
function Ti(a,b,c){var d={},e={};b!==A&&Ni(a,a.g,b);c!==A&&Qi(a,a.i,c);a.f={};a.c={};d.lookAt=a.m;d.camera=a.v;e.lookAt=a.u;e.camera=a.s;b=a.j.concat(a.l.filter(function(a){return 0>this.j.indexOf(a)}.bind(a)));b=0<b.length?b.reduce(function(a,b){return a|b}):0;a.dispatchEvent(new qh(a.C.Zc,d,e,b))}
Mi.prototype.o=function(a,b){var c={};if(D(a=+a))throw new C(this.o,0,a);this.f.zoom=this.c.zoom=a;Qi(this,this.f,this.i,!0);Ni(this,this.c,this.g,!0);c.lookAt=this.f;c.camera=this.c;this.dispatchEvent(new Si(c,b))};Mi.prototype.setZoom=Mi.prototype.o;Mi.prototype.getZoom=function(){return this.g.zoom||this.i.zoom};Mi.prototype.getZoom=Mi.prototype.getZoom;Mi.prototype.startControl=Mi.prototype.M;Mi.prototype.control=Mi.prototype.B;Mi.prototype.endControl=Mi.prototype.F;
function Si(a,b){Si.A.constructor.call(this,Mi.prototype.C.ba);this.requested=a;this.animate=!!b}v(Si,ad);function P(a,b,c,d){P.A.constructor.call(this,a,b,c,d);this.I=new L(0,0);if(c=d.renderBaseBackground)this.ff=c.lower,this.Se=c.higher;this.Yb=this.b=0;this.Pa=this.qb=!1;this.l=new L(.5,.5);this.g=new Qh;this.f=c=new oi;this.ib=z(this.ib,this);c.addEventListener(c.C.Kf,this.ib);this.a=new bg;c=a.element;this.ea=a=c.ownerDocument.createElement("div");a.style.position="absolute";a.style.width=a.style.height="100%";a.style.zIndex=0;c.insertBefore(a,c.firstChild);this.m=new di(this.ea,1,1,this.qa);Ui(this);
this.Ye=z(P.prototype.Ye,this);this.state=2;this.bc();this.b=Vi(this,this.i.getZoom()+this.La);Wi(this);Xi(this,b.a().position,this.b);Yi(this);this.Eb()}v(P,yi);q("H.map.render.p2d.RenderEngine",P);P.prototype.type=Gi.P2D;P.prototype.type=P.prototype.type;P.prototype.$b=Nh;function Zi(a,b,c){b=c-b;return Ba(b)<a.a.w/2?b:b-a.a.w*c/Ba(c)}
P.prototype.Jc=function(a){var b=this,c,d,e=a.requested.lookAt||a.requested.camera,f=e.animate,e=e.position,g=b.a.geoToPixel(e),h=g.x,k=g.y,l=this.b,m=this.l,p=0,r,t,u;$i(this);this.I.set(0,0);a=aj(this,a);c=a.zoom;u=a.position;if(f){if(d=c-l,r={x:m.x,y:m.y},f=this.a.b(r).x,t=this.a.projection.jb(e),t.x!==this.l.x||t.y!==this.l.y||c!==this.b)h=Zi(this,f,h),bj(this,function(a){var e=a-p,f;c!==l&&(g=b.a.b(t),f=b.a.b(r),h=Zi(b,f.x,g.x),k=g.y-f.y);p=a;cj(b,h*e,k*e);l+=d*e;dj(b,l);Yi(b);b.aa()},this.Ba,
function(){Xi(b,u,c);dj(b,c);Yi(b,u);b.aa()},this.Ca)}else ej(this),Xi(this,u,c),dj(this,c),Yi(this,u);this.aa()};P.prototype.Ba=300;P.prototype.cc=function(a){var b=Bb(a);if(!b||b&&0>a)throw new C(this.cc,1,"positive number required");this.Ba=a};P.prototype.setAnimationDuration=P.prototype.cc;P.prototype.xc=function(){return this.Ba};P.prototype.getAnimationDuration=P.prototype.xc;P.prototype.Ca=Hi;P.prototype.ec=function(a){if(!la(a))throw new C(this.ec,1,"function required");this.Ca=a};
P.prototype.setAnimationEase=P.prototype.ec;P.prototype.Ac=function(){return this.Ca};P.prototype.getAnimationEase=P.prototype.Ac;P.prototype.bc=function(){this.Ca=Hi;this.Ba=300};P.prototype.resetAnimationDefaults=P.prototype.bc;n=P.prototype;n.ic=function(a,b){var c=Di(this,a),d=0;B(b,ei)?(fj(this,b,!0),b.forEach(function(a){gj(this,c++,a);++d},!0,this)):(++d,gj(this,c,b));this.ra.splice(a,0,d);this.ia=xi();a||(Wi(this),hj(this,b,!0));ij(this);this.aa()};
n.pd=function(a,b,c){for(var d=Di(this,a),e=this.ra.splice(a,1)[0],f=0,g;f<e;f++)(g=this.N.Ga.splice(d,1)[0])&&g.J&&g.J(),(g=this.F.Ga.splice(d,1)[0])&&g.J&&g.J(),(g=this.U.Ga.splice(d,1)[0])&&g.J&&g.J(),(g=this.s.Ga.splice(d,1)[0])&&g.J&&g.J();fj(this,b,!1);this.ia=xi();this.M=this.j.a();ij(this);0===a&&(hj(this,b,!1),Wi(this));c||this.aa()};function fj(a,b,c){B(b,ei)&&(c=c?b.addEventListener:b.removeEventListener,c.call(b,b.C.pb,a.Cg,!1,a),c.call(b,b.C.Hb,a.Cg,!1,a))}
n.Cg=function(a){a=a.currentTarget;for(var b=this.M,c=b.length;c--;)b[c]===a&&(this.pd(c,a,!0),this.ic(c,a))};function Ui(a){var b=a.j.a(),c=0,d=b.length;[a.N={},a.F={},a.U={},a.s={}].forEach(function(a){a.td=[];a.Ga=[]});for(a.M=b;c<d;c++)a.ic(c,b[c]);Wi(a)}function hj(a,b,c){c=c?b.addEventListener:b.removeEventListener;c.call(b,b.C.Yc,a.Gg,!1,a);c.call(b,b.C.Xc,a.Gg,!1,a)}n.Gg=function(){Wi(this);this.aa()};
function gj(a,b,c){var d,e,f,g,h;c&&(h={Qa:a.Qa,La:a.La},c.requestOverlays&&(d=new ti(c,a.m,h)),c.requestTiles&&(e=new Ji(c,a.m,h)),c.requestMarkers&&(f=new $h(c,a.m,h)),c.requestDomMarkers&&(g=jj(a),g=new ii(c,new Ki(a.ea,g.w,g.h,a.qa),h)));a.N.Ga.splice(b,0,d);a.F.Ga.splice(b,0,e);a.U.Ga.splice(b,0,f);a.s.Ga.splice(b,0,g);a.M=a.j.a()}
function Wi(a){var b;if(0<a.M.length)b=a.M[0].max,a.Vb=a.M[0].min,a.rb=b;else{b=a.$b.zoom;var c=b.max;a.Vb=b.min;a.rb=c}b=kj(a,a.b);b!==a.b&&(a.b=b,a.a.Ha(b),Yi(a))}function aj(a,b){var c=b.requested.lookAt||b.requested.camera,d,e;e=c&&c.position;d=kj(a,kj(a,c.zoom)+a.La);e=lj({position:new Qb(e.lat,e.lng)});a.b=c.animate?a.b:d;e.zoom=d;return e}function Xi(a,b,c){var d=a.a;d.Ha(c);a.l=d.projection.jb(b);d.x=d.w*a.l.x;d.y=d.h*a.l.y}
function kj(a,b){var c=a.$b.zoom;return ab(b,xa(c.min,a.Vb),wa(c.max,a.rb))}function lj(a){a.yaw=a.pitch=a.roll=0;a.fov=70;return a}n.wa=function(a,b){var c=this.c.center,d=this.qa;return this.a.ya((a-c.x)*d,(b-c.y)*d)};P.prototype.screenToGeo=P.prototype.wa;P.prototype.Ec=bc;P.prototype.setPointer=P.prototype.Ec;P.prototype.ld=function(a,b){var c=this.wa(a,b),d=this.i.a();d.position=c;return d};P.prototype.screenToCameraData=P.prototype.ld;
P.prototype.Dc=function(a){var b=this.qa,c=this.c.center,d=c.x*b,c=c.y*b;a=this.a.geoToPixel(a);var e=this.a.w;return new L(ya((a.x-ya(a.x/e)*e+d)/b),ya((a.y+c)/b))};P.prototype.geoToScreen=P.prototype.Dc;P.prototype.ub=function(a,b){var c=this.ga[a||4],d=this.a,e=c.left-b,f=d.ya(e,c.top-b),g=c.right+b,c=d.ya(g,c.bottom+b);g-e>=d.w&&(f.lng=-(c.lng=180));return ve(f,c)};P.prototype.getBBox=P.prototype.ub;
P.prototype.Ea=function(a,b,c){var d=[],e=this.qa;a*=e;b*=e;d=mj(d,this.s.Ga,a,b,c);if(c&&d.length)return d;d=mj(d,this.U.Ga,a,b,c);if(c&&d.length)return d;d=mj(d,this.F.Ga,a,b,c);return c&&d.length?d:mj(d,this.N.Ga,a,b,c)};P.prototype.getObjectsAt=P.prototype.Ea;function mj(a,b,c,d,e){for(var f=b.length,g;f--&&!((g=b[f])&&g.Ea&&(a=a.concat(g.Ea(c,d,e)),a.length&&e)););return a}n=P.prototype;n.me=x;function jj(a){a=a.ga[2];return{w:a.right-a.left,h:a.bottom-a.top}}
n.Eb=function(){var a=this.ga,b=ci(this.m),c,d,e;this.c.b||(d=a[2].clone());P.A.Eb.call(this);c=jj(this);this.I.set(0,0);e=c.w;c=c.h;if(b.width!==e||b.height!==c){bi(this.m,e,c);for(var b=this.s.Ga.length,f;b--;)if(f=this.s.Ga[b])f=f.Tc,bi(f,e,c);this.me=new Hg(e,c)}d&&(a=a[2],cj(this,d.left-a.left,d.top-a.top),Yi(this));this.aa()};n.tc=function(){return Nh};n.Pc=function(){xi()-this.ia<this.te&&!this.o?this.Na=vi(this.Ye):(this.o&&(ij(this),Bi(this)),this.state=2)};
function ij(a){a.N.td.length=0;a.F.td.length=0;a.U.td.length=0;a.s.td.length=0}
n.Ye=function(){var a=this.F.Ga,b=this.c.center.clone().scale(this.qa).round(),c=this.ub(1,0),d=this.ub(1,256),e=this.b,f=e-this.La,g,h,k=nj,l,m=this.a;g=this.ff;var p=this.Se,r=a[0],t=this.I,a={};this.m.Fc();if(r){if(g)for(;g;)h=e-g,r.ca(c,b,m,h,!0,t),--g;if(p&&this.Pa)for(l=1;l<=p&&(h=e+l,m.Ha(h),g=this.ub(2,0),m.Ha(e),!r.ca(g,b,m,h,!0,t));l++);}c=this.Vg(c,b,e,!1,t,k.Uf,this.F,this.N);b=this.Vg(d,b,f,!1,t,k.Nf,this.U,this.s);this.o=c&&b;this.u&&(a.tilt=a.heading=a.incline=0,a.zoom=this.u.zoom,
a.fov=this.u.fov,a.position=new Qb(this.u.position.lat,this.u.position.lng),Ti(this.i,this.u,a),this.u=null);this.me&&(b=this.c,b.dispatchEvent(new qh(b.C.Zc,b.i,this.me,qh.prototype.SIZE)),this.me=x);e<this.Yb?this.Pa=!0:this.qb&&(this.Pa=!1);this.Yb=e;this.qb=c;this.Pc()};
n.Vg=function(a,b,c,d,e,f,g){var h=Array.prototype.slice.call(arguments,6),k=h.length,l=h[0].Ga.length,m=k*l,p=nj,r,t,u=!!m,y,K,X;for(y=0;y<m;y++)f===p.Uf?(X=y%k,K=Math.floor(y/k)):f===p.Nf&&(X=Math.floor(y/l),K=y%l),r=h[X].Ga[K],t=h[X].td,r&&((r=r.ca(a,b,this.a,c,d,e))&&!t[K]&&(Bi(this,this.M[K]),t[K]=!0),t[K]||(u=!1));return u};
n.D=function(){var a=this.j.a()[0],b=this.c,c,d;wi(this.Na);ej(this,!0);a&&hj(this,a,!1);this.m.J();[this.N,this.F,this.U,this.s].forEach(function(a){c=a.Ga;for(d=c.length;d--;)Bh(c[d])});b.element&&b.element.removeChild(this.ea);this.ea=null;this.state=3;P.A.D.call(this)};n.aa=function(){this.ia=xi();2===this.state&&(this.o=!1,this.state=1,this.Pc())};function oj(a){return lj({position:a.a.projection.Lc(a.l),zoom:a.b-a.La})}function Yi(a,b){var c=oj(a);b&&(c.position=b);a.u=c;a.u.zoom=a.b-a.La}
function pj(a,b,c){cj(a,b*a.qa,c*a.qa);a.I.set(0,0);Yi(a);a.aa()}function cj(a,b,c){var d=a.a;a=a.l;d.x=Za(d.x+b,d.w);d.y=xa(0,wa(d.w,d.y+c));a.x=d.x/d.w;a.y=d.y/d.h}n.Vc=function(a,b,c){a=kj(this,kj(this,a)+this.La);dj(this,a,b,c)};P.prototype.zoomAt=P.prototype.Vc;function dj(a,b,c,d){var e=a.qa,f=a.c.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.I.set(c,d),cj(a,c,d),a.a.Ha(b),cj(a,-c,-d)):(a.I.set(0,0),a.a.Ha(b));a.b=b;Yi(a);a.aa()}
P.prototype.L=function(a,b){var c=this.tc().zoom.max,d=a.Ja(),e,f,g,h,k;a.S()||(e=new bg(this.a.projection),e.Ha(c),f=e.geoToPixel(a.lb()).round(),g=e.geoToPixel(a.kb()).round(),c=e.w,a.g()&&(f.x-=c),b?(h=e.geoToPixel(d),k=2*xa(h.x-f.x,g.x-h.x),h=2*xa(h.y-f.y,g.y-h.y)):(k=g.x-f.x,h=g.y-f.y,d=e.a(f.add(g).scale(.5))),f=this.ga[4],e=f.right-f.left,f=f.bottom-f.top,c=-8+wa(Ea(e/k*c)/Oa,Ea(f/h*c)/Oa)-this.La);return{zoom:kj(this,c),position:d}};P.prototype.getCamForBounds=P.prototype.L;
function $i(a){ej(a,!0);a.f.cb()&&a.Bb(!0);a.g.cb()&&a.Cb(!0);ej(a,!0)}P.prototype.Pb=function(a,b){$i(this);qj(this,b);this.g.start(a,!!b)};P.prototype.startInteraction=P.prototype.Pb;function qj(a,b){if(b){var c={};c.Rg=b.power;c.$f=b.ease;c.duration=b.duration;a.v=c}}function Vi(a,b){return kj(a,kj(a,b-a.La)+a.La)}
P.prototype.zb=function(a,b,c,d,e){var f=!1;this.g.cb()&&(this.g.bh(a,b,c,d,e),this.g.Nd(Fi.COORD)&&(e=this.g,e=Rh(e.a,e.c),0<Ph(e)&&(pj(this,-e.x,-e.y),f=!0)),this.g.Nd(Fi.ZOOM)&&a===+a&&b===+b&&c===+c&&d===+d&&(b=Sh(this.g.a),a=this.g.dg(this.b),a!==this.b&&(a=Vi(this,a),dj(this,a,b.x,b.y),f=!0)),f&&this.aa())};P.prototype.interaction=P.prototype.zb;
P.prototype.Cb=function(a){var b=this,c,d,e,f;this.g.cb()&&!a&&(this.v&&(a=Xh(this.g),e=Wh(this.g),f=this.v.duration,c=(this.v.Rg||1)*a,d=new Li(-(c/f),c),!D(e.x)&&!D(e.y)&&0<c&&b.g.Nd(Fi.COORD)&&bj(this,function(a){c=d.c(a*f);D(c)||pj(b,ya(-e.x*c),ya(-e.y*c))},f,void 0,this.v.$f)),this.v=null,Vh(this.g))};P.prototype.endInteraction=P.prototype.Cb;P.prototype.gc=function(a,b,c){$i(this);this.f.start(b,c);qj(this,a)};P.prototype.startControl=P.prototype.gc;
P.prototype.eb=function(a,b,c,d,e,f,g){if(D(c=+g||+c))throw new C(this.eb,2,c);if(D(a))throw new C(this.eb,0,a);if(D(b))throw new C(this.eb,2,b);this.f.cb()&&this.f.set(a,b,c)};P.prototype.control=P.prototype.eb;
P.prototype.Bb=function(a,b){var c=this,d,e,f,g,h,k,l,m;this.f.cb()&&(ej(this,!0),e=xi(),d=e-this.ob,1<=d&&(f=qi(this.f),rj(this,f,d)),!this.v||a||b?"function"===typeof b&&(d=oj(this),b(d),d.zoom+=this.La,sj(this,d)):(d=ri(this.f),k=si(this.f),l=this.v.duration,g=(this.v.Rg||1)*d,h=new Li(-(g/l),g),!D(k.x)&&!D(k.y)&&0<g&&bj(this,function(a,b,d,f){e&&(d=f-e,e=0);g=h.c(a*l)*d;D(g)||((m=k.z*g)&&dj(c,Vi(c,c.b+m),c.f.atX,c.f.atY),pj(c,ya(k.x*g),ya(k.y*g)))},l,void 0,this.v.$f)),this.f.reset())};
P.prototype.endControl=P.prototype.Bb;function sj(a,b){var c,d,e,f=a.l,g=a.a.projection.jb(b.position),h=a.a.b(g),k=h.y,h=h.x,l=b.zoom,m=a.a.b(f),f=m.y,p=m.x,m=a.b,r=ri(a.f),t=a.f.atX,u=a.f.atY,y=0,K,h=Zi(a,p,h),h=h-p,k=k-f,m=l-m,f=Fa(h*h+k*k+m*m);0!==r&&0!==f&&(c=h/f,d=k/f,e=m/f,K=r*r/(2*f),bj(a,function(b,f){var h,k,m;if(1!==b){h=r*f-K*f*f/2;k=h-y;if(m=e*k)m=Vi(a,a.b+m),dj(a,Vi(a,m),t,u);pj(a,ya(c*k),ya(d*k));y=h}else a.l=g,dj(a,Vi(a,l),t,u),Yi(a),a.aa()},2*f/r))}
P.prototype.ib=function(a){var b=this,c=a.offset;this.I.set(0,0);c.x||c.y||c.z?(this.ob=xi(),bj(this,function(a,e,f,g){b.ob=g;rj(b,c,f)},Number.POSITIVE_INFINITY)):ej(this,!0)};function rj(a,b,c){c=c||0;b.z&&dj(a,Vi(a,a.b+b.z*c),a.f.atX,a.f.atY);pj(a,b.x*c,b.y*c)}function bj(a,b,c,d,e){a.B&&a.B.cb()&&a.B.stop(!0);a.B=new Ii(b,c,d,e);a.B.start()}function ej(a,b){a.B&&a.B.cb()&&a.B.stop(b)}P.prototype.enter=bc;P.prototype.enter=P.prototype.enter;
P.prototype.O=function(a){this.Jc({requested:{camera:this.i.a(),lookAt:this.i.vc()},animate:!0});Ei(this.ea,a)};P.prototype.exit=P.prototype.O;P.prototype.ta=function(a,b,c,d){var e=this.m.a,f=e.ownerDocument.createElement("canvas"),g=f.getContext("2d"),h=this.qa;f.width=(c-a)*h;f.height=(d-b)*h;g.drawImage(e,-a*h,-b*h);return f};var nj={Nf:0,Uf:1};function Q(a){var b={};this.s=b.previousSibling=b.nextSibling=b;Q.A.constructor.call(this,a);a&&"objects"in a&&this.j(a.objects)}v(Q,F);q("H.map.Group",Q);Q.prototype.type=ne.GROUP;Q.prototype.B=function(a,b){var c;(c=Q.A.B.call(this,a,b))&&this.forEach(tj,!0);return c};Q.prototype.setProvider=Q.prototype.B;function tj(a,b,c){a.B(c.g)}Q.prototype.contains=function(a){var b=this===a;if(!b&&this.sb&&B(a,F))for(;!b&&a;)a===this?b=!0:a=a.va;return b};Q.prototype.contains=Q.prototype.contains;
Q.prototype.O=function(){this.ra=A;this.forEach(uj,!0)};Q.prototype.resetZInfo=Q.prototype.O;function uj(a){a.O()}Q.prototype.za=function(a){var b=Q.A.za.call(this,a);b&&(this.m=a,this.forEach(vj,!0),delete this.m);return b};Q.prototype.invalidate=Q.prototype.za;function vj(a,b,c){a.za(c.m)}Q.prototype.forEach=function(a,b,c){var d,e,f,g;if(this.sb)for(d=this.s,e=d.nextSibling,f=0;e!==d;)g=e.nextSibling,a.call(c,e,f++,this),b&&B(e,Q)&&e.forEach(a,b,c),e=g};Q.prototype.forEach=Q.prototype.forEach;
Q.prototype.v=function(a){var b=[];this.forEach(wj,a,b);return b};Q.prototype.getObjects=Q.prototype.v;Q.prototype.X=function(){var a=null;this.sb&&this.forEach(function(b){a?b.X?(b=b.X())&&(a=a.Rb(b)):a=a.ef(b.getPosition()):a=b.X?b.X():we([b.getPosition()])});return a};Q.prototype.getBounds=Q.prototype.X;function wj(a){this.push(a)}Q.prototype.sb=0;Q.prototype.N=function(){return this.sb};Q.prototype.getChildCount=Q.prototype.N;Q.prototype.Pa=Xa;
Q.prototype.T=function(a){var b=this.s,c=b.previousSibling,d;B(a,F,this.T,0);if(a.contains(this))throw new Tb(this.T,"The new object contains the parent group");d=a.va;if(d!==this){if(d){d=a.previousSibling;var e=a.nextSibling;d.nextSibling=e;e.previousSibling=d}a.va=this;F.A.da.call(a,this);c.nextSibling=a;a.previousSibling=c;a.nextSibling=b;b.previousSibling=a;this.sb++}b=a.B(this.g,this.T);a.ah=this.Pa++;a.O();b||a.za(ke.Z_ORDER);return a};Q.prototype.addObject=Q.prototype.T;
Q.prototype.j=function(a){var b,c;zb(a,this.j,0);b=a.length;for(c=0;c<b;c++)this.T(a[c])};Q.prototype.addObjects=Q.prototype.j;Q.prototype.ha=function(a){if(!a||a.va!==this)throw new Tb(this.ha,"object not found");var b=a.previousSibling,c=a.nextSibling;b.nextSibling=c;c.previousSibling=b;a.va=null;F.A.da.call(a,null);delete a.previousSibling;delete a.nextSibling;B(a.g,G)&&a.B(null,this.ha);this.sb--;return a};Q.prototype.removeObject=Q.prototype.ha;
Q.prototype.o=function(a){var b,c;zb(a,this.o,0);b=a.length;for(c=0;c<b;c++)this.ha(a[c])};Q.prototype.removeObjects=Q.prototype.o;Q.prototype.Fa=function(){var a=this.v();this.o(a)};Q.prototype.removeAll=Q.prototype.Fa;function xj(a,b,c,d,e){var f,g=yj.length,h;xj.A.constructor.apply(this,arguments);for(h=0;h<g;h++){try{f=this.a.getContext(yj[h],e)}catch(k){}if(f)break}if(!f)throw new Tb(xj,"WebGL is not supported");}v(xj,ai);var yj=["webgl","experimental-webgl","webkit-3d","moz-webgl"];xj.prototype.createElement=function(a){a=a.createElement("CANVAS");var b=a.style;b.position="absolute";b.top=b.left=0;return a};
xj.prototype.zf=function(a,b,c,d,e){a.width=xa(c,1);a.height=xa(d,1);b.width=ya(c/e)+"px";b.height=ya(d/e)+"px"};xj.prototype.Fc=function(){this.a.width=this.a.height=0};xj.prototype.D=function(){this.Fc();xj.A.D.call(this)};var zj={zoom:{min:-8,max:22},camera:!1,lookAt:{heading:{min:0,max:360},tilt:{min:0,max:60},incline:{min:0,max:0}},interaction:{ZOOM:1,nh:16},capture:!1};q("H.map.render.p3d.capabilities",zj);var Aj=rb("8 16 32 U8 U16 U32 F32 F64");function Bj(a,b,c,d){var e,f,g=w.H.geoviz;if(!g)throw new Tb(Bj,'"H-3d" module is missing');nb();this.M=[];this.v=[];Bj.A.constructor.apply(this,arguments);this.c=a;e=a.element;this.l=f=e.ownerDocument.createElement("div");f.style.position="absolute";f.style.width=f.style.height="100%";f.style.zIndex=0;e.insertBefore(f,e.firstChild);e.appendChild(f);this.te=1/0;Bj.prototype.Df=nb();this.N={};this.I={};this.g=new xj(this.l,1,1,this.qa);bi(this.g,this.c.width,this.c.height);this.Od=z(this.Od,
this);this.Ze=z(this.Ze,this);this.b=g({noExitRuntime:!0,locateFile:function(a){var b;b=w.H.scriptPath||Cj;if(!b)throw"Cant't detect script path: H.scriptPath is missing";return b+a}});this.b.canvas=this.g.a;this.b._main=z(this.ai,this)}v(Bj,yi);q("H.map.render.p3d.RenderEngine",Bj);function Dj(a){return a.state!==zi&&3!==a.state}Bj.prototype.F=function(a){this.a.setStyleSheet(a);this.aa()};Bj.prototype.setGVStyle=Bj.prototype.F;Bj.prototype.type=Gi.P3D;Bj.prototype.type=Bj.prototype.type;
n=Bj.prototype;n.ai=function(){var a=this.j.a(),b=0,c=a.length,d=this;this.state=2;this.B=Ej();this.B.addEventListener(Ci,this.bi,!1,this);this.a=new this.b.Engine(this.c,zj,this.B);this.f=this.a.getGeoLookAtManipulator();this.u=this.a.getGeoCameraManipulator();this.s={geoToPixel:function(a){return d.Dc(a).b(d.c.center)}};this.Eb();for(b=0;b<c;b++)this.ic(b,a[b]);this.m&&this.Jc(this.m);this.aa()};n.bi=function(a){Bi(this,a.detail)};
n.Bg=function(a){a.target===a.currentTarget&&(Fj(this,a.target),this.aa())};function Fj(a,b){var c;Dj(a)&&(b?c=b:c=zj.zoom,a.a.setZoomConstraints(c.min,c.max),a.f.setZoom(a.f.getZoom()),Gj(a))}n.Bd=function(){var a=this.j.a(),b,c=a.length,d,e=[];for(b=0;b<c;b++)d=a[b],(d=d.vb())&&e.push(d);this.F(e.join(""))};n.aa=function(){this.ia=xi();2===this.state&&(this.o=!1,this.state=1,this.Pc())};n.tc=function(){return zj};
n.Pc=function(){xi()-this.ia<this.te&&!this.o?this.Na=vi(this.Ze):(this.o&&Bi(this),this.state=2)};n.Ze=function(){this.o=this.a.redraw(xi());this.continuous&&(this.o=!1);this.state=1;Gj(this);for(var a=this.v,b=a.length,c=this.c.center,d=this.s,e=this.i.vc().zoom;b--;)this.o&=a[b].Wg.ca(Hj,c,d,e,!1,c);this.Pc()};var Hj=new I(90,-180,-90,180);n=Bj.prototype;
n.Jc=function(a){if(a.requested.lookAt!==A){var b=a.requested.lookAt,c=b.position,d=b.zoom;Dj(this)?(c.alt=0,this.f.set(Ij(this,c),d,[b.tilt||0,b.incline||0,b.heading||0]),this.m=null,this.aa()):this.m=a}};n.ub=function(){var a,b;Dj(this)?(b=this.a.getBBox(),a=b.northWest(),b=b.southEast(),a=new Qb(a.getLatitudeDegrees(),a.getLongitudeDegrees(),0),b=new Qb(b.getLatitudeDegrees(),b.getLongitudeDegrees(),0)):a=b=this.i.vc().position;return ve(a,b)};n.Ea=function(){return[]};
n.Vc=function(a,b,c,d){this.aa();this.f.zoomAt(a,b,c,d||0)};n.Ec=bc;n.Pb=function(a,b){this.aa();this.a.startInteraction(a,b)};n.zb=function(a,b,c,d){this.aa();c!==A||(c=d=-1);this.a.interaction(a,b,c,d,xi())};n.Cb=function(){this.a.endInteraction()};n.gc=function(a,b,c){this.aa();this.a.startControl(a,b,c)};n.eb=function(a,b,c,d,e,f){this.aa();this.a.control(a,b,c,d,e,f,xi())};n.Bb=function(a,b){this.a.endControl(a,b)};
n.wa=function(a,b){var c;c=x;Dj(this)&&(c=this.a.screenToGeo(a,b),c=new Qb(c.getLatitudeDegrees(),c.getLongitudeDegrees(),c.getAltitude()));return c};n.Dc=function(a){var b=x;Dj(this)&&(a=this.a.geoToScreen(Ij(this,a)),b=new L(a[0],a[1]));return b};n.ld=function(a,b){var c=this.wa(a,b),d=this.i.a();d.position=c;return d};
function Gj(a){var b,c,d,e,f;Dj(a)&&(b=a.f,c=a.u,d=a.N,e=a.I,f=b.getZoom(),d.zoom!==f&&(d.zoom=e.zoom=f,a.s.w=256*Ga(2,f)),b=b.getPosition(),d.position=new Qb(b.getLatitudeDegrees(),b.getLongitudeDegrees(),b.getAltitude()),b=c.getPosition(),e.position=new Qb(b.getLatitudeDegrees(),b.getLongitudeDegrees(),b.getAltitude()),b=a.f.getOrientation(),d.tilt=b[0],d.incline=b[1],d.heading=b[2],b=a.u.getOrientation(),e.pitch=b[0],e.roll=b[1],e.yaw=b[2],d.fov=e.fov=c.getFov()[0],Ti(a.i,e,d))}
n.D=function(){wi(this.Na);this.g.J();de(this.l);this.state=3;Bj.A.D.call(this)};n.Eb=function(){var a=ci(this.g),b,c,d=this.c,e=d.center,f=this.qa;Bj.A.Eb.call(this);b=Jj(this);c=b.w;b=b.h;a.width===c&&a.height===b||bi(this.g,c,b);Dj(this)&&this.a.resize({width:d.width*f,height:d.height*f,center:{x:e.x*f,y:e.y*f},fixedCenter:d.b});this.aa()};n.enter=bc;Bj.prototype.enter=Bj.prototype.enter;Bj.prototype.O=function(a){Ei(this.l,a)};Bj.prototype.exit=Bj.prototype.O;
function Jj(a){a=a.ga[2];return{w:a.right-a.left,h:a.bottom-a.top}}n=Bj.prototype;n.Eg=function(){};n.ic=function(a,b){var c,d,e;Dj(this)&&(e=[],c=Di(this,a),this.Bd(),B(b,ei)?b.forEach(function(a){e.push(a);Kj(this,a,c++)},!0,this):(e.push(b),Kj(this,b,c)),d=e.length,this.ra.splice(a,0,d),this.M.splice(a,0,e),Lj(this,b,a,!0),a||Fj(this,b),this.aa())};
n.pd=function(a,b,c){var d,e;if(Dj(this)){Lj(this,b,a,!1);b=this.ra.splice(a,1)[0];d=this.M.splice(a,1)[0];for(e=0;e<b;e++)Mj(this,d[e]);c||(a||Fj(this,this.j.R.length?this.j.get(0):A),this.Bd(),this.aa())}};function Lj(a,b,c,d){d=d?b.addEventListener:b.removeEventListener;c||(d.call(b,b.C.Yc,a.Bg,!1,a),d.call(b,b.C.Xc,a.Bg,!1,a));d.call(b,b.C.xd,a.Bd,!1,a);d.call(b,b.C.Yc,a.ih,!1,a);d.call(b,b.C.Xc,a.ih,!1,a);B(b,ei)&&(d.call(b,b.C.pb,a.hh,!1,a),d.call(b,b.C.Hb,a.hh,!1,a))}
n.ih=function(a){a=a.target;var b;B(a,ei)?(b=this.a,a.forEach(function(a){b.updateLayerMinMax(a.uid)})):this.a.updateLayerMinMax(a.uid);this.aa()};n.hh=function(a){for(var b=a.currentTarget,c=this.j.a(),d=c.length,e,f=a.type===b.C.pb,g=f?a.added:a.removed;d--;)if(c[d]===b){e=Di(this,d)+a.idx+(a["decompIdx "]||0);B(g,ei)?g.forEach(function(a){f?Kj(this,a,e++):Mj(this,a)},!0,this):f?Kj(this,g,e):Mj(this,g);this.Bd();this.aa();break}};
function Kj(a,b,c){var d=b.Ra(),e,f;a.a.addLayer(b,c);B(d,G)&&(e=a.a.getObjectProvider(d.uid),f=d.g,Nj(a,e,f),f.forEach(function(a){Nj(this,e,a);this.Df[d.uid]=d.s(a.type).Wa},!0,a),d.addEventListener("update",a.Od));B(b,ui)&&(f=Jj(a),a.v.push({Mi:c,Wg:new ii(b,new Ki(a.l,f.w,f.h,a.qa),{Qa:a.Qa,La:a.La})}))}function Mj(a,b){var c=b.Ra(),d=a.v,e;B(c,Oj)&&c.removeEventListener("update",a.Od);a.a.removeLayer(b.uid);if(B(b,ui))for(c=d.length;c--;)e=d[c].Wg,e.a===b&&(d.splice(c,1),e.J())}
n.Od=function(a){var b=a.target,c=a.currentTarget;a=c.uid;var d=c.s(b.type),e=this.Df[a]||Xa,f=this.a.getObjectProvider(a),g=b.F;d.b(e)?b.M&&(f.removeObject(b.M),delete b.M):d.i(e)&&Nj(this,f,b);4!==b.type&&(c=b.M,d.a(e)&&f.setVisibility(c,b.getVisibility()),d.g(e)&&f.setZIndex(c,g),d.f(e))&&(3===b.type?f.setMarkerPosition(c,Ij(this,b.getPosition())):2===b.type&&(b=Pj(this,b.c()))&&(f.setGeoShapePoints(c,b.he,b.Ae.length),this.b._free(b.he)));this.Df[a]=d.Wa};
function Nj(a,b,c){var d=c.type,e,f=c.va,f=f?f.M:0;if(2===d){if(d=Pj(a,c.c()))try{e=b["addPoly"+(c.l?"gon":"line")](c,f,d.he,d.Ae.length)}finally{a.b._free(d.he)}}else 3===d?e=b.addMarker(c,f,Ij(a,c.getPosition())):5===d&&(e=b.addGroup(c,f));e&&(c.M=e)}function Ij(a,b){return a.b.GeoCoordinates3d.fromDegrees(b.lat,b.lng,b.alt||0)}
function Pj(a,b){var c=b.b,d=c.length,e;e=a.b;for(var f=w.Float64Array,g=f.BYTES_PER_ELEMENT,h=e._malloc(d*g),g=h/g,k=Aj.length,l,m;k--;)if(l=e["HEAP"+Aj[k]],B(l,f)){m={Ae:l.subarray(g,g+d),he:h};break}if(e=m)for(f=e.Ae;d--;)f[d]=c[d];return e}function Ej(){var a=new E;a.fire=function(b,c){var d=new ad(b);d.detail=c;a.dispatchEvent(d)};return a};function Oj(a){var b;tb(this,Oj);Oj.A.constructor.call(this,a);this.F=a=[];for(b in ne)a[ne[b]]=new je}v(Oj,Jf);q("H.map.provider.ObjectProvider",Oj);Oj.prototype.s=function(a){return this.F[a||ne.ANY]};Oj.prototype.getInvalidations=Oj.prototype.s;Oj.prototype.c=function(a,b){var c,d;b!==ke.NONE&&(d=this.F[ne.ANY],c=d.Wa+1,d.c(c,b),d=this.F[a.type],d.c(c,b),a.i().c(c,b),Kf(this,a))};Oj.prototype.invalidateObject=Oj.prototype.c;Oj.prototype.L=$d;Oj.prototype.providesOverlays=Oj.prototype.L;
Oj.prototype.requestOverlays=Oj.prototype.N;Oj.prototype.f=$d;Oj.prototype.providesSpatials=Oj.prototype.f;Oj.prototype.requestSpatials=Oj.prototype.l;Oj.prototype.requestSpatialsByTile=Oj.prototype.b;Oj.prototype.I=$d;Oj.prototype.providesMarkers=Oj.prototype.I;Oj.prototype.requestMarkers=Oj.prototype.j;Oj.prototype.M=$d;Oj.prototype.providesDomMarkers=Oj.prototype.M;Oj.prototype.requestDomMarkers=Oj.prototype.i;function G(a){a=a||{};G.A.constructor.call(this,a);this.g=a=new Q({provider:this,min:a.min,max:a.max});a.da(this);this.B=new wf;this.o=new wf;this.a=new wf;this.u=new wf}v(G,Oj);q("H.map.provider.LocalObjectProvider",G);G.prototype.O=function(){return this.g};G.prototype.getRootGroup=G.prototype.O;G.prototype.c=function(a,b){b&ke.SPATIAL&&this.T(a);G.A.c.call(this,a,b)};G.prototype.invalidateObject=G.prototype.c;
G.prototype.T=function(a){var b;B(a,F,this.T,0);if(a.g!==this)throw new Tb(this.T,"foreign object");this.ha(a);B(a,ph)?(b=a.getPosition(),b=yf(this.a,new Qb(b.lat,b.lng))):B(a,Yf)?(b=a.getPosition(),b=yf(this.u,new Qb(b.lat,b.lng))):b=B(a,Qj)?zf(this.B,a.X()):zf(this.o,a.X());b.Jf=a;a.Vb=b};G.prototype.ha=function(a){var b;if(a)if(a.g!==this){if(B(a,F))throw new Tb(this.ha,"foreign object");}else if(b=a.Vb)(B(a,ph)?this.a:B(a,Yf)?this.u:B(a,Qj)?this.B:this.o).remove(b),delete b.Jf,delete a.Vb};
G.prototype.removeObject=G.prototype.ha;function Rj(a,b,c,d,e){var f,g,h;if(b.c){a=b!==a.a;e=!e;b=Ef(b,c);g=0;c=b.length;for(f=0;f<c;f++){h=b[f].Jf;for(var k=ya(d),l=h,m=void 0;(m=l.ec<=k&&l.cc>=k)&&(l=l.va););m&&(e||h.getVisibility(!0))&&(a||1===h.wb().getState())&&(b[g++]=h)}b.length=g}else b=ae;return b}G.prototype.L=function(){return 0<this.B.c};G.prototype.providesOverlays=G.prototype.L;G.prototype.N=function(a,b,c){return Rj(this,this.B,a,b,c).filter(function(a){return a.Lb()})};
G.prototype.requestOverlays=G.prototype.N;G.prototype.f=function(){return 0<this.o.c};G.prototype.providesSpatials=G.prototype.f;G.prototype.l=function(a,b,c){return Rj(this,this.o,a,b,c)};G.prototype.requestSpatials=G.prototype.l;G.prototype.b=function(a,b){return Rj(this,this.o,a.j(),a.zL,b)};G.prototype.requestSpatialsByTile=G.prototype.b;G.prototype.I=function(){return 0<this.a.c};G.prototype.providesMarkers=G.prototype.I;G.prototype.j=function(a,b,c){return Rj(this,this.a,a,b,c)};
G.prototype.requestMarkers=G.prototype.j;G.prototype.M=function(){return 0<this.u.c};G.prototype.providesDomMarkers=G.prototype.M;G.prototype.i=function(a,b,c){return Rj(this,this.u,a,b,c)};G.prototype.requestDomMarkers=G.prototype.i;G.prototype.D=function(){this.g.Fa();G.A.D.call(this)};function Sj(a,b){var c=b||{},d,e;if(!B(a,Element))throw new C(Sj,0,a);d=a.ownerDocument.createElement("div");this.a=a;Sj.A.constructor.call(this);this.padding=new gg(0,0,0,0);this.center=new L(0,0);this.margin=0;this.element=d;d.style.zIndex=0;d.style.height=d.style.width="100%";d.style.position="relative"===a.style.position?"absolute":"relative";this.resize();a.appendChild(d);(e=c.padding)!==A&&this.f(e.top,e.right,e.bottom,e.left);this.c((e=c.margin)!==A?e:0);(e=c.fixedCenter)!==A&&(this.b=!!e)}
v(Sj,E);q("H.map.ViewPort",Sj);Sj.prototype.C={ba:"update",Zc:"sync"};Sj.prototype.b=!0;Sj.prototype.c=function(a){if(this.margin!==+a){if(D(this.margin=+a))throw new C(this.c,0,a);Tj(this);this.dispatchEvent(this.C.ba)}};Sj.prototype.setMargin=Sj.prototype.c;Sj.prototype.f=function(a,b,c,d){var e=this.padding;if(e.top!==a||e.right!==b||e.bottom!==c||e.left!==d){if(D(a+b+c+d))throw new C(this.f);e.top=a;e.right=b;e.bottom=c;e.left=d;Tj(this);this.dispatchEvent(this.C.ba)}};
Sj.prototype.setPadding=Sj.prototype.f;function Tj(a){var b=a.padding;a.center.set((a.width+b.left-b.right)/2<<0,(a.height+b.top-b.bottom)/2<<0)}Sj.prototype.resize=function(){var a=this.a.offsetWidth,b=this.a.offsetHeight;if(this.width!==a||this.height!==b)this.i=new Hg(this.width,this.height),this.width=a,this.height=b,Tj(this),this.dispatchEvent(this.C.ba)};Sj.prototype.resize=Sj.prototype.resize;
Sj.prototype.D=function(){w.clearTimeout(this.g);this.g=null;this.a.removeChild(this.element);this.element=this.a=null;Sj.A.D.call(this)};Sj.prototype.startInteraction=Sj.prototype.l;Sj.prototype.interaction=Sj.prototype.zb;Sj.prototype.endInteraction=Sj.prototype.j;function Uj(a,b,c,d,e,f){var g;for(g=[];d<=e;d++)g=g.concat(ig(a,c,d));a=g.length;xh.call(this,f,a);this.j=c=[];this.f=z(this.f,this);this.c=z(this.c,this);for(this.K(1);a--;)f=g[a],c.push(Wf(b,f[0],f[1],f[2],this.f,this.c))}v(Uj,xh);Uj.prototype.f=function(){Ah(this,2)};Uj.prototype.c=function(){Ah(this,4)};function Vj(a,b){var c=this;if(!la(b))throw new C(Wj,1,b);if(!la(a.next||la(a.cycle)))throw new C(Vj,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.b=[];this.c=[];this.g=a;this.i=b;this.j=function(){Xj(c)};this.a=null;this.f=function(){c.a||(c.a=w.setTimeout(c.j,1))}}q("H.util.AsyncQueue",Vj);Vj.prototype.push=function(a,b){if(!la(b))throw new C(this.push,1,b);var c=Yj(new Zj,a,this.f,b);this.b.push(c);this.f();return c};Vj.prototype.push=Vj.prototype.push;
function Xj(a){var b,c=a.c,d=0,e=a.g;e.b=xi();for(a.a=null;d<c.length;)b=c[d],b.ng?c.splice(d,1):d++;for(;b=e.next(a.b,a.c);)b.cancelled?b.done(null,"cancelled"):(c.push(b),a.i(b,b.data))}function Zj(){Yj(this,null,null,null)}Vj.Task=Zj;function Yj(a,b,c,d){a.data=b;a.cancelled=!1;a.ng=!1;a.b=c;a.c=d;a.a=null;return a}Zj.prototype.done=function(a,b){this.ng=!0;this.b();this.c(this,a,b)};Zj.prototype.done=Zj.prototype.done;Zj.prototype.cancel=function(){this.a&&this.a();this.cancelled=!0};
Zj.prototype.cancel=Zj.prototype.cancel;Zj.prototype.f=function(a){this.a=a;return this};Zj.prototype.setCancelFn=Zj.prototype.f;function ak(a,b){ak.A.constructor.call(this,new bk(a),b)}v(ak,Vj);q("H.util.SequentialQueue",ak);function bk(a){if(isNaN(a)||0>a)throw new C(ak,1,'Argument "maxTime" must be a positive number');this.a=a;this.b=xi()}bk.prototype.next=function(a){return a.length&&xi()-this.b<this.a?a.shift():null};function Ye(a,b,c,d,e,f){var g,h,k=a.length,l,m,p,r,t,u,y;if(k)for(g=[];k--;)for(u=a[k],r=u.length,t=0,l=1;l<r;l++){if(y=ck(u[l-1],u[l],c,b,d,e))m=y[0],p=y[1],t&&t.ug(m)?h.push(p):g.push(h=y),t=p,f&&(l=r,k=0)}else g=a;return g}
function ck(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var k,l,m;c=-c;f=-f;if(g>h){if(h>e||g<d)return;l=g;m=a;g=h;a=b;h=l;b=m;l=1}else if(g>e||h<d)return;if(a>b){if(b>c||a<f)return;k=1;a=-a;b=-b;m=f;f=-c;c=-m}else if(a>c||b<f)return;if(g<d){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(a<f){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e);b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c);k&&(a=-a,b=-b);return l?[new L(h,-b),new L(g,-a)]:[new L(g,-a),new L(h,-b)]}
function $e(a,b,c,d,e,f,g,h,k,l){a={x:a,y:b,next:c||null,fb:d||null,hf:e||null,gf:f||null,Ta:g||0,He:h||0,pe:k||0,alpha:l||0};d&&(a.fb.next=a);c&&(a.next.fb=a);return a}function bf(a){for(;a&&a.Ta;)a=a.next;return a}function af(a){if(a)for(;a.next;)a=a.next;return a}function gf(a){var b=a;if(b){do b=b.next;while(b!=a&&(!b.Ta||b.Ta&&b.pe))}return b}function ff(a){var b=af(a);b.fb.next=a;a.fb=b.fb}
function cf(a,b,c,d,e,f){var g,h,k,l=b.x-a.x,m=b.y-a.y;g=d.x-c.x;var p=d.y-c.y;h=l*p-m*g;if(!h)return 0;g=((c.x-a.x)*p-(c.y-a.y)*g)/h;h=(m*(c.x-a.x)-l*(c.y-a.y))/h;if(0>g||1<g||0>h||1<h)return 0;0===g?k=a:1===g?k=b:0===h?k=c:1===h&&(k=d);if(k&&!f)return k.x+=va()/1E4,k.y+=va()/1E4,k.Gd&&(k.Gd.x=k.x,k.Gd.y=k.y),cf(a,b,c,d,e);e.Ai=a.x+g*l;e.Bi=a.y+g*m;e.uh=g;e.Vf=h;return 1}
function ef(a,b,c){var d,e=0,f={},g,h,k,l,m,p;c=c||a.y;d=$e(-123123123,c);Array.isArray(b)?(k=0,g=b[k],l=function(){return b[++k]}):(m=g=b,l=function(){return m=m.next});for(;p=l();){h=cf(d,a,g,p,f,!0);g=f.Vf;if(0===g||1===g)return ef(a,b,c+va()/1E4);h&&e++;g=p}return e%2}function df(a,b,c){for(b=b.next;b!==c&&b.alpha<=a.alpha;)b=b.next;a.next=b;a.fb=b.fb;a.next.fb=a;a.fb.next=a}function Ze(a){for(var b,c=null,d=0,e=a.length;d<e;d++){b=$e(a[d].x,a[d].y,c);if(b.next=c)c.fb=b;c=b}return c};function dk(a,b,c,d,e){void 0===d&&(d=0,e=a.length-1);for(var f,g=b*b,h=0,k=d,l=a[d].x,m=a[d].y,p=a[e].x,r=a[e].y,t=d+1,u,y=l!==p?(r-m)/(p-l):null;t<e;)u=a[t++],f=u.x,u=u.y,h<(f=wa(null!==y?Ga(Ba(u-y*f-(m-y*l)),2)/(Ga(y,2)+1):Ba(f-l),Ga(f-l,2)+Ga(u-m,2),Ga(f-p,2)+Ga(u-r,2)))&&(h=f,k=t-1);h>=g||0<c&&k-d?(d=dk(a,b,c=(c||0)-1,d,k),d.splice(d.length-1,1),d=d.concat(dk(a,b,c,k,e))):d=[a[d],a[e]];return d};function ek(a,b,c,d,e,f,g,h){ek.A.constructor.call(this,b,c,d,null);this.key=a;this.M=h;this.b=e;1!==f&&(this.Ob=f);this.g={};this.zL=g}v(ek,Tf);q("H.map.provider.SpatialTile",ek);ek.prototype.f=Xa;ek.prototype.s=Xa;ek.prototype.c=Xa;function fk(a){return a.M.getInvalidations(ne.SPATIAL)}
function gk(a){var b=fk(a),c=b.Wa,d=a.f,e=d===c,f,g,h,k,l,m;if(!(e||b.i(d)||b.f(d))){e=a.a;f=a.g;if(b.b(d))for(g=e.length;g--;)h=e[g],h.i().b(d)&&(e.splice(g,1),k=k||hk(a,h.pa()));if(b.g(d)){for(g=e.length;g--;)if(h=e[g],h.i().g(d)&&(l=1,(h=f[h.pa()])&&h.a)){k=1;break}l&&e.sort(ik)}if(!k&&b.a(d))for(g=e.length;g--;)if(e[g].i().a(d)){m=1;break}a.s!==d||m||(a.s=c,a.c!==d||k||(a.c=c));a.f=c;e=!0}return e}ek.prototype.Md=function(){var a=fk(this).Wa,b=this.c===a;b||gk(this)&&(b=this.c===a);return b};
ek.prototype.isCanvasValid=ek.prototype.Md;Object.defineProperty(ek.prototype,"valid",{get:function(){return this.Md()},set:bc,configurable:!0});function jk(a,b){this.b=a;this.a=b}function hk(a,b){var c=a.g,d=c[b];if(d)return delete c[b],d.a}ek.prototype.a=ae;function ik(a,b){return pe(oe(a),oe(b),!1)}ek.prototype.I=function(){return this.a};ek.prototype.getObjects=ek.prototype.I;var kk={};
ek.prototype.l=function(){var a=this.b+"_"+this.Ob,b=kk[a],c;b||(b=-Aa(Ee.MAX_LINE_WIDTH/2*this.Ob+1),c=this.b-b,b=kk[a]=new gg(b,b,c,c));return b};ek.prototype.getPxClipRect=ek.prototype.l;ek.prototype.j=function(){var a=this.Ua,b,c;a||(c=this.o(),a=0,b=this.b,this.z&&(b-=a+=this.l().top),a=this.Ua=ve(c.a(new L(a,a)),c.a(new L(b,b))));return a};ek.prototype.getGeoClipRect=ek.prototype.j;
ek.prototype.o=function(){var a=this.O,b;a||(b=this.b,a=this.O=new bg(A,b),a.Ha(this.z),a.x=this.x*b,a.y=this.y*b);return a};ek.prototype.getPxProj=ek.prototype.o;ek.prototype.Ob=1;ek.prototype.L=function(){return this.Ob};ek.prototype.getPixelRatio=ek.prototype.L;ek.prototype.S=function(){var a=this.data;this.data=null;this.c=Xa;return a};ek.prototype.releaseCanvas=ek.prototype.S;ek.prototype.m=function(){this.g={};delete this.a;this.f=Xa};ek.prototype.releaseData=ek.prototype.m;
ek.prototype.ca=function(a){var b=a.getContext("2d"),c,d,e,f,g,h,k,l,m=k=0;c=fk(this).Wa;d=this.f;e=this.a;if(!gk(this)){for(k=e.length;k--;)g=e[k],f=g.i(),(f.b(d)||f.f(d))&&hk(this,g.pa());this.a=this.M.requestSpatialsByTile(this,!1,!1).sort(ik);this.f=c}if(this.c<this.f){c=this.a;if(d=c.length)for(a.width=a.height=this.b,b.clearRect(0,0,this.b,this.b),e=this.g,f=0;f<d;f++){g=c[f];h=g.pa();if(k=e[h])l=k.b,g.i().a(this.c)&&(k.a=Me(g,l)),k=k.a;else{l=g.getGeometry(this);k=Me(g,l);this.g[h]=new jk(l,
k);h=l;for(var p=g.l?2:0,r=h.length;r--;)h[r]=dk(h[r],.6,p)}if(k){b.save();h=g.l?this.N:this.U;h.call(this,g,l,g.ua(),b);if(l=g.getLabels(this)){g=b;h=l.length;for(var t=r=r=void 0,p=p=void 0;h--;)for(r=l[h],p=r.size,g.font=p+"px "+r.font,g.fillStyle=r.color,g.textAlign="center",g.translate(r.x,r.y),g.rotate(r.angle),p=r.lineHeight||1.375*p,r=r.lines,t=r.length;t--;)g.fillText(r[t],0,t*p)}b.restore()}m|=k}this.data=m?a:null;this.s=this.c=this.f}else this.data&&(m=1);return 0<m};
ek.prototype.render=ek.prototype.ca;ek.prototype.U=function(a,b,c,d){var e;c.b&&(lk(d,c,this.Ob),mk(b,d,!1,!0,!1));c.a&&(e=a.m)&&e.jd&&(nk(d,e),ok(this,d,b,e,c.lineWidth))};
ek.prototype.N=function(a,b,c,d){var e=c.c,f=c.b,g,h;if(b===a.U)e&&(nk(d,c),d.fillRect(0,0,this.b,this.b));else if(f&&lk(d,c,this.Ob),c.a&&(g=a.m)&&(h=c.lineWidth,g.jd||(g=null)),a=a.getHybridIdx(this),0>a){if(f||e)nk(d,c),mk(b,d,!0,f,e);g&&(nk(d,g),ok(this,d,b,g,h,0))}else e&&(nk(d,c),mk(b,d,!0,!1,e,0,a)),f&&mk(b,d,!1,f,!1,a),g&&(nk(d,g),ok(this,d,b,g,h,a))};
function mk(a,b,c,d,e,f,g){var h,k,l,m;g===A&&(g=a.length);for(f=f||0;f<g;f++)if(h=a[f],k=h.length){b.beginPath();l=h[0];b.moveTo(l.x,l.y);for(m=1;m<k;m++)l=h[m],b.lineTo(l.x,l.y);c&&(b.closePath(),e&&b.fill());d&&b.stroke()}}function lk(a,b,c){var d;a.strokeStyle=b.strokeColor;a.lineWidth=b.lineWidth*c;a.lineCap=b.lineCap;a.lineJoin=b.lineJoin;a.miterLimit=b.miterLimit;a.setLineDash&&(d=b.lineDash)!==ae&&(a.setLineDash(d),a.lineDashOffset=b.lineDashOffset)}
function nk(a,b){a.fillStyle=b.fillColor}
function ok(a,b,c,d,e,f){var g=e*d.width/2;e=e*d.length/2;var h=e/2;d=2*e*d.frequency;var k=Fa(Ga(e,2)+Ga(g,2));a=a.b-k;a=new gg(k,k,a,a);var l,m,p,r,t,u,y,K,X,ra,aa,bb=Pa/2;f=f||0;for(k=c.length;k-- >f;){u=0;l=c[k];if(r=m=l.length){p=l;r=p.length;for(t=0;--r;)t+=p[r].distance(p[r-1]);r=(p=t)>=d}if(r)for(r=wa(za(p/d),1E3),r=p/(r+1),t=r/2;--m;){for(y=(K=l[m]).distance(X=l[m-1]);t<=u+y;)aa=K.x+(X.x-K.x)*(ra=(t-u)/y),ra=K.y+(X.y-K.y)*ra,a.a(aa,ra)&&(b.save(),b.translate(aa,ra),b.rotate(-Ma((X.y-K.y)/
(K.x-X.x))+(K.x<X.x?bb:-bb)),b.beginPath(),b.moveTo(-g,-e),b.lineTo(0,e),b.lineTo(g,-e),b.lineTo(0,-h),b.closePath(),b.fill(),b.restore()),t+=r;u+=y}}}var pk=[];
ek.prototype.Ea=function(a,b,c){for(var d=this.a,e=d.length,f,g,h,k,l=ae,m,p,r,t,u,y,K=this.Ob;e--;)if(f=d[e],g=this.g[f.pa()])if(g=g.b,g!==f.v&&f.getVisibility(!0)){h=f.ua();k="none"!==h.fillColor&&f.l;if(g===f.U)k&&(l===ae&&(l=[]),l.push(f));else if(h="none"!==h.strokeColor?h.lineWidth*K:0,k||h)for(m=f.getHybridIdx(this),p=0<=m,r=g.length;r--;){t=g[r];u=t.length;pk.length=2*u;for(y=0;y<u;y++)pk[2*y]=t[y].x,pk[2*y+1]=t[y].y;t=p&&r>=m?!1:k;u=p&&r<m?0:h;if((t||u)&&0!==fb(a,b,pk,u,t)){l===ae&&(l=[]);
l.push(f);break}}if(c&&l.length)break}return l};function qk(a,b){var c,d;qk.A.constructor.call(this,b);this.B=a;this.F=c=b.pixelRatio;this.tileSize=d=1<<ya(Ya((b.tileSize||256)*c));this.I=Mf(d,c);this.We=z(this.We,this);this.kf=z(this.kf,this);this.Xe=z(this.Xe,this);this.Ve=z(this.Ve,this);this.i=z(this.i,this);this.B.addEventListener(Jf.prototype.C.ba,this.i,!1,this);this.b=[];this.c=new Of(b.tileCacheSize||256,this.We);this.f=new Of(b.dataCacheSize||512,this.kf);this.l=new ak(20,this.Xe);this.a={};this.j=xi()}v(qk,Lf);
q("H.map.provider.SpatialTileProvider",qk);qk.prototype.i=function(a){a.target.type===ne.SPATIAL&&Kf(this,a.target)};qk.prototype.o=function(a,b,c,d){var e=this.getTileKey(a,b,c),f;if(f=this.c.get(e,d)){if(d||f.Md())return f;d||this.c.g(e)}if((f=this.f.get(e,d))&&(d||gk(f)))return a=this.b.pop()||document.createElement("canvas"),f.ca(a)||this.b.push(a),this.c.add(e,f,1),f;d||((f=this.a[e])?f.count++:(f=this.l.push([e,a,b,c],this.Ve),f.count=1,this.a[e]=f))};qk.prototype.requestTile=qk.prototype.o;
qk.prototype.M=function(a,b,c){this.u(this.getTileKey(a,b,c))};qk.prototype.cancelTile=qk.prototype.M;qk.prototype.u=function(a){var b;if(b=this.a[a])b.count--,b.count||(b.cancel(),delete this.a[a])};qk.prototype.cancelTileByKey=qk.prototype.u;n=qk.prototype;n.Xe=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],c=this.c.get(c)||new ek(c,d,e,f,this.tileSize,this.F,f+this.I,this.B),d=c.data||this.b.pop()||document.createElement("canvas");c.ca(d)||this.b.push(d);b.push(c);a.done(c)};
n.Ve=function(a,b){var c=a.data[0];b&&this.c.add(c,b,1);delete this.a[c];Kf(this)};n.We=function(a,b){b.data&&this.b.push(b.S());this.f.add(a,b,1)};n.kf=function(a,b){b.m()};n.D=function(){for(var a in this.a)this.a[a].cancel();this.c.Fa();this.f.Fa();this.b.length=0;qk.A.D.call(this)};function Wj(a){var b="getURL";if(!a||!la(a[b]))throw new C(Wj,0,"options."+b);Wj.A.constructor.call(this,a);this.B=this[b]=a[b];b="tileSize";this[b]=a[b]||256;this.entryWeight=this.tileSize;this.I={crossOrigin:a.crossOrigin};this.b=w.URL||w.webkitURL;if(!(a=!!this.I.crossOrigin)){a=this.B(0,0,0);var b=window.location,c=document.createElement("a");c.href=a;a=c.hostname===b.hostname&&c.port===b.port&&c.protocol===b.protocol}(this.L=a&&!!Zg.prototype.a.arraybuffer&&!!this.b)&&this.c().c(z(this.N,this))}
v(Wj,M);q("H.map.provider.ImageTileProvider",Wj);Wj.prototype.requestInternal=function(a,b,c,d,e,f){var g=this,h=this.B(a,b,c),k,l;a=null;h?(l=w.setTimeout(function(){g.L?(k=new Zg("arraybuffer",h,f),k.then(function(a){var b=new Image;b.onload=z(d,null,b,{oi:a});b.onerror=z(e,null,"bad url");try{b.src=g.b.createObjectURL(g.f(a))}catch(c){}},e)):k=(new Zg("image",h,f,g.I)).then(d,e)},150),a={cancel:function(){k?k.cancel(!0):w.clearTimeout(l)}}):d(null);return a};
Wj.prototype.U=function(a,b){var c=new Image;c.onload=function(){b(this)};c.src=this.b.createObjectURL(this.f(a))};Wj.prototype.f=function(a){var b=w.BlobBuilder||w.WebKitBlobBuilder||w.MozBlobBuilder,c=Wj.prototype;c.f=b?function(a){var c=new b;c.append(a);return c.getBlob("application/octet-stream")}:function(a){return new Blob([a],{type:"application/octet-stream"})};return c.f(a)};Wj.prototype.N=function(a,b){var c=b.data;c&&c instanceof HTMLImageElement&&this.b.revokeObjectURL(c.src)};function eg(a,b){var c=b||{};this.opacity=c.opacity||1;dg.call(this,a,c)}v(eg,dg);q("H.map.layer.TileLayer",eg);eg.prototype.b=function(a,b,c,d){if(!B(a,I))throw new C(this.b,0,a);if(D(b=+b))throw new C(this.b,1,b);var e;b=za(b);this.pixelProjection.Ha(b);a=this.f(a);e=this.c(a,b);return this.i(e,a.left>a.right,b,c,d)};eg.prototype.requestTiles=eg.prototype.b;eg.prototype.vb=function(){return"#"+this.uid+"{raster-opacity:"+this.opacity+";raster-enable:1;}"};function ui(a,b){var c=b||{};c.tileSize=c.tileSize||256;c.pixelRatio=c.pixelRatio||1;this.c=new qk(a,c);this.f=new eg(this.c,{opacity:1});c.minWorldSize=this.c.tileSize;ui.A.constructor.call(this,c);this.opacity=this.f.opacity;this.tileSize=this.f.tileSize;this.a=a;this.i=z(this.i,this);this.c.addEventListener(this.c.C.ba,this.i);a.addEventListener(a.C.ba,this.i)}v(ui,N);q("H.map.layer.ObjectLayer",ui);ui.prototype.i=function(a){a.currentTarget!==this.c&&a.target.type===ne.SPATIAL||this.s()};
var rk={markers:ae,total:0};ui.prototype.m=function(a,b,c){var d=this.a,e;return d.providesMarkers()&&(e=d.requestMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:rk};ui.prototype.requestMarkers=ui.prototype.m;ui.prototype.v=function(a,b,c){var d=this.a,e;return d.providesDomMarkers()&&(e=d.requestDomMarkers(a,b,!0,c)).length?{markers:e,total:e.length}:rk};ui.prototype.requestDomMarkers=ui.prototype.v;var sk={tiles:ae,total:0};
ui.prototype.b=function(a,b,c,d){var e;this.a.providesSpatials()?(e=this.f.b(a,b,c,d),c||(c=this.c,e=xi(),33<e-c.j&&(Xj(c.l),c.j=e),e=this.f.b(a,b,!0,d))):e=sk;return e};ui.prototype.requestTiles=ui.prototype.b;ui.prototype.B=function(a,b,c,d){return this.f.B(a,b,c,d)};ui.prototype.requestTile=ui.prototype.B;ui.prototype.o=function(a,b,c){this.f.o(a,b,c)};ui.prototype.cancelTile=ui.prototype.o;var tk={overlays:ae,total:0};
ui.prototype.u=function(a,b,c){var d=this.a,e=tk;d.providesOverlays&&d.providesOverlays()&&(a=d.requestOverlays(a,b,!0,c),b=a.length)&&(e={overlays:a,total:b});return e};ui.prototype.requestOverlays=ui.prototype.u;
ui.prototype.vb=function(){var a="\n#map-object_"+this.uid;return a+"_poi{marker-image:url(data:image/svg+xml;charset=utf-8,"+encodeURIComponent('<svg xmlns="https://www.w3.org/2000/svg" width="34px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>')+');marker-width: 34;marker-height: 36;marker-dy: -14;marker-dx: 3;marker-ontop: 1;marker-screensize:true;text-font:"fonts/pure/NokiaPureMaps_Regular.ttf";text-size:14;text-color:#2B2B2B;text-outline-color:#FFFFFF;text-outline-style:"OutlineAndFill";}'+
a+"_polyline{line-color:rgba(0,85,170,.6);line-width:2;line-screensize:true;}"+a+"_polygon{polygon-color:rgba(0,127,0,.4);}"};ui.prototype.D=function(){this.c.J();this.f.J();this.a.dispose();ui.A.D.call(this)};function R(a,b,c){R.A.constructor.call(this);this.N=z(R.prototype.N,this);this.i=uk(c,R);this.b=c=new Mi;this.u=!1;c.addEventListener(c.C.Zc,this.rb,!1,this);if(!B(a,Element))throw new C(R,0,a);c=this.a=a.ownerDocument.createElement("div");var d=c.style;d.position="relative";d.height=c.style.width="100%";d.overflow="hidden";d.webkitTapHighlightColor="transparent";"transparent"!==d.webkitTapHighlightColor&&(d.webkitTapHighlightColor="rgba(0,0,0,0)");a.appendChild(c);this.la=new Sj(this.a,this.i);this.la.addEventListener(this.la.C.Zc,
this.rb,!1,this);a=this.Z=new wh(this.i.layers);a.addEventListener(a.C.oc,this.Ba,!1,this);a.addEventListener(a.C.pb,this.Ba,!1,this);a.addEventListener(a.C.Hb,this.Ba,!1,this);this.m=new G;this.ia=new ui(this.m,this.i);this.ye(this.ia);this.g=null;this.Z.add(b,0);this.c=this.L(this.i.engineType||vk.P2D,this.i);b=this.i.center||new Qb(0,0);a=+this.i.zoom||0;c=this.i.bounds;this.B=z(this.B,this);this.O=z(this.O,this);B(c,I)?this.Ca(c):(this.ea(b),this.ra(a));b=this.i.imprint;if(b!==A&&"object"!==typeof b)throw new C(R,
1,"imprint");this.j=null===b?b:new Dh(this,b);b=this.i.autoColor;this.I=b===A||!!b;wk(this)}v(R,E);q("H.Map",R);function uk(a,b){var c;if(a)if(c=a.pixelRatio,c===A)a.pixelRatio=1;else{if(!(0<c))throw new C(b,0,"pixelRatio: "+c);}else a={pixelRatio:1};a.renderBaseBackground||(a.renderBaseBackground={lower:3,higher:2});return a}R.prototype.D=function(){this.I=!1;this.j&&this.j.J();this.ia.J();this.m.J();this.Z.J();this.b.J();this.la.J();this.c.J();de(this.a);this.a=null;E.prototype.D.call(this)};
R.prototype.xc=function(){return this.a};R.prototype.getElement=R.prototype.xc;R.prototype.s=function(){return this.i.pixelRatio};R.prototype.getPixelRatio=R.prototype.s;function wk(a){a.j&&a.I&&a.j.f({invert:a.g.wh})}function xk(a,b){var c;a&&(c=a.Ra())&&la(c.da)&&c.da(b)}
R.prototype.Ba=function(a){var b=a.added,c=a.removed;xk(b,this);xk(c,x);0===a.idx&&(this.dispatchEvent(new le(this.C.kh,this.g=a.type!==this.Z.C.Hb?b:0<this.Z.R.length?this.Z.get(0):x,a.type!==this.Z.C.pb?c:1<this.Z.R.length?this.Z.get(1):x)),wk(this))};R.prototype.rb=function(a){a.modifiers&&(this.u||(yk(this,"start"),this.u=!0),yk(this,"",a));this.u&&(this.qb&&w.clearTimeout(this.qb),this.qb=w.setTimeout(this.O,333))};
function yk(a,b,c){a.dispatchEvent(c?new qh(a.C.Pf,c.newValue,c.oldValue,c.modifiers):a.C.Pf+b)}R.prototype.O=function(){yk(this,"end");this.u=!1};R.prototype.ea=function(a,b){var c=this.c.tc();c.lookAt?this.b.ud({position:a},!!b):c.camera&&this.b.b({position:a},!!b);return this};R.prototype.setCenter=R.prototype.ea;R.prototype.Ja=function(){var a=this.b.vc()||this.b.a();return a?Sb(a.position):x};R.prototype.getCenter=R.prototype.Ja;R.prototype.ra=function(a,b){this.b.o(a,!!b);return this};
R.prototype.setZoom=R.prototype.ra;R.prototype.getZoom=function(){return this.b.getZoom()};R.prototype.getZoom=R.prototype.getZoom;R.prototype.Vc=function(a,b,c){this.c.Vc(a,b,c)};R.prototype.zoomAt=R.prototype.Vc;R.prototype.Ca=function(a,b){if(!B(a,I))throw new C(this.Ca,0,a);var c=this.c.L(a,!1);c.zoom=za(c.zoom);this.b.b(c,b);return this};R.prototype.setViewBounds=R.prototype.Ca;R.prototype.ga=function(){return this.c.ub(4,0)};R.prototype.getViewBounds=R.prototype.ga;
R.prototype.U=function(a){if(!B(a,I))throw new C(this.U,0,a);return this.c.L(a,!0)};R.prototype.getCameraDataForBounds=R.prototype.U;R.prototype.ec=function(){return this.la};R.prototype.getViewPort=R.prototype.ec;R.prototype.cc=function(){return this.b};R.prototype.getViewModel=R.prototype.cc;R.prototype.bc=function(){return this.Z};R.prototype.getLayers=R.prototype.bc;R.prototype.$b=function(){return this.j};R.prototype.getImprint=R.prototype.$b;
R.prototype.ta=function(a,b,c,d,e,f){var g=this.f(),h=g.tc(),k,l,m=this.j,p=this.i.pixelRatio;b=b||[];var r=this.la,t,u;if(!la(a))throw new C(this.ta,0,a);c=c||0;d=d||0;e=e||r.width;f=f||r.height;t=xa(0,wa(c,e));u=xa(0,wa(d,f));c=wa(r.width,xa(c,e));d=wa(r.height,xa(d,f));h.capture?(k=g.ta(t,u,c,d),l=k.getContext("2d"),k.style.width=k.width/p+"px",k.style.height=k.height/p+"px",b=b.concat(m).filter(function(a){return la(a&&a.capture)}),b.length?(g=function(a,b){return a.then(function(){return new zc(function(a,
c){l.save();b.capture(k,p,function(){l.restore();a(k)},c)})})},b.reduce(g,new zc(Bc,void 0)).then(z(a,this),z(a,this,null))):a(k)):a(null)};R.prototype.capture=R.prototype.ta;R.prototype.f=function(){return this.o||this.c};R.prototype.getEngine=R.prototype.f;R.prototype.F=function(a){this.c.type===a||this.Na||(this.Na=!0,this.o=this.L(a),this.o.addEventListener("render",this.B));return this};R.prototype.setEngineType=R.prototype.F;
R.prototype.B=function(a){a.target===this.o&&(this.o.removeEventListener("render",this.B),this.o.enter(),this.c.O(this.N))};R.prototype.N=function(){var a=this.c.type;this.c.J();this.c=this.o;this.o=A;this.Na=!1;this.dispatchEvent(new le(this.C.oh,this.c.type,a))};
R.prototype.L=function(a,b){var c=b?uk(b,this.L):this.i;if(a===vk.PANORAMA)return this.j&&this.I&&this.j.f({invert:!0}),new w.H.map.render.panorama.RenderEngine(this.la,this.b,this.Z,c);if(a===vk.P2D)return wk(this),new P(this.la,this.b,this.Z,c);if(a===vk.P3D)return wk(this),new Bj(this.la,this.b,this.Z,c);throw new C(this.F,0,a);};
R.prototype.M=function(a,b,c,d,e){var f;b=b!==A?B(b,I,this.M,1,b)&&b:this.ga();c=c!==A?+c:this.getZoom();d=d!==A?+d:this.getZoom();if(!(c<=d))throw new C(this.M,A,"!(min <= max)");e=e||this.g;if(!B(e,dg))throw new C(this.M,4);if(!(f=e.Ra())||!B(f,M)||!f.v())throw new Tb(this.constructor,"Storing is not supported");return new Uj(e,f,b,c,d,a)};R.prototype.storeContent=R.prototype.M;function zk(a){xh.call(this,a)}v(zk,xh);zk.prototype.f=function(){Ah(this,2)};zk.prototype.c=function(){Ah(this,4)};
R.prototype.Vb=function(a){a=new zk(a);ec().Ue(z(a.f,a),z(a.c,a));return a};R.prototype.clearContent=R.prototype.Vb;R.prototype.ye=function(a,b){-1===this.Z.indexOf(a)&&this.Z.add(a,D(b)?this.Z.R.length-1:b);return this};R.prototype.addLayer=R.prototype.ye;R.prototype.uf=function(a){var b=this.Z.indexOf(a);a!==this.g&&a!==this.ia&&-1!==b&&this.Z.b(b);return this};R.prototype.removeLayer=R.prototype.uf;R.prototype.Tb=function(a){this.g!==a&&(this.Z.set(0,a),this.g=a);return this};
R.prototype.setBaseLayer=R.prototype.Tb;R.prototype.Yb=function(){return this.g};R.prototype.getBaseLayer=R.prototype.Yb;R.prototype.l=function(a){if(!Rb(a))throw new C(this.l,0,a);return(a=this.c.Dc(a))?Zf(a):x};R.prototype.geoToScreen=R.prototype.l;R.prototype.wa=function(a,b){var c;if(c=+D(a)||2*D(b))throw new C(this.wa,c-1,arguments[c-1]);return(c=this.c.wa(a,b))?Sb(c):x};R.prototype.screenToGeo=R.prototype.wa;R.prototype.ob=function(a,b){return this.c.ld(a,b)};
R.prototype.screenToCameraData=R.prototype.ob;R.prototype.T=function(a){if(!B(a,F))throw new C(this.T,0,a);this.m.g.T(a);return a};R.prototype.addObject=R.prototype.T;R.prototype.ha=function(a){if(!B(a,F))throw new C(this.ha,0,a);this.m.g.ha(a);return a};R.prototype.removeObject=R.prototype.ha;R.prototype.Ac=function(){return this.m.g.v(!0)};R.prototype.getObjects=R.prototype.Ac;R.prototype.ib=function(a){var b,c;if(!wb(a))throw new C(this.ib,0,a);b=a.length;for(c=0;c<b;c++)this.T(a[c]);return this};
R.prototype.addObjects=R.prototype.ib;R.prototype.Pa=function(a){if(!B(a,Q)&&!wb(a))throw new C(this.Pa,0,a);a.forEach(this.ha,this);return this};R.prototype.removeObjects=R.prototype.Pa;R.prototype.v=function(a,b){var c;if(c=+D(a)||2*D(b))throw new C(this.v,c-1,arguments[c-1]);return this.c.Ea(a,b,!0)[0]||x};R.prototype.getObjectAt=R.prototype.v;R.prototype.Ea=function(a,b){var c;if(c=+D(a)||2*D(b))throw new C(this.v,c-1,arguments[c-1]);return this.c.Ea(a,b,!1)};R.prototype.getObjectsAt=R.prototype.Ea;
var Jh=0,vk={P2D:Jh,PANORAMA:1,P3D:2};R.EngineType=vk;R.prototype.C={Gi:"mapviewchangestart",Pf:"mapviewchange",Qf:"mapviewchangeend",kh:"baselayerchange",oh:"enginechange"};function Qj(a,b,c){this.b=z(this.b,this);F.call(this,c);this.o(a);this.m(b);this.f(c&&"opacity"in c?c.opacity:1)}v(Qj,F);q("H.map.Overlay",Qj);Qj.prototype.type=ne.OVERLAY;Qj.prototype.X=function(){return this.a};Qj.prototype.getBounds=Qj.prototype.X;Qj.prototype.o=function(a){var b=this.a,c=!b;B(a,I,Qj,0,a);if(c||!b.o(a))this.a=a,c||this.za(ke.SPATIAL);return this};Qj.prototype.setBounds=Qj.prototype.o;Qj.prototype.Lb=function(){return this.j.getData()};Qj.prototype.getBitmap=Qj.prototype.Lb;
Qj.prototype.m=function(a){var b=this.j;b&&1!==b.getState()&&b.cancel();this.j=new fh(a,this.b,!0);return this};Qj.prototype.setBitmap=Qj.prototype.m;Qj.prototype.b=function(a){1===a&&this.za(ke.VISUAL)};Qj.prototype.Kd=function(){return this.v};Qj.prototype.getOpacity=Qj.prototype.Kd;Qj.prototype.f=function(a){var b=this.v,c=2>b;a-=0;if(0<=a&&1>=a)a!==b&&(this.v=a,c&&this.za(ke.VISUAL));else throw new C(this.f,0);return this};Qj.prototype.setOpacity=Qj.prototype.f;function Ak(){return rg("mapsjs-core","1.0.0","fc21b62")}q("H.buildInfo",Ak);var Cj,Bk,Ck,Dk=w.document.currentScript;Dk?Bk=Dk:(Bk=w.document.querySelector('script[src*="H-"]'),Bk||(Ck=w.document.getElementsByTagName("script"),Bk=Ck[Ck.length-1]));Bk&&(Bk=Bk.src.split("/"),Bk.pop(),Bk=Bk.join("/")+"/");Cj=Bk;

this["maps" + "js"] = H;}());